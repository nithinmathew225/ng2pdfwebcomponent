var _h=Object.create;var Lr=Object.defineProperty,bh=Object.defineProperties,Eh=Object.getOwnPropertyDescriptor,wh=Object.getOwnPropertyDescriptors,Ah=Object.getOwnPropertyNames,xa=Object.getOwnPropertySymbols,Ch=Object.getPrototypeOf,Pa=Object.prototype.hasOwnProperty,Dh=Object.prototype.propertyIsEnumerable;var Ta=(t,e,n)=>e in t?Lr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ve=(t,e)=>{for(var n in e||={})Pa.call(e,n)&&Ta(t,n,e[n]);if(xa)for(var n of xa(e))Dh.call(e,n)&&Ta(t,n,e[n]);return t},Ke=(t,e)=>bh(t,wh(e));var Br=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var le=(t,e)=>()=>(t&&(e=t(t=0)),e);var ft=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Sh=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Ah(e))!Pa.call(t,r)&&r!==n&&Lr(t,r,{get:()=>e[r],enumerable:!(i=Eh(e,r))||i.enumerable});return t};var Ra=(t,e,n)=>(n=t!=null?_h(Ch(t)):{},Sh(e||!t||!t.__esModule?Lr(n,"default",{value:t,enumerable:!0}):n,t));var oe=(t,e,n)=>new Promise((i,r)=>{var s=f=>{try{u(n.next(f))}catch(p){r(p)}},a=f=>{try{u(n.throw(f))}catch(p){r(p)}},u=f=>f.done?i(f.value):Promise.resolve(f.value).then(s,a);u((n=n.apply(t,e)).next())});function be(t){let e=Oa;return Oa=t,e}function Ih(t){if(!($r(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vr)){if(!t.producerMustRecompute(t)&&!Hr(t)){t.dirty=!1,t.lastCleanEpoch=Vr;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vr}}function Fa(t){return t&&(t.nextProducerIndex=0),be(t)}function ka(t,e){if(be(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($r(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ur(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Hr(t){_i(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Ih(n),i!==n.version))return!0}return!1}function La(t){if(_i(t),$r(t))for(let e=0;e<t.producerNode.length;e++)Ur(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ur(t,e){if(Mh(t),_i(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Ur(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];_i(r),r.producerIndexOfThis[i]=e}}function $r(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _i(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Mh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xh(){throw new Error}function Ba(t){Th=t}var Oa,Vr,jr,Na,Th,Va=le(()=>{"use strict";Oa=null,Vr=1,jr=Symbol("SIGNAL");Na={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};Th=xh});function pe(t){return typeof t=="function"}var Xe=le(()=>{"use strict"});function bi(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wr=le(()=>{"use strict"});var Ei,ja=le(()=>{"use strict";Wr();Ei=bi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n})});function zt(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var wi=le(()=>{"use strict"});function Ai(t){return t instanceof ze||t&&"closed"in t&&pe(t.remove)&&pe(t.add)&&pe(t.unsubscribe)}function Ha(t){pe(t)?t():t.unsubscribe()}var ze,zr,an=le(()=>{"use strict";Xe();ja();wi();ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(pe(i))try{i()}catch(s){e=s instanceof Ei?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Ha(s)}catch(a){e=e??[],a instanceof Ei?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Ei(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ha(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zt(n,e)}remove(e){let{_finalizers:n}=this;n&&zt(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();zr=ze.EMPTY});var ot,Vn=le(()=>{"use strict";ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var ln,Gr=le(()=>{"use strict";ln={setTimeout(t,e,...n){let{delegate:i}=ln;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ln;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0}});function Ci(t){ln.setTimeout(()=>{let{onUnhandledError:e}=ot;if(e)e(t);else throw t})}var qr=le(()=>{"use strict";Vn();Gr()});function jn(){}var Yr=le(()=>{"use strict"});function $a(t){return Xr("E",void 0,t)}function Wa(t){return Xr("N",t,void 0)}function Xr(t,e,n){return{kind:t,value:e,error:n}}var Ua,za=le(()=>{"use strict";Ua=Xr("C",void 0,void 0)});function cn(t){if(ot.useDeprecatedSynchronousErrorHandling){let e=!Gt;if(e&&(Gt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Gt;if(Gt=null,n)throw i}}else t()}function Ga(t){ot.useDeprecatedSynchronousErrorHandling&&Gt&&(Gt.errorThrown=!0,Gt.error=t)}var Gt,Di=le(()=>{"use strict";Vn();Gt=null});function Kr(t,e){return Ph.call(t,e)}function Si(t){ot.useDeprecatedSynchronousErrorHandling?Ga(t):Ci(t)}function Rh(t){throw t}function Qr(t,e){let{onStoppedNotification:n}=ot;n&&ln.setTimeout(()=>n(t,e))}var qt,Ph,Zr,un,Oh,Jr=le(()=>{"use strict";Xe();an();Vn();qr();Yr();za();Gr();Di();qt=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ai(e)&&e.add(this)):this.destination=Oh}static create(e,n,i){return new un(e,n,i)}next(e){this.isStopped?Qr(Wa(e),this):this._next(e)}error(e){this.isStopped?Qr($a(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qr(Ua,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ph=Function.prototype.bind;Zr=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Si(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Si(i)}else Si(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Si(n)}}},un=class extends qt{constructor(e,n,i){super();let r;if(pe(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&ot.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Kr(e.next,s),error:e.error&&Kr(e.error,s),complete:e.complete&&Kr(e.complete,s)}):r=e}this.destination=new Zr(r)}};Oh={closed:!0,next:jn,error:Rh,complete:jn}});var dn,Ii=le(()=>{"use strict";dn=typeof Symbol=="function"&&Symbol.observable||"@@observable"});function Mi(t){return t}var es=le(()=>{"use strict"});function qa(t){return t.length===0?Mi:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Ya=le(()=>{"use strict";es()});function Xa(t){var e;return(e=t??ot.Promise)!==null&&e!==void 0?e:Promise}function Nh(t){return t&&pe(t.next)&&pe(t.error)&&pe(t.complete)}function Fh(t){return t&&t instanceof qt||Nh(t)&&Ai(t)}var xe,Vt=le(()=>{"use strict";Jr();an();Ii();Ya();Vn();Xe();Di();xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=Fh(n)?n:new un(n,i,r);return cn(()=>{let{operator:a,source:u}=this;s.add(a?a.call(s,u):u?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Xa(i),new i((r,s)=>{let a=new un({next:u=>{try{n(u)}catch(f){s(f),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[dn](){return this}pipe(...n){return qa(n)(this)}toPromise(n){return n=Xa(n),new n((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return t.create=e=>new t(e),t})()});function kh(t){return pe(t?.lift)}function Ge(t){return e=>{if(kh(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}var Ct=le(()=>{"use strict";Xe()});function qe(t,e,n,i,r){return new ts(t,e,n,i,r)}var ts,jt=le(()=>{"use strict";Jr();ts=class extends qt{constructor(e,n,i,r,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(u){try{n(u)}catch(f){e.error(f)}}:super._next,this._error=r?function(u){try{r(u)}catch(f){e.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}}});var Ka,Qa=le(()=>{"use strict";Wr();Ka=bi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})});var nt,xi,Ti=le(()=>{"use strict";Vt();an();Qa();wi();Di();nt=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new xi(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Ka}next(n){cn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){cn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){cn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?zr:(this.currentObservers=null,s.push(n),new ze(()=>{this.currentObservers=null,zt(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new xe;return n.source=this,n}}return t.create=(e,n)=>new xi(e,n),t})(),xi=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:zr}}});var Hn,Za=le(()=>{"use strict";Ti();Hn=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}});var Un,ns=le(()=>{"use strict";Un={now(){return(Un.delegate||Date).now()},delegate:void 0}});var $n,Ja=le(()=>{"use strict";Ti();ns();$n=class extends nt{constructor(e=1/0,n=1/0,i=Un){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;n||(i.push(e),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!e.closed;a+=i?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let a=n.now(),u=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)u=f;u&&i.splice(0,u+1)}}}});var Pi,el=le(()=>{"use strict";an();Pi=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}}});var Wn,tl=le(()=>{"use strict";Wn={setInterval(t,e,...n){let{delegate:i}=Wn;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Wn;return(e?.clearInterval||clearInterval)(t)},delegate:void 0}});var Ri,nl=le(()=>{"use strict";el();tl();wi();Ri=class extends Pi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Wn.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Wn.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zt(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}});var hn,il=le(()=>{"use strict";ns();hn=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};hn.now=Un.now});var Oi,rl=le(()=>{"use strict";il();Oi=class extends hn{constructor(e,n=hn.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}}});var sl,ol=le(()=>{"use strict";nl();rl();sl=new Oi(Ri)});var al,ll=le(()=>{"use strict";Vt();al=new xe(t=>t.complete())});function cl(t){return t&&pe(t.schedule)}var ul=le(()=>{"use strict";Xe()});function dl(t){return t[t.length-1]}function hl(t){return cl(dl(t))?t.pop():void 0}function fl(t,e){return typeof dl(t)=="number"?t.pop():e}var pl=le(()=>{"use strict";ul()});function ml(t,e,n,i){function r(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function u(c){try{p(i.next(c))}catch(o){a(o)}}function f(c){try{p(i.throw(c))}catch(o){a(o)}}function p(c){c.done?s(c.value):r(c.value).then(u,f)}p((i=i.apply(t,e||[])).next())})}function gl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(t){return this instanceof Yt?(this.v=t,this):new Yt(t)}function yl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(g){return function(h){return Promise.resolve(h).then(g,o)}}function u(g,h){i[g]&&(r[g]=function(d){return new Promise(function(v,y){s.push([g,d,v,y])>1||f(g,d)})},h&&(r[g]=h(r[g])))}function f(g,h){try{p(i[g](h))}catch(d){l(s[0][3],d)}}function p(g){g.value instanceof Yt?Promise.resolve(g.value.v).then(c,o):l(s[0][2],g)}function c(g){f("next",g)}function o(g){f("throw",g)}function l(g,h){g(h),s.shift(),s.length&&f(s[0][0],s[0][1])}}function vl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gl=="function"?gl(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(u,f){a=t[s](a),r(u,f,a.done,a.value)})}}function r(s,a,u,f){Promise.resolve(f).then(function(p){s({value:p,done:u})},a)}}var is=le(()=>{"use strict"});var fn,Ni=le(()=>{"use strict";fn=t=>t&&typeof t.length=="number"&&typeof t!="function"});function Fi(t){return pe(t?.then)}var rs=le(()=>{"use strict";Xe()});function ki(t){return pe(t[dn])}var ss=le(()=>{"use strict";Ii();Xe()});function Li(t){return Symbol.asyncIterator&&pe(t?.[Symbol.asyncIterator])}var os=le(()=>{"use strict";Xe()});function Bi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var as=le(()=>{"use strict"});function Lh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vi,ls=le(()=>{"use strict";Vi=Lh()});function ji(t){return pe(t?.[Vi])}var cs=le(()=>{"use strict";ls();Xe()});function Hi(t){return yl(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Yt(n.read());if(r)return yield Yt(void 0);yield yield Yt(i)}}finally{n.releaseLock()}})}function Ui(t){return pe(t?.getReader)}var $i=le(()=>{"use strict";is();Xe()});function Fe(t){if(t instanceof xe)return t;if(t!=null){if(ki(t))return Bh(t);if(fn(t))return Vh(t);if(Fi(t))return jh(t);if(Li(t))return _l(t);if(ji(t))return Hh(t);if(Ui(t))return Uh(t)}throw Bi(t)}function Bh(t){return new xe(e=>{let n=t[dn]();if(pe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vh(t){return new xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jh(t){return new xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ci)})}function Hh(t){return new xe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _l(t){return new xe(e=>{$h(t,e).catch(n=>e.error(n))})}function Uh(t){return _l(Hi(t))}function $h(t,e){var n,i,r,s;return ml(this,void 0,void 0,function*(){try{for(n=vl(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}var pt=le(()=>{"use strict";is();Ni();rs();Vt();ss();os();as();cs();$i();Xe();qr();Ii()});function it(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}var zn=le(()=>{"use strict"});function Wi(t,e=0){return Ge((n,i)=>{n.subscribe(qe(i,r=>it(i,t,()=>i.next(r),e),()=>it(i,t,()=>i.complete(),e),r=>it(i,t,()=>i.error(r),e)))})}var us=le(()=>{"use strict";zn();Ct();jt()});function zi(t,e=0){return Ge((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}var ds=le(()=>{"use strict";Ct()});function bl(t,e){return Fe(t).pipe(zi(e),Wi(e))}var El=le(()=>{"use strict";pt();us();ds()});function wl(t,e){return Fe(t).pipe(zi(e),Wi(e))}var Al=le(()=>{"use strict";pt();us();ds()});function Cl(t,e){return new xe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}var Dl=le(()=>{"use strict";Vt()});function Sl(t,e){return new xe(n=>{let i;return it(n,e,()=>{i=t[Vi](),it(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){n.error(a);return}s?n.complete():n.next(r)},0,!0)}),()=>pe(i?.return)&&i.return()})}var Il=le(()=>{"use strict";Vt();ls();Xe();zn()});function Gi(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(n=>{it(n,e,()=>{let i=t[Symbol.asyncIterator]();it(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}var hs=le(()=>{"use strict";Vt();zn()});function Ml(t,e){return Gi(Hi(t),e)}var xl=le(()=>{"use strict";hs();$i()});function Tl(t,e){if(t!=null){if(ki(t))return bl(t,e);if(fn(t))return Cl(t,e);if(Fi(t))return wl(t,e);if(Li(t))return Gi(t,e);if(ji(t))return Sl(t,e);if(Ui(t))return Ml(t,e)}throw Bi(t)}var Pl=le(()=>{"use strict";El();Al();Dl();Il();hs();ss();rs();Ni();cs();os();as();$i();xl()});function pn(t,e){return e?Tl(t,e):Fe(t)}var fs=le(()=>{"use strict";Pl();pt()});function Dt(t,e){return Ge((n,i)=>{let r=0;n.subscribe(qe(i,s=>{i.next(t.call(e,s,r++))}))})}var qi=le(()=>{"use strict";Ct();jt()});function zh(t,e){return Wh(e)?t(...e):t(e)}function Rl(t){return Dt(e=>zh(t,e))}var Wh,Ol=le(()=>{"use strict";qi();({isArray:Wh}=Array)});function Nl(t,e,n,i,r,s,a,u){let f=[],p=0,c=0,o=!1,l=()=>{o&&!f.length&&!p&&e.complete()},g=d=>p<i?h(d):f.push(d),h=d=>{s&&e.next(d),p++;let v=!1;Fe(n(d,c++)).subscribe(qe(e,y=>{r?.(y),s?g(y):e.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(p--;f.length&&p<i;){let y=f.shift();a?it(e,a,()=>h(y)):h(y)}l()}catch(y){e.error(y)}}))};return t.subscribe(qe(e,g,()=>{o=!0,l()})),()=>{u?.()}}var Fl=le(()=>{"use strict";pt();zn();jt()});function Gn(t,e,n=1/0){return pe(e)?Gn((i,r)=>Dt((s,a)=>e(i,s,r,a))(Fe(t(i,r))),n):(typeof e=="number"&&(n=e),Ge((i,r)=>Nl(i,r,t,n)))}var ps=le(()=>{"use strict";qi();pt();Ct();Fl();Xe()});function kl(t=1/0){return Gn(Mi,t)}var Ll=le(()=>{"use strict";ps();es()});function Ce(t,e,n,i){if(pe(n)&&(i=n,n=void 0),i)return Ce(t,e,n).pipe(Rl(i));let[r,s]=Qh(t)?qh.map(a=>u=>t[a](e,u,n)):Xh(t)?Gh.map(Bl(t,e)):Kh(t)?Yh.map(Bl(t,e)):[];if(!r&&fn(t))return Gn(a=>Ce(a,e,n))(Fe(t));if(!r)throw new TypeError("Invalid event target");return new xe(a=>{let u=(...f)=>a.next(1<f.length?f:f[0]);return r(u),()=>s(u)})}function Bl(t,e){return n=>i=>t[n](e,i)}function Xh(t){return pe(t.addListener)&&pe(t.removeListener)}function Kh(t){return pe(t.on)&&pe(t.off)}function Qh(t){return pe(t.addEventListener)&&pe(t.removeEventListener)}var Gh,qh,Yh,Vl=le(()=>{"use strict";pt();Vt();ps();Ni();Xe();Ol();Gh=["addListener","removeListener"],qh=["addEventListener","removeEventListener"],Yh=["on","off"]});function gs(...t){let e=hl(t),n=fl(t,1/0),i=t;return i.length?i.length===1?Fe(i[0]):kl(n)(pn(i,e)):al}var jl=le(()=>{"use strict";Ll();pt();ll();pl();fs()});function ms(t,e){return Ge((n,i)=>{let r=0;n.subscribe(qe(i,s=>t.call(e,s,r++)&&i.next(s)))})}var Hl=le(()=>{"use strict";Ct();jt()});var Ul=le(()=>{"use strict"});function ys(t,e=sl){return Ge((n,i)=>{let r=null,s=null,a=null,u=()=>{if(r){r.unsubscribe(),r=null;let p=s;s=null,i.next(p)}};function f(){let p=a+t,c=e.now();if(c<p){r=this.schedule(void 0,p-c),i.add(r);return}u()}n.subscribe(qe(i,p=>{s=p,a=e.now(),r||(r=e.schedule(f,t),i.add(r))},()=>{u(),i.complete()},void 0,()=>{s=r=null}))})}var $l=le(()=>{"use strict";ol();Ct();jt()});function vs(t,e){return Ge((n,i)=>{let r=null,s=0,a=!1,u=()=>a&&!r&&i.complete();n.subscribe(qe(i,f=>{r?.unsubscribe();let p=0,c=s++;Fe(t(f,c)).subscribe(r=qe(i,o=>i.next(e?e(f,o,c,p++):o),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var Wl=le(()=>{"use strict";pt();Ct();jt()});function De(t){return Ge((e,n)=>{Fe(t).subscribe(qe(n,()=>n.complete(),jn)),!n.closed&&e.subscribe(n)})}var zl=le(()=>{"use strict";Ct();jt();pt();Yr()});var Yi=le(()=>{"use strict";Ti();Za();Ja();an();fs();Vl();jl();Ul()});var Xi=le(()=>{"use strict";$l();Hl();qi();Wl();zl()});function vo(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Rc(t){return{toString:t}.toString()}function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ct).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Gl(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}function Oc(t){return t.__forward_ref__=Oc,t.toString=function(){return ct(this())},t}function lt(t){return Jh(t)?t():t}function Jh(t){return typeof t=="function"&&t.hasOwnProperty(Zh)&&t.__forward_ref__===Oc}function Pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _o(t){return{providers:t.providers||[],imports:t.imports||[]}}function bo(t){return ql(t,Nc)||ql(t,Fc)}function ql(t,e){return t.hasOwnProperty(e)?t[e]:null}function ef(t){let e=t&&(t[Nc]||t[Fc]);return e||null}function Yl(t){return t&&(t.hasOwnProperty(Xl)||t.hasOwnProperty(tf))?t[Xl]:null}function kc(t){return t&&!!t.\u0275providers}function of(t){return typeof t=="string"?t:t==null?"":String(t)}function af(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():of(t)}function lf(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _e(-200,t)}function Eo(t,e){throw new _e(-201,!1)}function Lc(){return xs}function gt(t){let e=xs;return xs=t,e}function Bc(t,e,n){let i=bo(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&me.Optional)return null;if(e!==void 0)return e;Eo(t,"Injector")}function pf(){return _n}function gn(t){let e=_n;return _n=t,e}function gf(t,e=me.Default){if(_n===void 0)throw new _e(-203,!1);return _n===null?Bc(t,void 0,e):_n.get(t,e&me.Optional?null:void 0,e)}function we(t,e=me.Default){return(Lc()||gf)(lt(t),e)}function ke(t,e=me.Default){return we(t,_r(e))}function _r(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ts(t){let e=[];for(let n=0;n<t.length;n++){let i=lt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new _e(900,!1);let r,s=me.Default;for(let a=0;a<i.length;a++){let u=i[a],f=mf(u);typeof f=="number"?f===-1?r=u.token:s|=f:r=u}e.push(we(r,s))}else e.push(we(i))}return e}function mf(t){return t[uf]}function yf(t,e,n,i){let r=t[rr];throw e[Zl]&&r.unshift(e[Zl]),t.message=vf(`
`+t.message,r,n,i),t[df]=r,t[rr]=null,t}function vf(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ff?t.slice(2):t;let r=ct(e);if(Array.isArray(e))r=e.map(ct).join(" -> ");else if(typeof e=="object"){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let u=e[a];s.push(a+":"+(typeof u=="string"?JSON.stringify(u):ct(u)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(hf,`
  `)}`}function Xn(t,e){let n=t.hasOwnProperty(Kl);return n?t[Kl]:null}function _f(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function bf(t){return t.flat(Number.POSITIVE_INFINITY)}function wo(t,e){t.forEach(n=>Array.isArray(n)?wo(n,e):e(n))}function Vc(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sr(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ef(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function Ps(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],a=n[i++],u=n[i++];t.setAttribute(e,a,u,s)}else{let s=r,a=n[++i];Af(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),i++}}return i}function wf(t){return t===3||t===4||t===6}function Af(t){return t.charCodeAt(0)===64}function Ao(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Jl(t,n,r,null,e[++i]):Jl(t,n,r,null,null))}}return t}function Jl(t,e,n,i,r){let s=0,a=t.length;if(e===-1)a=-1;else for(;s<t.length;){let u=t[s++];if(typeof u=="number"){if(u===e){a=-1;break}else if(u>e){a=s-1;break}}}for(;s<t.length;){let u=t[s];if(typeof u=="number")break;if(u===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}a!==-1&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}function Cf(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Ef(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Co(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Co(t){return t.type===4&&t.value!==$c}function Df(t,e,n){let i=t.type===4&&!n?$c:t.value;return e===i}function Sf(t,e,n){let i=4,r=t.attrs,s=r!==null?xf(r):0,a=!1;for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="number"){if(!a&&!at(i)&&!at(f))return!1;if(a&&at(f))continue;a=!1,i=f|i&1;continue}if(!a)if(i&4){if(i=2|i&1,f!==""&&!Df(t,f,n)||f===""&&e.length===1){if(at(i))return!1;a=!0}}else if(i&8){if(r===null||!Cf(t,r,f,n)){if(at(i))return!1;a=!0}}else{let p=e[++u],c=If(f,r,Co(t),n);if(c===-1){if(at(i))return!1;a=!0;continue}if(p!==""){let o;if(c>s?o="":o=r[c+1].toLowerCase(),i&2&&p!==o){if(at(i))return!1;a=!0}}}}return at(i)||a}function at(t){return(t&1)===0}function If(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)s=!0;else if(a===1||a===2){let u=e[++r];for(;typeof u=="string";)u=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=s?1:2}return-1}else return Tf(e,t)}function Mf(t,e,n=!1){for(let i=0;i<e.length;i++)if(Sf(t,e[i],n))return!0;return!1}function xf(t){for(let e=0;e<t.length;e++){let n=t[e];if(wf(n))return e}return t.length}function Tf(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function ec(t,e){return t?":not("+e.trim()+")":e}function Pf(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let u=t[++n];r+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!at(a)&&(e+=ec(s,r),r=""),i=a,s=s||!at(i);n++}return r!==""&&(e+=ec(s,r)),e}function Rf(t){return t.map(Pf).join(",")}function Of(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!at(r))break;r=s}i++}return{attrs:e,classes:n}}function br(t){return Rc(()=>{let e=Lf(t),n=Ke(Ve({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Uc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});Bf(n);let i=t.dependencies;return n.directiveDefs=nc(i,!1),n.pipeDefs=nc(i,!0),n.id=Vf(n),n})}function Nf(t){return wn(t)||Wc(t)}function Ff(t){return t!==null}function Do(t){return Rc(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function tc(t,e){if(t==null)return Kn;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,a,u=je.None;Array.isArray(r)?(u=r[0],s=r[1],a=r[2]??s):(s=r,a=r),e?(n[s]=u!==je.None?[i,u]:i,e[s]=a):n[s]=i}return n}function wn(t){return t[nf]||null}function Wc(t){return t[rf]||null}function zc(t){return t[sf]||null}function kf(t){let e=wn(t)||Wc(t)||zc(t);return e!==null?e.standalone:!1}function Lf(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Kn,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tc(t.inputs,e),outputs:tc(t.outputs),debugInfo:null}}function Bf(t){t.features?.forEach(e=>e(t))}function nc(t,e){if(!t)return null;let n=e?zc:Nf;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(Ff)}function Vf(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gc(t){return{\u0275providers:t}}function jf(...t){return{\u0275providers:qc(!0,t),\u0275fromNgModule:!0}}function qc(t,...e){let n=[],i=new Set,r,s=a=>{n.push(a)};return wo(e,a=>{let u=a;Rs(u,s,[],i)&&(r||=[],r.push(u))}),r!==void 0&&Yc(r,s),n}function Yc(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];So(r,s=>{e(s,i)})}}function Rs(t,e,n,i){if(t=lt(t),!t)return!1;let r=null,s=Yl(t),a=!s&&wn(t);if(!s&&!a){let f=t.ngModule;if(s=Yl(f),s)r=f;else return!1}else{if(a&&!a.standalone)return!1;r=t}let u=i.has(r);if(a){if(u)return!1;if(i.add(r),a.dependencies){let f=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let p of f)Rs(p,e,n,i)}}else if(s){if(s.imports!=null&&!u){i.add(r);let p;try{wo(s.imports,c=>{Rs(c,e,n,i)&&(p||=[],p.push(c))})}finally{}p!==void 0&&Yc(p,e)}if(!u){let p=Xn(r)||(()=>new r);e({provide:r,useFactory:p,deps:mt},r),e({provide:Hc,useValue:r,multi:!0},r),e({provide:Qn,useValue:()=>we(r),multi:!0},r)}let f=s.providers;if(f!=null&&!u){let p=t;So(f,c=>{e(c,p)})}}else return!1;return r!==t&&t.providers!==void 0}function So(t,e){for(let n of t)kc(n)&&(n=n.\u0275providers),Array.isArray(n)?So(n,e):e(n)}function Xc(t){return t!==null&&typeof t=="object"&&Hf in t}function Uf(t){return!!(t&&t.useExisting)}function $f(t){return!!(t&&t.useFactory)}function Os(t){return typeof t=="function"}function Io(){return _s===void 0&&(_s=new or),_s}function Ns(t){let e=bo(t),n=e!==null?e.factory:Xn(t);if(n!==null)return n;if(t instanceof Se)throw new _e(204,!1);if(t instanceof Function)return zf(t);throw new _e(204,!1)}function zf(t){if(t.length>0)throw new _e(204,!1);let n=ef(t);return n!==null?()=>n.factory(t):()=>new t}function Gf(t){if(Xc(t))return mn(void 0,t.useValue);{let e=qf(t);return mn(e,Zi)}}function qf(t,e,n){let i;if(Os(t)){let r=lt(t);return Xn(r)||Ns(r)}else if(Xc(t))i=()=>lt(t.useValue);else if($f(t))i=()=>t.useFactory(...Ts(t.deps||[]));else if(Uf(t))i=()=>we(lt(t.useExisting));else{let r=lt(t&&(t.useClass||t.provide));if(Yf(t))i=()=>new r(...Ts(t.deps));else return Xn(r)||Ns(r)}return i}function mn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yf(t){return!!t.deps}function Xf(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Kf(t){return typeof t=="function"||typeof t=="object"&&t instanceof Se}function Fs(t,e){for(let n of t)Array.isArray(n)?Fs(n,e):n&&kc(n)?Fs(n.\u0275providers,e):e(n)}function Qf(){return Lc()!==void 0||pf()!=null}function Zf(t){return typeof t=="function"}function bn(t){return Array.isArray(t)&&typeof t[Qc]=="object"}function Rt(t){return Array.isArray(t)&&t[Qc]===!0}function Zc(t){return(t.flags&4)!==0}function Ar(t){return t.componentOffset>-1}function Jc(t){return(t.flags&1)===1}function ai(t){return!!t.template}function Jf(t){return(t[fe]&512)!==0}function eu(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function xo(){return tu}function tu(t){return t.type.prototype.ngOnChanges&&(t.setInput=tp),ep}function ep(){let t=iu(this),e=t?.current;if(e){let n=t.previous;if(n===Kn)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function tp(t,e,n,i,r){let s=this.declaredInputs[i],a=iu(t)||np(t,{previous:Kn,current:null}),u=a.current||(a.current={}),f=a.previous,p=f[s];u[s]=new ei(p&&p.currentValue,n,f===Kn),eu(t,e,r,n)}function iu(t){return t[nu]||null}function np(t,e){return t[nu]=e}function op(){return sp}function Mt(t){for(;Array.isArray(t);)t=t[Pt];return t}function ht(t,e){return Mt(e[t.index])}function ru(t,e){return t.data[e]}function tn(t,e){let n=e[t];return bn(n)?n:n[Pt]}function ap(t){return(t[fe]&4)===4}function To(t){return(t[fe]&128)===128}function lp(t){return Rt(t[He])}function sc(t,e){return e==null?null:t[e]}function su(t){t[yn]=0}function cp(t){t[fe]&1024||(t[fe]|=1024,To(t)&&ti(t))}function Po(t){return!!(t[fe]&9216||t[Qt]?.dirty)}function ks(t){t[bt].changeDetectionScheduler?.notify(1),Po(t)?ti(t):t[fe]&64&&(op()?(t[fe]|=1024,ti(t)):t[bt].changeDetectionScheduler?.notify())}function ti(t){t[bt].changeDetectionScheduler?.notify();let e=ni(t);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!To(e)));)e=ni(e)}function ou(t,e){if((t[fe]&256)===256)throw new _e(911,!1);t[Ht]===null&&(t[Ht]=[]),t[Ht].push(e)}function up(t,e){if(t[Ht]===null)return;let n=t[Ht].indexOf(e);n!==-1&&t[Ht].splice(n,1)}function ni(t){let e=t[He];return Rt(e)?e[He]:e}function dp(){return Ee.lFrame.elementDepthCount}function hp(){Ee.lFrame.elementDepthCount++}function fp(){Ee.lFrame.elementDepthCount--}function au(){return Ee.bindingsEnabled}function pp(){return Ee.skipHydrationRootTNode!==null}function gp(t){return Ee.skipHydrationRootTNode===t}function mp(){Ee.skipHydrationRootTNode=null}function Ue(){return Ee.lFrame.lView}function nn(){return Ee.lFrame.tView}function wt(){let t=lu();for(;t!==null&&t.type===64;)t=t.parent;return t}function lu(){return Ee.lFrame.currentTNode}function yp(){let t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ro(t,e){let n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function cu(){return Ee.lFrame.isParent}function vp(){Ee.lFrame.isParent=!1}function _p(t){return Ee.lFrame.bindingIndex=t}function uu(){return Ee.lFrame.bindingIndex++}function bp(){return Ee.lFrame.inI18n}function Ep(t,e){let n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ls(e)}function wp(){return Ee.lFrame.currentDirectiveIndex}function Ls(t){Ee.lFrame.currentDirectiveIndex=t}function du(){return Ee.lFrame.currentQueryIndex}function Oo(t){Ee.lFrame.currentQueryIndex=t}function Ap(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[dt]:null}function hu(t,e,n){if(n&me.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&me.Host);)if(r=Ap(s),r===null||(s=s[si],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=Ee.lFrame=fu();return i.currentTNode=e,i.lView=t,!0}function No(t){let e=fu(),n=t[ge];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fu(){let t=Ee.lFrame,e=t===null?null:t.child;return e===null?pu(t):e}function pu(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function gu(){let t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}function Fo(){let t=gu();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cp(){return Ee.lFrame.selectedIndex}function Jt(t){Ee.lFrame.selectedIndex=t}function yu(){let t=Ee.lFrame;return ru(t.tView,t.selectedIndex)}function Dp(){return Ee.lFrame.currentNamespace}function Sp(){return vu}function Ip(t){vu=t}function Mp(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let a=tu(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function _u(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:u,ngAfterViewInit:f,ngAfterViewChecked:p,ngOnDestroy:c}=s;a&&(t.contentHooks??=[]).push(-n,a),u&&((t.contentHooks??=[]).push(n,u),(t.contentCheckHooks??=[]).push(n,u)),f&&(t.viewHooks??=[]).push(-n,f),p&&((t.viewHooks??=[]).push(n,p),(t.viewCheckHooks??=[]).push(n,p)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function Ji(t,e,n){bu(t,e,3,n)}function er(t,e,n,i){(t[fe]&3)===n&&bu(t,e,n,i)}function Es(t,e){let n=t[fe];(n&3)===e&&(n&=16383,n+=1,t[fe]=n)}function bu(t,e,n,i){let r=i!==void 0?t[yn]&65535:0,s=i??-1,a=e.length-1,u=0;for(let f=r;f<a;f++)if(typeof e[f+1]=="number"){if(u=e[f],i!=null&&u>=i)break}else e[f]<0&&(t[yn]+=65536),(u<s||s==-1)&&(xp(t,n,e,f),t[yn]=(t[yn]&4294901760)+f+2),f++}function oc(t,e){yt(4,t,e);let n=be(null);try{e.call(t)}finally{be(n),yt(5,t,e)}}function xp(t,e,n,i){let r=n[i]<0,s=n[i+1],a=r?-n[i]:n[i],u=t[a];r?t[fe]>>14<t[yn]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,oc(u,s)):oc(u,s)}function Tp(t){return t instanceof ii}function Pp(t){return(t.flags&8)!==0}function Rp(t){return(t.flags&16)!==0}function Eu(t){return t!==En}function ur(t){return t&32767}function Op(t){return t>>16}function dr(t,e){let n=Op(t),i=e;for(;n>0;)i=i[si],n--;return i}function ac(t){let e=Bs;return Bs=t,e}function kp(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(qn)&&(i=n[qn]),i==null&&(i=n[qn]=Fp++);let r=i&wu,s=1<<r;e.data[t+(r>>Au)]|=s}function Cu(t,e){let n=Du(t,e);if(n!==-1)return n;let i=e[ge];i.firstCreatePass&&(t.injectorIndex=e.length,ws(i.data,t),ws(e,null),ws(i.blueprint,null));let r=ko(t,e),s=t.injectorIndex;if(Eu(r)){let a=ur(r),u=dr(r,e),f=u[ge].data;for(let p=0;p<8;p++)e[s+p]=u[a+p]|f[a+p]}return e[s+8]=r,s}function ws(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Du(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ko(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Tu(r),i===null)return En;if(n++,r=r[si],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return En}function Lp(t,e,n){kp(t,e,n)}function Su(t,e,n){if(n&me.Optional||t!==void 0)return t;Eo(e,"NodeInjector")}function Iu(t,e,n,i){if(n&me.Optional&&i===void 0&&(i=null),!(n&(me.Self|me.Host))){let r=t[An],s=gt(void 0);try{return r?r.get(e,i,n&me.Optional):Bc(e,i,n&me.Optional)}finally{gt(s)}}return Su(i,e,n)}function Mu(t,e,n,i=me.Default,r){if(t!==null){if(e[fe]&2048&&!(i&me.Self)){let a=Hp(t,e,n,i,vt);if(a!==vt)return a}let s=xu(t,e,n,i,vt);if(s!==vt)return s}return Iu(e,n,i,r)}function xu(t,e,n,i,r){let s=Vp(n);if(typeof s=="function"){if(!hu(e,t,i))return i&me.Host?Su(r,n,i):Iu(e,n,i,r);try{let a;if(a=s(i),a==null&&!(i&me.Optional))Eo(n);else return a}finally{mu()}}else if(typeof s=="number"){let a=null,u=Du(t,e),f=En,p=i&me.Host?e[Et][dt]:null;for((u===-1||i&me.SkipSelf)&&(f=u===-1?ko(t,e):e[u+8],f===En||!cc(i,!1)?u=-1:(a=e[ge],u=ur(f),e=dr(f,e)));u!==-1;){let c=e[ge];if(lc(s,u,c.data)){let o=Bp(u,e,n,a,i,p);if(o!==vt)return o}f=e[u+8],f!==En&&cc(i,e[ge].data[u+8]===p)&&lc(s,u,e)?(a=c,u=ur(f),e=dr(f,e)):u=-1}}return r}function Bp(t,e,n,i,r,s){let a=e[ge],u=a.data[t+8],f=i==null?Ar(u)&&Bs:i!=a&&(u.type&3)!==0,p=r&me.Host&&s===u,c=tr(u,a,n,f,p);return c!==null?Sn(e,a,c,u):vt}function tr(t,e,n,i,r){let s=t.providerIndexes,a=e.data,u=s&1048575,f=t.directiveStart,p=t.directiveEnd,c=s>>20,o=i?u:u+c,l=r?u+c:p;for(let g=o;g<l;g++){let h=a[g];if(g<f&&n===h||g>=f&&h.type===n)return g}if(r){let g=a[f];if(g&&ai(g)&&g.type===n)return f}return null}function Sn(t,e,n,i){let r=t[n],s=e.data;if(Tp(r)){let a=r;a.resolving&&lf(af(s[n]));let u=ac(a.canSeeViewProviders);a.resolving=!0;let f,p=a.injectImpl?gt(a.injectImpl):null,c=hu(t,i,me.Default);try{r=t[n]=a.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&Mp(n,s[n],e)}finally{p!==null&&gt(p),ac(u),a.resolving=!1,mu()}}return r}function Vp(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(qn)?t[qn]:void 0;return typeof e=="number"?e>=0?e&wu:jp:e}function lc(t,e,n){let i=1<<t;return!!(n[e+(t>>Au)]&i)}function cc(t,e){return!(t&me.Self)&&!(t&me.Host&&e)}function jp(){return new Kt(wt(),Ue())}function Hp(t,e,n,i,r){let s=t,a=e;for(;s!==null&&a!==null&&a[fe]&2048&&!(a[fe]&512);){let u=xu(s,a,n,i|me.Self,vt);if(u!==vt)return u;let f=s.parent;if(!f){let p=a[Kc];if(p){let c=p.get(n,vt,i);if(c!==vt)return c}f=Tu(a),a=a[si]}s=f}return r}function Tu(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[dt]:null}function uc(t,e=null,n=null,i){let r=Up(t,e,n,i);return r.resolveInjectorInitializers(),r}function Up(t,e=null,n=null,i,r=new Set){let s=[n||mt,jf(t)];return i=i||(typeof t=="object"?void 0:ct(t)),new ar(s,e||Io(),i||null,r)}function As(t){return t[$p]}function Wp(){return new Vs(Ue())}function zp(){return xn(wt(),Ue())}function xn(t,e){return new rn(ht(t,e))}function Gp(t){return t instanceof rn?t.nativeElement:t}function Cs(t){return e=>{setTimeout(t,void 0,e)}}function qp(){return this._results[Symbol.iterator]()}function Ou(t){return(t.flags&128)===128}function Xp(){return Yp++}function Kp(t){Nu.set(t[wr],t)}function Qp(t){Nu.delete(t[wr])}function In(t,e){bn(e)?(t[dc]=e[wr],Kp(e)):t[dc]=e}function Fu(t){return Lu(t[Jn])}function ku(t){return Lu(t[ut])}function Lu(t){for(;t!==null&&!Rt(t);)t=t[ut];return t}function Bu(t){Us=t}function Zp(){if(Us!==void 0)return Us;if(typeof document<"u")return document;throw new _e(210,!1)}function jo(t,e,n=!1){return ng(t,e,n)}function rg(){if(Ki===void 0&&(Ki=null,Xt.trustedTypes))try{Ki=Xt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ki}function Cr(t){return rg()?.createHTML(t)||t}function sn(t){return t instanceof Tt?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){let n=sg(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Pc})`)}return n===e}function sg(t){return t instanceof Tt&&t.getTypeName()||null}function ju(t){return new $s(t)}function Hu(t){return new Ws(t)}function Uu(t){return new zs(t)}function $u(t){return new Gs(t)}function Wu(t){return new qs(t)}function og(t){let e=new Xs(t);return ag()?new Ys(e):e}function ag(){try{return!!new window.DOMParser().parseFromString(Cr(""),"text/html")}catch{return!1}}function Ho(t){return t=String(t),t.match(lg)?t:"unsafe:"+t}function Ot(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ci(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}function mg(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function yg(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Xu(e);return e}function vg(t){let e=t.firstChild;if(e&&mg(t,e))throw Xu(e);return e}function fc(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Xu(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}function pc(t){return t.replace(/&/g,"&amp;").replace(_g,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(bg,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ku(t,e){let n=null;try{Qi=Qi||og(t);let i=e?String(e):"";n=Qi.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Qi.getInertBodyElement(i)}while(i!==s);let u=new Ks().sanitizeChildren(gc(n)||n);return Cr(u)}finally{if(n){let i=gc(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function gc(t){return"content"in t&&Eg(t)?t.content:null}function Eg(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}function Uo(t,e){return wg(t,e)}function vn(t,e,n,i,r){if(i!=null){let s,a=!1;Rt(i)?s=i:bn(i)&&(a=!0,i=i[Pt]);let u=Mt(i);t===0&&n!==null?r==null?td(e,n,u):hr(e,n,u,r||null,!0):t===1&&n!==null?hr(e,n,u,r||null,!0):t===2?Bg(e,u,a):t===3&&e.destroyNode(u),s!=null&&jg(e,t,s,n,r)}}function Qu(t,e,n){return t.createElement(e,n)}function Ag(t,e){Zu(t,e),e[Pt]=null,e[dt]=null}function Cg(t,e,n,i,r,s){i[Pt]=r,i[dt]=e,Dr(t,i,n,1,r,s)}function Zu(t,e){e[bt].changeDetectionScheduler?.notify(1),Dr(t,e,e[rt],2,null,null)}function Dg(t){let e=t[Jn];if(!e)return Ds(t[ge],t);for(;e;){let n=null;if(bn(e))n=e[Jn];else{let i=e[Je];i&&(n=i)}if(!n){for(;e&&!e[ut]&&e!==t;)bn(e)&&Ds(e[ge],e),e=e[He];e===null&&(e=t),bn(e)&&Ds(e[ge],e),n=e&&e[ut]}e=n}}function Sg(t,e,n,i){let r=Je+i,s=n.length;i>0&&(n[r-1][ut]=e),i<s-Je?(e[ut]=n[r],Vc(n,Je+i,e)):(n.push(e),e[ut]=null),e[He]=n;let a=e[oi];a!==null&&n!==a&&Ig(a,e);let u=e[It];u!==null&&u.insertView(t),ks(e),e[fe]|=128}function Ig(t,e){let n=t[Dn],r=e[He][He][Et];e[Et]!==r&&(t[fe]|=Mo.HasTransplantedViews),n===null?t[Dn]=[e]:n.push(e)}function Ju(t,e){let n=t[Dn],i=n.indexOf(e);n.splice(i,1)}function Qs(t,e){if(t.length<=Je)return;let n=Je+e,i=t[n];if(i){let r=i[oi];r!==null&&r!==t&&Ju(r,i),e>0&&(t[n-1][ut]=i[ut]);let s=sr(t,Je+e);Ag(i[ge],i);let a=s[It];a!==null&&a.detachView(s[ge]),i[He]=null,i[ut]=null,i[fe]&=-129}return i}function ed(t,e){if(!(e[fe]&256)){let n=e[rt];n.destroyNode&&Dr(t,e,n,3,null,null),Dg(e)}}function Ds(t,e){if(e[fe]&256)return;let n=be(null);try{e[fe]&=-129,e[fe]|=256,e[Qt]&&La(e[Qt]),xg(t,e),Mg(t,e),e[ge].type===1&&e[rt].destroy();let i=e[oi];if(i!==null&&Rt(e[He])){i!==e[He]&&Ju(i,e);let r=e[It];r!==null&&r.detachView(t)}Qp(e)}finally{be(n)}}function Mg(t,e){let n=t.cleanup,i=e[Zn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(e[Zn]=null);let r=e[Ht];if(r!==null){e[Ht]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}}function xg(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof ii)){let s=n[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let u=r[s[a]],f=s[a+1];yt(4,u,f);try{f.call(u)}finally{yt(5,u,f)}}else{yt(4,r,s);try{s.call(r)}finally{yt(5,r,s)}}}}}function Tg(t,e,n){return Pg(t,e.parent,n)}function Pg(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Pt];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===_t.None||s===_t.Emulated)return null}return ht(i,n)}}function hr(t,e,n,i,r){t.insertBefore(e,n,i,r)}function td(t,e,n){t.appendChild(e,n)}function mc(t,e,n,i,r){i!==null?hr(t,e,n,i,r):td(t,e,n)}function Rg(t,e,n,i){t.removeChild(e,n,i)}function $o(t,e){return t.parentNode(e)}function Og(t,e){return t.nextSibling(e)}function Ng(t,e,n){return kg(t,e,n)}function Fg(t,e,n){return t.type&40?ht(t,n):null}function Lg(t,e,n,i){let r=Tg(t,i,e),s=e[rt],a=i.parent||e[dt],u=Ng(a,i,e);if(r!=null)if(Array.isArray(n))for(let f=0;f<n.length;f++)mc(s,r,n[f],u,!1);else mc(s,r,n,u,!1);yc!==void 0&&yc(s,i,e,n,r)}function nr(t,e){if(e!==null){let n=e.type;if(n&3)return ht(e,t);if(n&4)return Zs(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return nr(t,i);{let r=t[e.index];return Rt(r)?Zs(-1,r):Mt(r)}}else{if(n&32)return Uo(e,t)()||Mt(t[e.index]);{let i=nd(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=ni(t[Et]);return nr(r,i)}else return nr(t,e.next)}}}return null}function nd(t,e){if(e!==null){let i=t[Et][dt],r=e.projection;return i.projection[r]}return null}function Zs(t,e){let n=Je+t+1;if(n<e.length){let i=e[n],r=i[ge].firstChild;if(r!==null)return nr(i,r)}return e[Zt]}function Bg(t,e,n){let i=$o(t,e);i&&Rg(t,i,e,n)}function Wo(t,e,n,i,r,s,a){for(;n!=null;){let u=i[n.index],f=n.type;if(a&&e===0&&(u&&In(Mt(u),i),n.flags|=2),(n.flags&32)!==32)if(f&8)Wo(t,e,n.child,i,r,s,!1),vn(e,t,r,u,s);else if(f&32){let p=Uo(n,i),c;for(;c=p();)vn(e,t,r,c,s);vn(e,t,r,u,s)}else f&16?Vg(t,e,i,n,r,s):vn(e,t,r,u,s);n=a?n.projectionNext:n.next}}function Dr(t,e,n,i,r,s){Wo(n,i,t.firstChild,e,r,s,!1)}function Vg(t,e,n,i,r,s){let a=n[Et],f=a[dt].projection[i.projection];if(Array.isArray(f))for(let p=0;p<f.length;p++){let c=f[p];vn(e,t,r,c,s)}else{let p=f,c=a[He];Ou(i)&&(p.flags|=128),Wo(t,e,p,c,r,s,!0)}}function jg(t,e,n,i,r){let s=n[Zt],a=Mt(n);s!==a&&vn(e,t,i,s,r);for(let u=Je;u<n.length;u++){let f=n[u];Dr(f[ge],f,t,e,i,s)}}function Hg(t,e,n){t.setAttribute(e,"style",n)}function id(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rd(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&Ps(t,e,i),r!==null&&id(t,e,r),s!==null&&Hg(t,e,s)}function Ug(t,e,n,i){if(!i)if((e[fe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ji(e,s,n)}else{let s=t.preOrderHooks;s!==null&&er(e,s,0,n)}Jt(n)}function Rn(t,e=me.Default){let n=Ue();if(n===null)return we(t,e);let i=wt();return Mu(i,n,lt(t),e)}function od(t,e,n,i,r,s){let a=be(null);try{let u=null;r&je.SignalBased&&(u=e[i][jr]),u!==null&&u.transformFn!==void 0&&(s=u.transformFn(s)),r&je.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,u,s,n,i):eu(e,u,i,s)}finally{be(a)}}function $g(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Jt(~r);else{let s=r,a=n[++i],u=n[++i];Ep(a,s);let f=e[s];u(2,f)}}}finally{Jt(-1)}}function Sr(t,e,n,i,r,s,a,u,f,p,c){let o=e.blueprint.slice();return o[Pt]=r,o[fe]=i|4|128|8|64,(p!==null||t&&t[fe]&2048)&&(o[fe]|=2048),su(o),o[He]=o[si]=t,o[St]=n,o[bt]=a||t&&t[bt],o[rt]=u||t&&t[rt],o[An]=f||t&&t[An]||null,o[dt]=s,o[wr]=Xp(),o[lr]=c,o[Kc]=p,o[Et]=e.type==2?t[Et]:o,o}function ad(t,e,n,i,r){let s=t.data[e];if(s===null)s=Wg(t,e,n,i,r),bp()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let a=yp();s.injectorIndex=a===null?-1:a.injectorIndex}return Ro(s,!0),s}function Wg(t,e,n,i,r){let s=lu(),a=cu(),u=a?s:s&&s.parent,f=t.data[e]=Zg(t,u,n,e,i,r);return t.firstChild===null&&(t.firstChild=f),s!==null&&(a?s.child==null&&f.parent!==null&&(s.child=f):s.next===null&&(s.next=f,f.prev=s)),f}function ld(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function cd(t,e,n,i,r){let s=Cp(),a=i&2;try{Jt(-1),a&&e.length>Cn&&Ug(t,e,Cn,!1),yt(a?2:0,r),n(i,r)}finally{Jt(s),yt(a?3:1,r)}}function ud(t,e,n){if(Zc(e)){let i=be(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let a=r;a<s;a++){let u=t.data[a];if(u.contentQueries){let f=n[a];u.contentQueries(1,f,a)}}}finally{be(i)}}}function zg(t,e,n){au()&&(sm(t,e,n,ht(n,e)),(n.flags&64)===64&&gd(t,e,n))}function Gg(t,e,n=ht){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let a=i[s+1],u=a===-1?n(e,t):t[a];t[r++]=u}}}function dd(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hd(t,e,n,i,r,s,a,u,f,p,c){let o=Cn+i,l=o+r,g=qg(o,l),h=typeof p=="function"?p():p;return g[ge]={type:t,blueprint:g,template:n,queries:null,viewQuery:u,declTNode:e,data:g.slice().fill(null,o),bindingStartIndex:o,expandoStartIndex:l,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:f,consts:h,incompleteFirstPass:!1,ssrId:c}}function qg(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:sd);return n}function Yg(t,e,n,i){let s=i.get(ig,Vu)||n===_t.ShadowDom,a=t.selectRootElement(e,s);return Xg(a),a}function Xg(t){Kg(t)}function Qg(t,e,n,i){let r=yd(e);r.push(n),t.firstCreatePass&&vd(t).push(i,r.length-1)}function Zg(t,e,n,i,r,s){let a=e?e.injectorIndex:-1,u=0;return pp()&&(u|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vc(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let a=e[s];if(a===void 0)continue;i??={};let u,f=je.None;Array.isArray(a)?(u=a[0],f=a[1]):u=a;let p=s;if(r!==null){if(!r.hasOwnProperty(s))continue;p=r[s]}t===0?_c(i,n,p,u,f):_c(i,n,p,u)}return i}function _c(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function Jg(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,a=e.attrs,u=[],f=null,p=null;for(let c=i;c<r;c++){let o=s[c],l=n?n.get(o):null,g=l?l.inputs:null,h=l?l.outputs:null;f=vc(0,o.inputs,c,f,g),p=vc(1,o.outputs,c,p,h);let d=f!==null&&a!==null&&!Co(e)?pm(f,c,a):null;u.push(d)}f!==null&&(f.hasOwnProperty("class")&&(e.flags|=8),f.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=u,e.inputs=f,e.outputs=p}function em(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fd(t,e,n,i,r,s,a,u){let f=ht(e,n),p=e.inputs,c;!u&&p!=null&&(c=p[i])?(Go(t,n,c,i,r),Ar(e)&&tm(n,e.index)):e.type&3?(i=em(i),r=a!=null?a(r,e.value||"",i):r,s.setProperty(f,i,r)):e.type&12}function tm(t,e){let n=tn(e,t);n[fe]&16||(n[fe]|=64)}function nm(t,e,n,i){if(au()){let r=i===null?null:{"":-1},s=am(t,n),a,u;s===null?a=u=null:[a,u]=s,a!==null&&pd(t,e,n,a,r,u),r&&lm(n,i,r)}n.mergedAttrs=Ao(n.mergedAttrs,n.attrs)}function pd(t,e,n,i,r,s){for(let p=0;p<i.length;p++)Lp(Cu(n,e),t,i[p].type);um(n,t.data.length,i.length);for(let p=0;p<i.length;p++){let c=i[p];c.providersResolver&&c.providersResolver(c)}let a=!1,u=!1,f=ld(t,e,i.length,null);for(let p=0;p<i.length;p++){let c=i[p];n.mergedAttrs=Ao(n.mergedAttrs,c.hostAttrs),dm(t,n,e,f,c),cm(f,c,r),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let o=c.type.prototype;!a&&(o.ngOnChanges||o.ngOnInit||o.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!u&&(o.ngOnChanges||o.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),f++}Jg(t,n,s)}function im(t,e,n,i,r){let s=r.hostBindings;if(s){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let u=~e.index;rm(a)!=u&&a.push(u),a.push(n,i,s)}}function rm(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sm(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Ar(n)&&hm(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Cu(n,e),In(i,e);let a=n.initialInputs;for(let u=r;u<s;u++){let f=t.data[u],p=Sn(e,t,u,n);if(In(p,e),a!==null&&fm(e,u-r,p,f,n,a),ai(f)){let c=tn(n.index,e);c[St]=Sn(e,t,u,n)}}}function gd(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,a=wp();try{Jt(s);for(let u=i;u<r;u++){let f=t.data[u],p=e[u];Ls(u),(f.hostBindings!==null||f.hostVars!==0||f.hostAttrs!==null)&&om(f,p)}}finally{Jt(-1),Ls(a)}}function om(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function am(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let a=n[s];if(Mf(e,a.selectors,!1))if(i||(i=[]),ai(a))if(a.findHostDirectiveDefs!==null){let u=[];r=r||new Map,a.findHostDirectiveDefs(a,u,r),i.unshift(...u,a);let f=u.length;Js(t,e,f)}else i.unshift(a),Js(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function Js(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lm(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new _e(-301,!1);i.push(e[r],s)}}}function cm(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ai(e)&&(n[""]=t)}}function um(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dm(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Xn(r.type,!0)),a=new ii(s,ai(r),Rn);t.blueprint[i]=a,n[i]=a,im(t,e,i,ld(t,n,r.hostVars,sd),r)}function hm(t,e,n){let i=ht(e,t),r=dd(n),s=t[bt].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let u=zo(t,Sr(t,r,null,a,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=u}function fm(t,e,n,i,r,s){let a=s[e];if(a!==null)for(let u=0;u<a.length;){let f=a[u++],p=a[u++],c=a[u++],o=a[u++];od(i,n,f,p,c,o)}}function pm(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let a=t[s];for(let u=0;u<a.length;u+=3)if(a[u]===e){i.push(s,a[u+1],a[u+2],n[r+1]);break}}r+=2}return i}function gm(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function md(t,e){let n=t.contentQueries;if(n!==null){let i=be(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],a=n[r+1];if(a!==-1){let u=t.data[a];Oo(s),u.contentQueries(2,e[a],a)}}}finally{be(i)}}}function zo(t,e){return t[Jn]?t[ic][ut]=e:t[Jn]=e,t[ic]=e,e}function eo(t,e,n){Oo(0);let i=be(null);try{e(t,n)}finally{be(i)}}function yd(t){return t[Zn]||(t[Zn]=[])}function vd(t){return t.cleanup||(t.cleanup=[])}function _d(t,e){let n=t[An],i=n?n.get(xt,null):null;i&&i.handleError(e)}function Go(t,e,n,i,r){for(let s=0;s<n.length;){let a=n[s++],u=n[s++],f=n[s++],p=e[a],c=t.data[a];od(c,p,i,u,f,r)}}function mm(t,e){let n=tn(e,t),i=n[ge];ym(i,n);let r=n[Pt];r!==null&&n[lr]===null&&(n[lr]=jo(r,n[An])),qo(i,n,n[St])}function ym(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function qo(t,e,n){No(e);try{let i=t.viewQuery;i!==null&&eo(1,i,n);let r=t.template;r!==null&&cd(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[It]?.finishViewCreation(t),t.staticContentQueries&&md(t,e),t.staticViewQueries&&eo(2,t.viewQuery,n);let s=t.components;s!==null&&vm(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[fe]&=-5,Fo()}}function vm(t,e){for(let n=0;n<e.length;n++)mm(t,e[n])}function _m(t,e,n,i){let r=be(null);try{let s=e.tView,u=t[fe]&4096?4096:16,f=Sr(t,s,n,u,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),p=t[e.index];f[oi]=p;let c=t[It];return c!==null&&(f[It]=c.createEmbeddedView(s)),qo(s,f,n),f}finally{be(r)}}function bc(t,e){return!e||e.firstChild===null||Ou(t)}function bm(t,e,n,i=!0){let r=e[ge];if(Sg(r,e,t,n),i){let a=Zs(n,t),u=e[rt],f=$o(u,t[Zt]);f!==null&&Cg(r,t[dt],u,e,f,a)}let s=e[lr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function fr(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Mt(s)),Rt(s)&&Em(s,i);let a=n.type;if(a&8)fr(t,e,n.child,i);else if(a&32){let u=Uo(n,e),f;for(;f=u();)i.push(f)}else if(a&16){let u=nd(e,n);if(Array.isArray(u))i.push(...u);else{let f=ni(e[Et]);fr(f[ge],f,u,i,!0)}}n=r?n.projectionNext:n.next}return i}function Em(t,e){for(let n=Je;n<t.length;n++){let i=t[n],r=i[ge].firstChild;r!==null&&fr(i[ge],i,r,e)}t[Zt]!==t[Pt]&&e.push(t[Zt])}function wm(t){return t[Qt]??Am(t)}function Am(t){let e=bd.pop()??Object.create(Dm);return e.lView=t,e}function Cm(t){t.lView[Qt]!==t&&(t.lView=null,bd.push(t))}function wd(t,e=!0,n=0){let i=t[bt],r=i.rendererFactory,s=!1;s||r.begin?.();try{Sm(t,n)}catch(a){throw e&&_d(t,a),a}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function Sm(t,e){to(t,e);let n=0;for(;Po(t);){if(n===Ed)throw new _e(103,!1);n++,to(t,1)}}function Im(t,e,n,i){let r=e[fe];if((r&256)===256)return;let s=!1;!s&&e[bt].inlineEffectRunner?.flush(),No(e);let a=null,u=null;!s&&Mm(t)&&(u=wm(e),a=Fa(u));try{su(e),_p(t.bindingStartIndex),n!==null&&cd(t,e,n,2,i);let f=(r&3)===3;if(!s)if(f){let o=t.preOrderCheckHooks;o!==null&&Ji(e,o,null)}else{let o=t.preOrderHooks;o!==null&&er(e,o,0,null),Es(e,0)}if(xm(e),Ad(e,0),t.contentQueries!==null&&md(t,e),!s)if(f){let o=t.contentCheckHooks;o!==null&&Ji(e,o)}else{let o=t.contentHooks;o!==null&&er(e,o,1),Es(e,1)}$g(t,e);let p=t.components;p!==null&&Dd(e,p,0);let c=t.viewQuery;if(c!==null&&eo(2,c,i),!s)if(f){let o=t.viewCheckHooks;o!==null&&Ji(e,o)}else{let o=t.viewHooks;o!==null&&er(e,o,2),Es(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bs]){for(let o of e[bs])o();e[bs]=null}s||(e[fe]&=-73)}catch(f){throw ti(e),f}finally{u!==null&&(ka(u,a),Cm(u)),Fo()}}function Mm(t){return t.type!==2}function Ad(t,e){for(let n=Fu(t);n!==null;n=ku(n))for(let i=Je;i<n.length;i++){let r=n[i];Cd(r,e)}}function xm(t){for(let e=Fu(t);e!==null;e=ku(e)){if(!(e[fe]&Mo.HasTransplantedViews))continue;let n=e[Dn];for(let i=0;i<n.length;i++){let r=n[i],s=r[He];cp(r)}}}function Tm(t,e,n){let i=tn(e,t);Cd(i,n)}function Cd(t,e){To(t)&&to(t,e)}function to(t,e){let i=t[ge],r=t[fe],s=t[Qt],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(s?.dirty&&Hr(s)),s&&(s.dirty=!1),t[fe]&=-9217,a)Im(i,t,i.template,t[St]);else if(r&8192){Ad(t,1);let u=i.components;u!==null&&Dd(t,u,1)}}function Dd(t,e,n){for(let i=0;i<e.length;i++)Tm(t,e[i],n)}function Yo(t){for(t[bt].changeDetectionScheduler?.notify();t;){t[fe]|=64;let e=ni(t);if(Jf(t)&&!e)return t;t=e}return null}function Om(){return Xo(wt(),Ue())}function Xo(t,e){return t.type&4?new Rm(e,t,xn(t,e)):null}function Ec(t,e){return Nm(t,e)}function Fm(t){let e=Error(`No component factory found for ${ct(t)}.`);return e[km]=t,e}function Sd(t){wc.has(t)||(wc.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ac(...t){}function Bm(){let t=typeof Xt.requestAnimationFrame=="function",e=Xt[t?"requestAnimationFrame":"setTimeout"],n=Xt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}function Ko(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jm(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,so(t),t.isCheckStableRunning=!0,Ko(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),so(t))}function Hm(t){let e=()=>{jm(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,a,u)=>{if(Um(u))return n.invokeTask(r,s,a,u);try{return Cc(t),n.invokeTask(r,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Dc(t)}},onInvoke:(n,i,r,s,a,u,f)=>{try{return Cc(t),n.invoke(r,s,a,u,f)}finally{t.shouldCoalesceRunChangeDetection&&e(),Dc(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,so(t),Ko(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function so(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Cc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dc(t){t._nesting--,Ko(t)}function Um(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function oo(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number")s=u;else if(s==1)r=Gl(r,u);else if(s==2){let f=u,p=e[++a];i=Gl(i,f+": "+p+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function Sc(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function $m(t){let e=t.toLowerCase();return e==="svg"?ip:e==="math"?rp:null}function Wm(t,e){let n=t[ge],i=Cn;return t[i]=e,ad(n,i,2,"#host",null)}function zm(t,e,n,i,r,s,a){let u=r[ge];Gm(i,t,e,a);let f=null;e!==null&&(f=jo(e,r[An]));let p=s.rendererFactory.createRenderer(e,n),c=16;n.signals?c=4096:n.onPush&&(c=64);let o=Sr(r,dd(n),null,c,r[t.index],t,s,p,null,null,f);return u.firstCreatePass&&Js(u,t,i.length-1),zo(r,o),r[t.index]=o}function Gm(t,e,n,i){for(let r of t)e.mergedAttrs=Ao(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(oo(e,e.mergedAttrs,!0),n!==null&&rd(i,n,e))}function qm(t,e,n,i,r,s){let a=wt(),u=r[ge],f=ht(a,r);pd(u,r,a,n,null,i);for(let c=0;c<n.length;c++){let o=a.directiveStart+c,l=Sn(r,u,o,a);In(l,r)}gd(u,r,a),f&&In(f,r);let p=Sn(r,u,a.directiveStart+a.componentOffset,a);if(t[St]=r[St]=p,s!==null)for(let c of s)c(p,e);return ud(u,a,r),p}function Ym(t,e,n,i){if(i)Ps(t,n,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=Of(e.selectors[0]);r&&Ps(t,n,r),s&&s.length>0&&id(t,n,s.join(" "))}}function Xm(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function Km(){let t=wt();_u(Ue()[ge],t)}function Qm(){let t=wt();return xd(t,Ue())}function Ic(t){return t[cr]}function Is(t){return t[cr]||(t[cr]=[])}function xd(t,e){let n,i=e[t.index];return Rt(i)?n=i:(n=gm(i,e,null,t),e[t.index]=n,zo(e,n)),ey(n,e,t,i),new Md(n,t,e)}function Jm(t,e){let n=t[rt],i=n.createComment(""),r=ht(e,t),s=$o(n,r);return hr(n,s,i,Og(n,r),!1),i}function ty(t,e,n,i){if(t[Zt])return;let r;n.type&8?r=Mt(i):r=Jm(e,n),t[Zt]=r}function ny(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function iy(t,e){return t.type&11?xn(t,e):t.type&4?Xo(t,e):null}function ry(t,e,n,i){return n===-1?iy(e,t):n===-2?sy(t,e,i):Sn(t,t[ge],n,e)}function sy(t,e,n){if(n===rn)return xn(e,t);if(n===pr)return Xo(e,t);if(n===Qo)return xd(e,t)}function Td(t,e,n,i){let r=e[It].queries[i];if(r.matches===null){let s=t.data,a=n.matches,u=[];for(let f=0;a!==null&&f<a.length;f+=2){let p=a[f];if(p<0)u.push(null);else{let c=s[p];u.push(ry(e,c,a[f+1],n.metadata.read))}}r.matches=u}return r.matches}function mo(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let a=Td(t,e,r,n);for(let u=0;u<s.length;u+=2){let f=s[u];if(f>0)i.push(a[u/2]);else{let p=s[u+1],c=e[-f];for(let o=Je;o<c.length;o++){let l=c[o];l[oi]===l[He]&&mo(l[ge],l,p,i)}if(c[Dn]!==null){let o=c[Dn];for(let l=0;l<o.length;l++){let g=o[l];mo(g[ge],g,p,i)}}}}}return i}function oy(t,e){return t[It].queries[e].queryList}function ay(t,e,n){let i=new Hs((n&4)===4);return Qg(t,e,i,i.destroy),(e[It]??=new ho).queries.push(new uo(i))-1}function ly(t,e,n){let i=nn();return i.firstCreatePass&&(uy(i,new fo(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),ay(i,Ue(),e)}function cy(t){return t.split(",").map(e=>e.trim())}function uy(t,e,n){t.queries===null&&(t.queries=new po),t.queries.track(new go(e,n))}function Zo(t,e){return t.queries.getByIndex(e)}function dy(t,e){let n=t[ge],i=Zo(n,e);return i.crossesNgTemplate?mo(n,t,e,[]):Td(n,t,i,e)}function hy(t){return typeof t=="function"&&t[jr]!==void 0}function Pd(t){return hy(t)&&typeof t.set=="function"}function fy(t,e,n=null){return new yr({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function Od(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function py(t){return(t.flags&32)===32}function Jo(t,e,n){let i=Ue(),r=uu();if(Od(i,r,e)){let s=nn(),a=yu();fd(s,a,i,t,e,i[rt],n,!1)}return Jo}function Mc(t,e,n,i,r){let s=e.inputs,a=r?"class":"style";Go(t,n,s[a],a,i)}function gy(t,e,n,i,r,s){let a=e.consts,u=sc(a,r),f=ad(e,t,2,i,u);return nm(e,n,f,sc(a,s)),f.attrs!==null&&oo(f,f.attrs,!1),f.mergedAttrs!==null&&oo(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function Nn(t,e,n,i){let r=Ue(),s=nn(),a=Cn+t,u=r[rt],f=s.firstCreatePass?gy(a,s,r,e,n,i):s.data[a],p=my(s,r,f,u,e,t);r[a]=p;let c=Jc(f);return Ro(f,!0),rd(u,p,f),!py(f)&&Sp()&&Lg(s,r,p,f),dp()===0&&In(p,r),hp(),c&&(zg(s,r,f),ud(s,f,r)),i!==null&&Gg(r,f),Nn}function Fn(){let t=wt();cu()?vp():(t=t.parent,Ro(t,!1));let e=t;gp(e)&&mp(),fp();let n=nn();return n.firstCreatePass&&(_u(n,t),Zc(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Pp(e)&&Mc(n,e,Ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Rp(e)&&Mc(n,e,Ue(),e.stylesWithoutHost,!1),Fn}function ea(t,e,n,i){return Nn(t,e,n,i),Fn(),ea}function vy(t){typeof t=="string"&&(yy=t.toLowerCase().replace(/_/g,"-"))}function _y(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let a=r[s];if(a===n&&r[s+1]===i){let u=e[Zn],f=r[s+2];return u.length>f?u[f]:null}typeof a=="string"&&(s+=2)}return null}function by(t,e,n,i,r,s,a){let u=Jc(i),p=t.firstCreatePass&&vd(t),c=e[St],o=yd(e),l=!0;if(i.type&3||a){let d=ht(i,e),v=a?a(d):d,y=o.length,D=a?_=>a(Mt(_[i.index])):i.index,m=null;if(!a&&u&&(m=_y(t,e,r,i.index)),m!==null){let _=m.__ngLastListenerFn__||m;_.__ngNextListenerFn__=s,m.__ngLastListenerFn__=s,l=!1}else{s=Tc(i,e,c,s,!1);let _=n.listen(v,r,s);o.push(s,_),p&&p.push(r,D,y,y+1)}}else s=Tc(i,e,c,s,!1);let g=i.outputs,h;if(l&&g!==null&&(h=g[r])){let d=h.length;if(d)for(let v=0;v<d;v+=2){let y=h[v],D=h[v+1],w=e[y][D].subscribe(s),S=o.length;o.push(s,w),p&&p.push(r,i.index,S,-(S+1))}}}function xc(t,e,n,i){let r=be(null);try{return yt(6,e,n),n(i)!==!1}catch(s){return _d(t,s),!1}finally{yt(7,e,n),be(r)}}function Tc(t,e,n,i,r){return function s(a){if(a===Function)return i;let u=t.componentOffset>-1?tn(t.index,e):e;Yo(u);let f=xc(e,n,i,a),p=s.__ngNextListenerFn__;for(;p;)f=xc(e,n,p,a)&&f,p=p.__ngNextListenerFn__;return r&&f===!1&&a.preventDefault(),f}}function Nd(t,e,n){ly(t,e,n)}function Fd(t){let e=Ue(),n=nn(),i=du();Oo(i+1);let r=Zo(n,i);if(t.dirty&&ap(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=dy(e,i);t.reset(s,Gp),t.notifyOnChanges()}return!0}return!1}function kd(){return oy(Ue(),du())}function ta(t,e,n){Pd(e)&&(e=e());let i=Ue(),r=uu();if(Od(i,r,e)){let s=nn(),a=yu();fd(s,a,i,t,e,i[rt],n,!1)}return ta}function Ld(t,e){let n=Pd(t);return n&&t.set(e),n}function na(t,e){let n=Ue(),i=nn(),r=wt();return by(i,n,n[rt],r,t,e),na}function Bd(t){Sd("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ey).getOrCreateStandaloneInjector(t)}function ia(t){return!!t&&typeof t.then=="function"}function jd(t){return!!t&&typeof t.subscribe=="function"}function Cy(){Ba(()=>{throw new _e(600,!1)})}function Dy(t){return t.isBoundToModule}function Sy(t,e,n){try{let i=n();return ia(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function Ms(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Iy(t,e,n){!e&&!yo(t)||My(t,n,e)}function yo(t){return Po(t)}function My(t,e,n){let i;n?(i=0,t[fe]|=1024):t[fe]&64?i=0:i=1,wd(t,e,i)}function Ty(t){return[{provide:Te,useFactory:t},{provide:Qn,multi:!0,useFactory:()=>{let e=ke(xy,{optional:!0});return()=>e.initialize()}},{provide:Qn,multi:!0,useFactory:()=>{let e=ke(Ny);return()=>{e.initialize()}}},{provide:Pu,useFactory:Py}]}function Py(){let t=ke(Te),e=ke(xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Ry(t){let e=Ty(()=>new Te(Oy(t)));return Gc([[],e])}function Oy(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function Fy(){return typeof $localize<"u"&&$localize.locale||vr}function ky(t=[],e){return li.create({name:e,providers:[{provide:Er,useValue:"platform"},{provide:Ud,useValue:new Set([()=>ir=null])},...t]})}function Ly(t=[]){if(ir)return ir;let e=ky(t);return ir=e,Cy(),By(e),e}function By(t){t.get(Bo,null)?.forEach(n=>n())}function Vy(t){return jy(wt(),Ue(),(t&16)===16)}function jy(t,e,n){if(Ar(t)&&!n){let i=tn(t.index,e);return new en(i,i)}else if(t.type&47){let i=e[Et];return new en(i,e)}return null}function $d(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=Ly(i),s=[Ry(),...n||[]],u=new yr({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,f=u.get(Te);return f.run(()=>{u.resolveInjectorInitializers();let p=u.get(xt,null),c;f.runOutsideAngular(()=>{c=f.onError.subscribe({next:g=>{p.handleError(g)}})});let o=()=>u.destroy(),l=r.get(Ud);return l.add(o),u.onDestroy(()=>{c.unsubscribe(),l.delete(o)}),Sy(p,f,()=>{let g=u.get(Hd);return g.runInitializers(),g.donePromise.then(()=>{let h=u.get(ra,vr);vy(h||vr);let d=u.get(ui);return e!==void 0&&d.bootstrap(e),d})})})}catch(e){return Promise.reject(e)}}var Pc,_e,Xt,Zh,Nc,Xl,Fc,tf,Se,nf,rf,sf,Kl,qn,Ql,me,xs,cf,Yn,uf,rr,df,hf,ff,Zl,_n,Kn,mt,Qn,jc,Hc,or,Uc,_t,je,$c,Hf,Er,Zi,Wf,_s,Ut,ar,Pt,ge,fe,He,ut,dt,lr,Zn,St,An,bt,rt,Jn,ic,si,Et,oi,yn,It,wr,Kc,Ht,bs,Qt,Cn,Qc,Zt,cr,Dn,Je,Mo,ei,nu,rc,yt,ip,rp,sp,Ee,mu,vu,En,ii,Bs,Np,wu,Au,Fp,vt,Kt,li,$p,xt,Pu,Ru,Vs,rn,js,Qe,Hs,Nu,Yp,dc,Us,Lo,Jp,Bo,Tn,Vo,eg,tg,ng,Vu,ig,Ki,Tt,$s,Ws,zs,Gs,qs,Ys,Xs,lg,zu,Gu,qu,cg,ug,dg,hc,Yu,hg,fg,pg,gg,Ks,_g,bg,Qi,$t,on,wg,kg,yc,sd,Kg,bd,Dm,Ed,en,pr,Pm,Rm,QE,Nm,no,io,gr,km,ro,On,ri,Lm,Ss,wc,Te,Vm,Id,ao,lo,mr,co,Qo,Zm,Md,ey,uo,ho,fo,po,go,Mn,yr,Rd,my,vr,yy,Ey,Vd,wy,Hd,Ay,ui,xy,Ny,ra,Ud,ir,sa,Wt=le(()=>{"use strict";Va();Yi();Xi();Pc="https://g.co/ng/security#xss",_e=class extends Error{constructor(e,n){super(vo(e,n)),this.code=e}};Xt=globalThis;Zh=Ae({__forward_ref__:Ae});Nc=Ae({\u0275prov:Ae}),Xl=Ae({\u0275inj:Ae}),Fc=Ae({ngInjectableDef:Ae}),tf=Ae({ngInjectorDef:Ae}),Se=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};nf=Ae({\u0275cmp:Ae}),rf=Ae({\u0275dir:Ae}),sf=Ae({\u0275pipe:Ae}),Kl=Ae({\u0275fac:Ae}),qn=Ae({__NG_ELEMENT_ID__:Ae}),Ql=Ae({__NG_ENV_ID__:Ae});me=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(me||{});cf={},Yn=cf,uf="__NG_DI_FLAG__",rr="ngTempTokenPath",df="ngTokenPath",hf=/\n/gm,ff="\u0275",Zl="__source";Kn={},mt=[],Qn=new Se(""),jc=new Se("",-1),Hc=new Se(""),or=class{get(e,n=Yn){if(n===Yn){let i=new Error(`NullInjectorError: No provider for ${ct(e)}!`);throw i.name="NullInjectorError",i}return n}},Uc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Uc||{}),_t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_t||{}),je=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(je||{});$c="ng-template";Hf=Ae({provide:String,useValue:Ae});Er=new Se(""),Zi={},Wf={};Ut=class{},ar=class extends Ut{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fs(e,a=>this.processProvider(a)),this.records.set(jc,mn(void 0,this)),r.has("environment")&&this.records.set(Ut,mn(void 0,this));let s=this.records.get(Er);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Hc,mt,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=be(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),be(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=gn(this),i=gt(void 0),r;try{return e()}finally{gn(n),gt(i)}}get(e,n=Yn,i=me.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ql))return e[Ql](this);i=_r(i);let r,s=gn(this),a=gt(void 0);try{if(!(i&me.SkipSelf)){let f=this.records.get(e);if(f===void 0){let p=Kf(e)&&bo(e);p&&this.injectableDefInScope(p)?f=mn(Ns(e),Zi):f=null,this.records.set(e,f)}if(f!=null)return this.hydrate(e,f)}let u=i&me.Self?Io():this.parent;return n=i&me.Optional&&n===Yn?null:n,u.get(e,n)}catch(u){if(u.name==="NullInjectorError"){if((u[rr]=u[rr]||[]).unshift(ct(e)),s)throw u;return yf(u,e,"R3InjectorError",this.source)}else throw u}finally{gt(a),gn(s)}}resolveInjectorInitializers(){let e=be(null),n=gn(this),i=gt(void 0),r;try{let s=this.get(Qn,mt,me.Self);for(let a of s)a()}finally{gn(n),gt(i),be(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(ct(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(e){e=lt(e);let n=Os(e)?e:lt(e&&e.provide),i=Gf(e);if(!Os(e)&&e.multi===!0){let r=this.records.get(n);r||(r=mn(void 0,Zi,!0),r.factory=()=>Ts(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=be(null);try{return n.value===Zi&&(n.value=Wf,n.value=n.factory()),typeof n.value=="object"&&n.value&&Xf(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{be(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};Pt=0,ge=1,fe=2,He=3,ut=4,dt=5,lr=6,Zn=7,St=8,An=9,bt=10,rt=11,Jn=12,ic=13,si=14,Et=15,oi=16,yn=17,It=18,wr=19,Kc=20,Ht=21,bs=22,Qt=23,Cn=25,Qc=1,Zt=7,cr=8,Dn=9,Je=10,Mo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Mo||{});ei=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};xo.ngInherit=!0;nu="__ngSimpleChanges__";rc=null,yt=function(t,e,n){rc?.(t,e,n)},ip="svg",rp="math",sp=!1;Ee={lFrame:pu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};mu=gu;vu=!0;En=-1,ii=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};Bs=!0;Np=256,wu=Np-1,Au=5,Fp=0,vt={};Kt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Mu(this._tNode,this._lView,e,_r(i),n)}};li=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return uc({name:""},r,i,"");{let s=i.name??"";return uc({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Yn,e.NULL=new or,e.\u0275prov=Pe({token:e,providedIn:"any",factory:()=>we(jc)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();$p="ngOriginalError";xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&As(e);for(;n&&As(n);)n=As(n);return n||null}},Pu=new Se("",{providedIn:"root",factory:()=>ke(xt).handleError.bind(void 0)}),Ru=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wp,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Vs=class extends Ru{constructor(e){super(),this._lView=e}onDestroy(e){return ou(this._lView,e),()=>up(this._lView,e)}};rn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=zp;let t=e;return t})();js=class extends nt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Qf()&&(this.destroyRef=ke(Ru,{optional:!0})??void 0)}emit(e){let n=be(null);try{super.next(e)}finally{be(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),a=i;if(e&&typeof e=="object"){let f=e;r=f.next?.bind(f),s=f.error?.bind(f),a=f.complete?.bind(f)}this.__isAsync&&(s=Cs(s),r&&(r=Cs(r)),a&&(a=Cs(a)));let u=super.subscribe({next:r,error:s,complete:a});return e instanceof ze&&e.add(u),u}};Qe=js;Hs=class t{get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=qp)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=bf(e);(this._changesDetected=!_f(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};Nu=new Map,Yp=0;dc="__ngContext__";Lo=new Se("",{providedIn:"root",factory:()=>Jp}),Jp="ng",Bo=new Se(""),Tn=new Se("",{providedIn:"platform",factory:()=>"unknown"}),Vo=new Se("",{providedIn:"root",factory:()=>Zp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),eg="h",tg="b",ng=()=>null;Vu=!1,ig=new Se("",{providedIn:"root",factory:()=>Vu});Tt=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pc})`}},$s=class extends Tt{getTypeName(){return"HTML"}},Ws=class extends Tt{getTypeName(){return"Style"}},zs=class extends Tt{getTypeName(){return"Script"}},Gs=class extends Tt{getTypeName(){return"URL"}},qs=class extends Tt{getTypeName(){return"ResourceURL"}};Ys=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Cr(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Xs=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Cr(e),n}};lg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;zu=Ot("area,br,col,hr,img,wbr"),Gu=Ot("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qu=Ot("rp,rt"),cg=ci(qu,Gu),ug=ci(Gu,Ot("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dg=ci(qu,Ot("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hc=ci(zu,ug,dg,cg),Yu=Ot("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hg=Ot("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fg=Ot("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),pg=ci(Yu,hg,fg),gg=Ot("script,style,template"),Ks=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=vg(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=yg(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=fc(e).toLowerCase();if(!hc.hasOwnProperty(n))return this.sanitizedSomething=!0,!gg.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),a=s.name,u=a.toLowerCase();if(!pg.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let f=s.value;Yu[u]&&(f=Ho(f)),this.buf.push(" ",a,'="',pc(f),'"')}return this.buf.push(">"),!0}endElement(e){let n=fc(e).toLowerCase();hc.hasOwnProperty(n)&&!zu.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(pc(e))}};_g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bg=/([^\#-~ |!])/g;$t=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($t||{}),on=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(on||{});kg=Fg;sd={};Kg=()=>null;bd=[];Dm=Ke(Ve({},Na),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ti(t.lView)},consumerOnSignalRead(){this.lView[Qt]=this}}),Ed=100;en=class{get rootNodes(){let e=this._lView,n=e[ge];return fr(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(Rt(e)){let n=e[cr],i=n?n.indexOf(this):-1;i>-1&&(Qs(e,i),sr(n,i))}this._attachedToViewContainer=!1}ed(this._lView[ge],this._lView)}onDestroy(e){ou(this._lView,e)}markForCheck(){Yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-129}reattach(){ks(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,wd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Zu(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=e,ks(this._lView)}},pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Om;let t=e;return t})(),Pm=pr,Rm=class extends Pm{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=_m(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new en(r)}};QE=new RegExp(`^(\\d+)*(${tg}|${eg})*(.*)`),Nm=()=>null;no=class{},io=class{},gr=class{};km="ngComponent",ro=class{resolveComponentFactory(e){throw Fm(e)}},On=(()=>{let e=class e{};e.NULL=new ro;let t=e;return t})(),ri=class{},Lm=(()=>{let e=class e{};e.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ss={},wc=new Set;Te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Bm().nativeRequestAnimationFrame,Hm(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _e(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,e,Vm,Ac,Ac);try{return s.runTask(a,n,i)}finally{s.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Vm={};Id=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Pe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();ao=class extends On{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wn(e);return new mr(n,this.ngModule)}};lo=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=_r(i);let r=this.injector.get(e,Ss,i);return r!==Ss||n===Ss?r:this.parentInjector.get(e,n,i)}},mr=class extends gr{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=Sc(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Sc(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Rf(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=be(null);try{r=r||this.ngModule;let a=r instanceof Ut?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let u=a?new lo(e,a):e,f=u.get(ri,null);if(f===null)throw new _e(407,!1);let p=u.get(Lm,null),c=u.get(Id,null),o=u.get(no,null),l={rendererFactory:f,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:o},g=f.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?Yg(g,i,this.componentDef.encapsulation,u):Qu(g,h,$m(h)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let y=null;d!==null&&(y=jo(d,u,!0));let D=hd(0,null,null,1,0,null,null,null,null,null,null),m=Sr(null,D,null,v,null,null,l,g,u,null,y);No(m);let _,w;try{let S=this.componentDef,I,R=null;S.findHostDirectiveDefs?(I=[],R=new Map,S.findHostDirectiveDefs(S,I,R),I.push(S)):I=[S];let O=Wm(m,d),H=zm(O,d,S,I,m,l,g);w=ru(D,Cn),d&&Ym(g,S,d,i),n!==void 0&&Xm(w,this.ngContentSelectors,n),_=qm(H,S,I,R,m,[Km]),qo(D,m,null)}finally{Fo()}return new co(this.componentType,_,xn(w,m),m,w)}finally{be(s)}}},co=class extends io{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new en(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Go(s[ge],s,r,e,n),this.previousInputValues.set(e,n);let a=tn(this._tNode.index,s);Yo(a)}}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};Qo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Qm;let t=e;return t})();Zm=Qo,Md=class extends Zm{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return xn(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){let e=ko(this._hostTNode,this._hostLView);if(Eu(e)){let n=dr(e,this._hostLView),i=ur(e),r=n[ge].data[i+8];return new Kt(r,n)}else return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ic(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let a=Ec(this._lContainer,e.ssrId),u=e.createEmbeddedViewImpl(n||{},s,a);return this.insertImpl(u,r,bc(this._hostTNode,a)),u}createComponent(e,n,i,r,s){let a=e&&!Zf(e),u;if(a)u=n;else{let h=n||{};u=h.index,i=h.injector,r=h.projectableNodes,s=h.environmentInjector||h.ngModuleRef}let f=a?e:new mr(wn(e)),p=i||this.parentInjector;if(!s&&f.ngModule==null){let d=(a?p:this.parentInjector).get(Ut,null);d&&(s=d)}let c=wn(f.componentType??{}),o=Ec(this._lContainer,c?.id??null),l=o?.firstChild??null,g=f.create(p,r,l,s);return this.insertImpl(g.hostView,u,bc(this._hostTNode,o)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(lp(r)){let u=this.indexOf(e);if(u!==-1)this.detach(u);else{let f=r[He],p=new Md(f,f[dt],f[He]);p.detach(p.indexOf(e))}}let s=this._adjustIndex(n),a=this._lContainer;return bm(a,r,s,i),e.attachToViewContainerRef(),Vc(Is(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ic(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Qs(this._lContainer,n);i&&(sr(Is(this._lContainer),n),ed(i[ge],i))}detach(e){let n=this._adjustIndex(e,-1),i=Qs(this._lContainer,n);return i&&sr(Is(this._lContainer),n)!=null?new en(i):null}_adjustIndex(e,n=0){return e??this.length+n}};ey=ty;uo=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ho=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let a=n.getByIndex(s),u=this.queries[a.indexInDeclarationView];r.push(u.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Zo(e,n).matches!==null&&this.queries[n].setDirty()}},fo=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=cy(e):this.predicate=e}},po=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},go=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,ny(n,s)),this.matchTNodeWithReadOption(e,n,tr(n,e,s,!1,!1))}else i===pr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,tr(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===rn||r===Qo||r===pr&&n.type&4)this.addMatch(n.index,-2);else{let s=tr(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};Mn=class{},yr=class extends Mn{constructor(e){super(),this.componentFactoryResolver=new ao(this),this.instance=null;let n=new ar([...e.providers,{provide:Mn,useValue:this},{provide:On,useValue:this.componentFactoryResolver}],e.parent||Io(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};Rd=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Hn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();my=(t,e,n,i,r,s)=>(Ip(!0),Qu(i,r,Dp())),vr="en-US",yy=vr;Ey=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=qc(!1,i.type),s=r.length>0?fy([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Pe({token:e,providedIn:"environment",factory:()=>new e(we(Ut))});let t=e;return t})();Vd=new Se("");wy=new Se(""),Hd=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=ke(wy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let a=s();if(ia(a))i.push(a);else if(jd(a)){let u=new Promise((f,p)=>{a.subscribe({complete:f,error:p})});i.push(u)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ay=new Se("");ui=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(Pu),this.afterRenderEffectManager=ke(Id),this.externalTestViews=new Set,this.beforeRender=new nt,this.afterTick=new nt,this.componentTypes=[],this.components=[],this.isStable=ke(Rd).hasPendingTasks.pipe(Dt(i=>!i)),this._injector=ke(Ut)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof gr;if(!this._injector.get(Hd).done){let g=!s&&kf(i),h=!1;throw new _e(405,h)}let u;s?u=i:u=this._injector.get(On).resolveComponentFactory(i),this.componentTypes.push(u.componentType);let f=Dy(u)?void 0:this._injector.get(Mn),p=r||u.selector,c=u.create(li.NULL,[],p,f),o=c.location.nativeElement,l=c.injector.get(Vd,null);return l?.registerApplication(o),c.onDestroy(()=>{this.detachView(c.hostView),Ms(this.components,c),l?.unregisterApplication(o)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new _e(101,!1);let r=be(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,be(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===Ed)throw new _e(103,!1);if(i){let a=r===0;this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:f}of this._views)Iy(u,a,f)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>yo(a))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>yo(a))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Ms(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Ay,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Ms(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new _e(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();xy=(()=>{let e=class e{constructor(){this.zone=ke(Te),this.applicationRef=ke(ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();Ny=(()=>{let e=class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=ke(Te),this.pendingTasks=ke(Rd)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();ra=new Se("",{providedIn:"root",factory:()=>ke(ra,me.Optional|me.SkipSelf)||Fy()}),Ud=new Se(""),ir=null;sa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vy;let t=e;return t})()});function aa(){return zd}function Gd(t){zd??=t}function qd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}function la(t){return t===Hy}var zd,Ir,Nt,Yd,Hy,Mr,Xd=le(()=>{"use strict";Wt();zd=null;Ir=class{},Nt=new Se("");Yd="browser",Hy="server";Mr=class{}});function $y(){return di=di||document.querySelector("base"),di?di.getAttribute("href"):null}function Wy(t){return new URL(t,document.baseURI).pathname}function Ky(t){return qy.replace(ga,t)}function Qy(t){return Gy.replace(ga,t)}function nh(t,e){return e.map(n=>n.replace(ga,t))}function Qd(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}function ih(t){return $d(nv(t))}function nv(t){return{appProviders:[...av,...t?.providers??[]],platformProviders:ov}}function iv(){ha.makeCurrent()}function rv(){return new xt}function sv(){return Bu(document),document}var da,ha,di,zy,fa,Jd,xr,ca,eh,ua,ga,th,Gy,qy,Yy,Xy,Kd,hi,pa,fi,Tr,Zy,Zd,Jy,ev,tv,ov,av,ma,lv,ya=le(()=>{"use strict";Wt();Wt();Xd();da=class extends Ir{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ha=class t extends da{static makeCurrent(){Gd(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$y();return n==null?null:Wy(n)}resetBaseElement(){di=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qd(document.cookie,e)}},di=null;zy=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac});let t=e;return t})(),fa=new Se(""),Jd=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new _e(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(we(fa),we(Te))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac});let t=e;return t})(),xr=class{constructor(e){this._doc=e}},ca="ng-app-id",eh=(()=>{let e=class e{constructor(i,r,s,a={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=la(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${ca}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let a=s.get(i);return a.usage+=r,a.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,a=s?.get(r);if(a?.parentNode===i)return s.delete(r),a.removeAttribute(ca),a;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(ca,this.appId),i.appendChild(u),u}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),a=this.styleRef,u=a.get(r)?.elements;u?u.push(s):a.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(we(Nt),we(Lo),we(Vo,8),we(Tn))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac});let t=e;return t})(),ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ga=/%COMP%/g,th="%COMP%",Gy=`_nghost-${th}`,qy=`_ngcontent-${th}`,Yy=!0,Xy=new Se("",{providedIn:"root",factory:()=>Yy});Kd=(()=>{let e=class e{constructor(i,r,s,a,u,f,p,c=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=u,this.platformId=f,this.ngZone=p,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=la(f),this.defaultRenderer=new hi(i,u,p,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_t.ShadowDom&&(r=Ke(Ve({},r),{encapsulation:_t.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Tr?s.applyToHost(i):s instanceof fi&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,a=s.get(r.id);if(!a){let u=this.doc,f=this.ngZone,p=this.eventManager,c=this.sharedStylesHost,o=this.removeStylesOnCompDestroy,l=this.platformIsServer;switch(r.encapsulation){case _t.Emulated:a=new Tr(p,c,r,this.appId,o,u,f,l);break;case _t.ShadowDom:return new pa(p,c,i,r,u,f,this.nonce,l);default:a=new fi(p,c,r,o,u,f,l);break}s.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(we(Jd),we(eh),we(Lo),we(Xy),we(Nt),we(Tn),we(Te),we(Vo))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac});let t=e;return t})(),hi=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ua[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Qd(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Qd(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new _e(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=ua[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=ua[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(on.DashCase|on.Important)?e.style.setProperty(n,i,r&on.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&on.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=aa().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};pa=class extends hi{constructor(e,n,i,r,s,a,u,f){super(e,s,a,f),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=nh(r.id,r.styles);for(let c of p){let o=document.createElement("style");u&&o.setAttribute("nonce",u),o.textContent=c,this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fi=class extends hi{constructor(e,n,i,r,s,a,u,f){super(e,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=f?nh(f,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tr=class extends fi{constructor(e,n,i,r,s,a,u,f){let p=r+"-"+i.id;super(e,n,i,s,a,u,f,p),this.contentAttr=Ky(p),this.hostAttr=Qy(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Zy=(()=>{let e=class e extends xr{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(we(Nt))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Zd=["alt","control","meta","shift"],Jy={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ev={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tv=(()=>{let e=class e extends xr{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let a=e.parseEventName(r),u=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>aa().onAndCancel(i,a.domEventName,u))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let a=e._normalizeKey(r.pop()),u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),Zd.forEach(c=>{let o=r.indexOf(c);o>-1&&(r.splice(o,1),u+=c+".")}),u+=a,r.length!=0||a.length===0)return null;let p={};return p.domEventName=s,p.fullKey=u,p}static matchEventFullKeyCode(i,r){let s=Jy[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(s=i.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Zd.forEach(u=>{if(u!==s){let f=ev[u];f(i)&&(a+=u+".")}}),a+=s,a===r)}static eventCallback(i,r,s){return a=>{e.matchEventFullKeyCode(a,i)&&s.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(we(Nt))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac});let t=e;return t})();ov=[{provide:Tn,useValue:Yd},{provide:Bo,useValue:iv,multi:!0},{provide:Nt,useFactory:sv,deps:[]}],av=[{provide:Er,useValue:"root"},{provide:xt,useFactory:rv,deps:[]},{provide:fa,useClass:Zy,multi:!0,deps:[Nt,Te,Tn]},{provide:fa,useClass:tv,multi:!0,deps:[Nt]},Kd,eh,Jd,{provide:ri,useExisting:Kd},{provide:Mr,useClass:zy,deps:[]},[]],ma=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Pe({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=we(lv),s},providedIn:"root"});let t=e;return t})(),lv=(()=>{let e=class e extends ma{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case $t.NONE:return r;case $t.HTML:return Pn(r,"HTML")?sn(r):Ku(this._doc,String(r)).toString();case $t.STYLE:return Pn(r,"Style")?sn(r):r;case $t.SCRIPT:if(Pn(r,"Script"))return sn(r);throw new _e(5200,!1);case $t.URL:return Pn(r,"URL")?sn(r):Ho(String(r));case $t.RESOURCE_URL:if(Pn(r,"ResourceURL"))return sn(r);throw new _e(5201,!1);default:throw new _e(5202,!1)}}bypassSecurityTrustHtml(i){return ju(i)}bypassSecurityTrustStyle(i){return Hu(i)}bypassSecurityTrustScript(i){return Uu(i)}bypassSecurityTrustUrl(i){return $u(i)}bypassSecurityTrustResourceUrl(i){return Wu(i)}};e.\u0275fac=function(r){return new(r||e)(we(Nt))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})()});function uv(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function dv(t){return!!t&&t.nodeType===Node.ELEMENT_NODE}function hv(t){return typeof t=="function"}function fv(t,e){if(!va){let n=Element.prototype;va=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE?va.call(t,e):!1}function pv(t,e){return t===e||t!==t&&e!==e}function gv(t){let e={};return t.forEach(({propName:n,templateName:i,transform:r})=>{e[uv(i)]=[n,r]}),e}function mv(t,e){return e.get(On).resolveComponentFactory(t).inputs}function yv(t,e){let n=t.childNodes,i=e.map(()=>[]),r=-1;e.some((s,a)=>s==="*"?(r=a,!0):!1);for(let s=0,a=n.length;s<a;++s){let u=n[s],f=vv(u,e,r);f!==-1&&i[f].push(u)}return i}function vv(t,e,n){let i=n;return dv(t)&&e.some((r,s)=>r!=="*"&&fv(t,r)?(i=s,!0):!1),i}function rh(t,e){let n=mv(t,e.injector),i=e.strategyFactory||new _a(t,e.injector),r=gv(n),a=class a extends Ea{get ngElementStrategy(){if(!this._ngElementStrategy){let f=this._ngElementStrategy=i.create(this.injector||e.injector);n.forEach(({propName:p,transform:c})=>{if(!this.hasOwnProperty(p))return;let o=this[p];delete this[p],f.setInputValue(p,o,c)})}return this._ngElementStrategy}constructor(f){super(),this.injector=f}attributeChangedCallback(f,p,c,o){let[l,g]=r[f];this.ngElementStrategy.setInputValue(l,c,g)}connectedCallback(){let f=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),f=!0),this.ngElementStrategy.connect(this),f||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(f=>{let p=new CustomEvent(f.name,{detail:f.value});this.dispatchEvent(p)})}};a.observedAttributes=Object.keys(r);let s=a;return n.forEach(({propName:u,transform:f})=>{Object.defineProperty(s.prototype,u,{get(){return this.ngElementStrategy.getInputValue(u)},set(p){this.ngElementStrategy.setInputValue(u,p,f)},configurable:!0,enumerable:!0})}),s}var Pr,va,_v,_a,ba,Ea,sh=le(()=>{"use strict";Wt();Yi();Xi();Pr={schedule(t,e){let n=setTimeout(t,e);return()=>clearTimeout(n)},scheduleBeforeRender(t){if(typeof window>"u")return Pr.schedule(t,0);if(typeof window.requestAnimationFrame>"u")return Pr.schedule(t,16);let e=window.requestAnimationFrame(t);return()=>window.cancelAnimationFrame(e)}};_v=10,_a=class{constructor(e,n){this.componentFactory=n.get(On).resolveComponentFactory(e)}create(e){return new ba(this.componentFactory,e)}},ba=class{constructor(e,n){this.componentFactory=e,this.injector=n,this.eventEmitters=new $n(1),this.events=this.eventEmitters.pipe(vs(i=>gs(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(Te),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=Pr.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},_v))})}getInputValue(e){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,n,i){this.runInZone(()=>{if(i&&(n=i.call(this.componentRef?.instance,n)),this.componentRef===null){this.initialInputValues.set(e,n);return}pv(n,this.getInputValue(e))&&!(n===void 0&&this.unchangedInputs.has(e))||(this.recordInputChange(e,n),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=n,this.scheduleDetectChanges())})}initializeComponent(e){let n=li.create({providers:[],parent:this.injector}),i=yv(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(sa),this.implementsOnChanges=hv(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(ui).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:n})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),n)}),this.initialInputValues.clear()}initializeOutputs(e){let n=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(Dt(a=>({name:r,value:a}))));this.eventEmitters.next(n)}callNgOnChanges(e){if(!this.implementsOnChanges||this.inputChanges===null)return;let n=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(n)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Pr.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,n){if(!this.implementsOnChanges)return;this.inputChanges===null&&(this.inputChanges={});let i=this.inputChanges[e];if(i){i.currentValue=n;return}let r=this.unchangedInputs.has(e),s=r?void 0:this.getInputValue(e);this.inputChanges[e]=new ei(s,n,r)}detectChanges(){this.componentRef!==null&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},Ea=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}});var Rr=ft(()=>{"use strict"});var lh=ft((Qw,ah)=>{"use strict";var bv="bold|bolder|lighter|[1-9]00",Ev="italic|oblique",wv="small-caps",Av="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",Cv="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",oh=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,Dv=new RegExp(`(${bv}) +`,"i"),Sv=new RegExp(`(${Ev}) +`,"i"),Iv=new RegExp(`(${wv}) +`,"i"),Mv=new RegExp(`(${Av}) +`,"i"),xv=new RegExp(`([\\d\\.]+)(${Cv}) *((?:${oh})( *, *(?:${oh}))*)`),wa={},Tv=16;ah.exports=t=>{if(wa[t])return wa[t];let e=xv.exec(t);if(!e)return;let n={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},i,r,s,a,u=t.substring(0,e.index);switch((i=Dv.exec(u))&&(n.weight=i[1]),(r=Sv.exec(u))&&(n.style=r[1]),(s=Iv.exec(u))&&(n.variant=s[1]),(a=Mv.exec(u))&&(n.stretch=a[1]),n.unit){case"pt":n.size/=.75;break;case"pc":n.size*=16;break;case"in":n.size*=96;break;case"cm":n.size*=96/2.54;break;case"mm":n.size*=96/25.4;break;case"%":break;case"em":case"rem":n.size*=Tv/.75;break;case"q":n.size*=96/25.4/4;break}return wa[t]=n}});var ch=ft(pi=>{"use strict";var Pv=lh();pi.parseFont=Pv;pi.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};pi.createImageData=function(t,e,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,n)}};pi.loadImage=function(t,e){return new Promise(function(n,i){let r=Object.assign(document.createElement("img"),e);function s(){r.onload=null,r.onerror=null}r.onload=function(){s(),n(r)},r.onerror=function(){s(),i(new Error('Failed to load the image "'+t+'"'))},r.src=t})}});var uh=ft(()=>{"use strict"});var Aa=ft(()=>{"use strict"});var Ca=ft(()=>{"use strict"});var dh=ft(()=>{"use strict"});var hh=ft((exports,module)=>{"use strict";(function(e,n){typeof exports=="object"&&typeof module=="object"?module.exports=e.pdfjsLib=n():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],()=>e.pdfjsLib=n()):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=e.pdfjsLib=n():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=n()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=A,e.bytesToString=$,e.createValidAbsoluteUrl=M,e.getModificationDate=Oe,e.getUuid=tt,e.getVerbosityLevel=B,e.info=U,e.isArrayBuffer=ye,e.isArrayEqual=We,e.isNodeJS=void 0,e.normalizeUnicode=kn,e.objectFromMap=W,e.objectSize=Z,e.setVerbosityLevel=X,e.shadow=k,e.string32=ne,e.stringToBytes=q,e.stringToPDFString=ue,e.stringToUTF8String=de,e.unreachable=b,e.utf8StringToString=he,e.warn=P;let n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=n;let i=[1,0,0,1,0,0];e.IDENTITY_MATRIX=i;let r=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=r;let s=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=s;let a=1.35;e.LINE_FACTOR=a;let u=.35;e.LINE_DESCENT_FACTOR=u;let f=u/a;e.BASELINE_FACTOR=f;let p={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=p;let c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=c;let o="pdfjs_internal_editor_";e.AnnotationEditorPrefix=o;let l={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=l;let g={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=g;let h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=h;let d={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=d;let v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=v;let y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=y;let D={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=D;let m={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=m;let _={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=_;let w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=w;let S={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=S;let I={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=I;let R={O:"PageOpen",C:"PageClose"};e.PageActionEventType=R;let O={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=O;let H={NONE:0,BINARY:1};e.CMapCompressionType=H;let z={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=z;let G={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=G;let Q=O.WARNINGS;function X(re){Number.isInteger(re)&&(Q=re)}function B(){return Q}function U(re){Q>=O.INFOS&&console.log(`Info: ${re}`)}function P(re){Q>=O.WARNINGS&&console.log(`Warning: ${re}`)}function b(re){throw new Error(re)}function A(re,te){re||b(te)}function C(re){switch(re?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(re,te=null,ee=null){if(!re)return null;try{if(ee&&typeof re=="string"&&(ee.addDefaultProtocol&&re.startsWith("www.")&&re.match(/\./g)?.length>=2&&(re=`http://${re}`),ee.tryConvertEncoding))try{re=de(re)}catch{}let ce=te?new URL(re,te):new URL(re);if(C(ce))return ce}catch{}return null}function k(re,te,ee,ce=!1){return Object.defineProperty(re,te,{value:ee,enumerable:!ce,configurable:!0,writable:!1}),ee}let N=function(){function te(ee,ce){this.constructor===te&&b("Cannot initialize BaseException."),this.message=ee,this.name=ce}return te.prototype=new Error,te.constructor=te,te}();e.BaseException=N;class j extends N{constructor(te,ee){super(te,"PasswordException"),this.code=ee}}e.PasswordException=j;class L extends N{constructor(te,ee){super(te,"UnknownErrorException"),this.details=ee}}e.UnknownErrorException=L;class E extends N{constructor(te){super(te,"InvalidPDFException")}}e.InvalidPDFException=E;class x extends N{constructor(te){super(te,"MissingPDFException")}}e.MissingPDFException=x;class T extends N{constructor(te,ee){super(te,"UnexpectedResponseException"),this.status=ee}}e.UnexpectedResponseException=T;class F extends N{constructor(te){super(te,"FormatError")}}e.FormatError=F;class V extends N{constructor(te){super(te,"AbortException")}}e.AbortException=V;function $(re){(typeof re!="object"||re?.length===void 0)&&b("Invalid argument for bytesToString");let te=re.length,ee=8192;if(te<ee)return String.fromCharCode.apply(null,re);let ce=[];for(let ve=0;ve<te;ve+=ee){let Me=Math.min(ve+ee,te),Ie=re.subarray(ve,Me);ce.push(String.fromCharCode.apply(null,Ie))}return ce.join("")}function q(re){typeof re!="string"&&b("Invalid argument for stringToBytes");let te=re.length,ee=new Uint8Array(te);for(let ce=0;ce<te;++ce)ee[ce]=re.charCodeAt(ce)&255;return ee}function ne(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,re&255)}function Z(re){return Object.keys(re).length}function W(re){let te=Object.create(null);for(let[ee,ce]of re)te[ee]=ce;return te}function K(){let re=new Uint8Array(4);return re[0]=1,new Uint32Array(re.buffer,0,1)[0]===1}function Y(){try{return new Function(""),!0}catch{return!1}}class J{static get isLittleEndian(){return k(this,"isLittleEndian",K())}static get isEvalSupported(){return k(this,"isEvalSupported",Y())}static get isOffscreenCanvasSupported(){return k(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?k(this,"platform",{isWin:!1,isMac:!1}):k(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return k(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}e.FeatureTest=J;let ie=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class se{static makeHexColor(te,ee,ce){return`#${ie[te]}${ie[ee]}${ie[ce]}`}static scaleMinMax(te,ee){let ce;te[0]?(te[0]<0&&(ce=ee[0],ee[0]=ee[1],ee[1]=ce),ee[0]*=te[0],ee[1]*=te[0],te[3]<0&&(ce=ee[2],ee[2]=ee[3],ee[3]=ce),ee[2]*=te[3],ee[3]*=te[3]):(ce=ee[0],ee[0]=ee[2],ee[2]=ce,ce=ee[1],ee[1]=ee[3],ee[3]=ce,te[1]<0&&(ce=ee[2],ee[2]=ee[3],ee[3]=ce),ee[2]*=te[1],ee[3]*=te[1],te[2]<0&&(ce=ee[0],ee[0]=ee[1],ee[1]=ce),ee[0]*=te[2],ee[1]*=te[2]),ee[0]+=te[4],ee[1]+=te[4],ee[2]+=te[5],ee[3]+=te[5]}static transform(te,ee){return[te[0]*ee[0]+te[2]*ee[1],te[1]*ee[0]+te[3]*ee[1],te[0]*ee[2]+te[2]*ee[3],te[1]*ee[2]+te[3]*ee[3],te[0]*ee[4]+te[2]*ee[5]+te[4],te[1]*ee[4]+te[3]*ee[5]+te[5]]}static applyTransform(te,ee){let ce=te[0]*ee[0]+te[1]*ee[2]+ee[4],ve=te[0]*ee[1]+te[1]*ee[3]+ee[5];return[ce,ve]}static applyInverseTransform(te,ee){let ce=ee[0]*ee[3]-ee[1]*ee[2],ve=(te[0]*ee[3]-te[1]*ee[2]+ee[2]*ee[5]-ee[4]*ee[3])/ce,Me=(-te[0]*ee[1]+te[1]*ee[0]+ee[4]*ee[1]-ee[5]*ee[0])/ce;return[ve,Me]}static getAxialAlignedBoundingBox(te,ee){let ce=this.applyTransform(te,ee),ve=this.applyTransform(te.slice(2,4),ee),Me=this.applyTransform([te[0],te[3]],ee),Ie=this.applyTransform([te[2],te[1]],ee);return[Math.min(ce[0],ve[0],Me[0],Ie[0]),Math.min(ce[1],ve[1],Me[1],Ie[1]),Math.max(ce[0],ve[0],Me[0],Ie[0]),Math.max(ce[1],ve[1],Me[1],Ie[1])]}static inverseTransform(te){let ee=te[0]*te[3]-te[1]*te[2];return[te[3]/ee,-te[1]/ee,-te[2]/ee,te[0]/ee,(te[2]*te[5]-te[4]*te[3])/ee,(te[4]*te[1]-te[5]*te[0])/ee]}static singularValueDecompose2dScale(te){let ee=[te[0],te[2],te[1],te[3]],ce=te[0]*ee[0]+te[1]*ee[2],ve=te[0]*ee[1]+te[1]*ee[3],Me=te[2]*ee[0]+te[3]*ee[2],Ie=te[2]*ee[1]+te[3]*ee[3],Ft=(ce+Ie)/2,kt=Math.sqrt((ce+Ie)**2-4*(ce*Ie-Me*ve))/2,At=Ft+kt||1,Be=Ft-kt||1;return[Math.sqrt(At),Math.sqrt(Be)]}static normalizeRect(te){let ee=te.slice(0);return te[0]>te[2]&&(ee[0]=te[2],ee[2]=te[0]),te[1]>te[3]&&(ee[1]=te[3],ee[3]=te[1]),ee}static intersect(te,ee){let ce=Math.max(Math.min(te[0],te[2]),Math.min(ee[0],ee[2])),ve=Math.min(Math.max(te[0],te[2]),Math.max(ee[0],ee[2]));if(ce>ve)return null;let Me=Math.max(Math.min(te[1],te[3]),Math.min(ee[1],ee[3])),Ie=Math.min(Math.max(te[1],te[3]),Math.max(ee[1],ee[3]));return Me>Ie?null:[ce,Me,ve,Ie]}static bezierBoundingBox(te,ee,ce,ve,Me,Ie,Ft,kt){let At=[],Be=[[],[]],Lt,Bt,mi,Ne,yi,vi,Nr,Fr;for(let kr=0;kr<2;++kr){if(kr===0?(Bt=6*te-12*ce+6*Me,Lt=-3*te+9*ce-9*Me+3*Ft,mi=3*ce-3*te):(Bt=6*ee-12*ve+6*Ie,Lt=-3*ee+9*ve-9*Ie+3*kt,mi=3*ve-3*ee),Math.abs(Lt)<1e-12){if(Math.abs(Bt)<1e-12)continue;Ne=-mi/Bt,0<Ne&&Ne<1&&At.push(Ne);continue}Nr=Bt*Bt-4*mi*Lt,Fr=Math.sqrt(Nr),!(Nr<0)&&(yi=(-Bt+Fr)/(2*Lt),0<yi&&yi<1&&At.push(yi),vi=(-Bt-Fr)/(2*Lt),0<vi&&vi<1&&At.push(vi))}let Ln=At.length,Ze,Bn=Ln;for(;Ln--;)Ne=At[Ln],Ze=1-Ne,Be[0][Ln]=Ze*Ze*Ze*te+3*Ze*Ze*Ne*ce+3*Ze*Ne*Ne*Me+Ne*Ne*Ne*Ft,Be[1][Ln]=Ze*Ze*Ze*ee+3*Ze*Ze*Ne*ve+3*Ze*Ne*Ne*Ie+Ne*Ne*Ne*kt;return Be[0][Bn]=te,Be[1][Bn]=ee,Be[0][Bn+1]=Ft,Be[1][Bn+1]=kt,Be[0].length=Be[1].length=Bn+2,[Math.min(...Be[0]),Math.min(...Be[1]),Math.max(...Be[0]),Math.max(...Be[1])]}}e.Util=se;let ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(re){if(re[0]>="\xEF"){let ee;if(re[0]==="\xFE"&&re[1]==="\xFF"?ee="utf-16be":re[0]==="\xFF"&&re[1]==="\xFE"?ee="utf-16le":re[0]==="\xEF"&&re[1]==="\xBB"&&re[2]==="\xBF"&&(ee="utf-8"),ee)try{let ce=new TextDecoder(ee,{fatal:!0}),ve=q(re);return ce.decode(ve)}catch(ce){P(`stringToPDFString: "${ce}".`)}}let te=[];for(let ee=0,ce=re.length;ee<ce;ee++){let ve=ae[re.charCodeAt(ee)];te.push(ve?String.fromCharCode(ve):re.charAt(ee))}return te.join("")}function de(re){return decodeURIComponent(escape(re))}function he(re){return unescape(encodeURIComponent(re))}function ye(re){return typeof re=="object"&&re?.byteLength!==void 0}function We(re,te){if(re.length!==te.length)return!1;for(let ee=0,ce=re.length;ee<ce;ee++)if(re[ee]!==te[ee])return!1;return!0}function Oe(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")}class et{#e=!1;constructor(){this.promise=new Promise((te,ee)=>{this.resolve=ce=>{this.#e=!0,te(ce)},this.reject=ce=>{this.#e=!0,ee(ce)}})}get settled(){return this.#e}}e.PromiseCapability=et;let Re=null,st=null;function kn(re){return Re||(Re=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,st=new Map([["\uFB05","\u017Ft"]])),re.replaceAll(Re,(te,ee,ce)=>ee?ee.normalize("NFKC"):st.get(ce))}function tt(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let re=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(re);else for(let te=0;te<32;te++)re[te]=Math.floor(Math.random()*255);return $(re)}let Le="pdfjs_internal_id_";e.AnnotationPrefix=Le},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(t){if(typeof t=="string"||t instanceof URL?t={url:t}:(0,_util.isArrayBuffer)(t)&&(t={data:t}),typeof t!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");let e=new PDFDocumentLoadingTask,{docId:n}=e,i=t.url?getUrlProp(t.url):null,r=t.data?getDataProp(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,u=t.password??null,f=t.range instanceof PDFDataRangeTransport?t.range:null,p=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,c=t.worker instanceof PDFWorker?t.worker:null,o=t.verbosity,l=typeof t.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(t.docBaseUrl)?t.docBaseUrl:null,g=typeof t.cMapUrl=="string"?t.cMapUrl:null,h=t.cMapPacked!==!1,d=t.CMapReaderFactory||DefaultCMapReaderFactory,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,y=t.StandardFontDataFactory||DefaultStandardFontDataFactory,D=t.stopAtErrors!==!0,m=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,_=t.isEvalSupported!==!1,w=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!_util.isNodeJS,S=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,I=typeof t.disableFontFace=="boolean"?t.disableFontFace:_util.isNodeJS,R=t.fontExtraProperties===!0,O=t.enableXfa===!0,H=t.ownerDocument||globalThis.document,z=t.disableRange===!0,G=t.disableStream===!0,Q=t.disableAutoFetch===!0,X=t.pdfBug===!0,B=f?f.length:t.length??NaN,U=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!_util.isNodeJS&&!I,P=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:d===_display_utils.DOMCMapReaderFactory&&y===_display_utils.DOMStandardFontDataFactory&&g&&v&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(v,document.baseURI),b=t.canvasFactory||new DefaultCanvasFactory({ownerDocument:H}),A=t.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:H}),C=null;(0,_util.setVerbosityLevel)(o);let M={canvasFactory:b,filterFactory:A};if(P||(M.cMapReaderFactory=new d({baseUrl:g,isCompressed:h}),M.standardFontDataFactory=new y({baseUrl:v})),!c){let j={verbosity:o,port:_worker_options.GlobalWorkerOptions.workerPort};c=j.port?PDFWorker.fromPort(j):new PDFWorker(j),e._worker=c}let k={docId:n,apiVersion:"3.11.174",data:r,password:u,disableAutoFetch:Q,rangeChunkSize:p,length:B,docBaseUrl:l,enableXfa:O,evaluatorOptions:{maxImageSize:m,disableFontFace:I,ignoreErrors:D,isEvalSupported:_,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:S,fontExtraProperties:R,useSystemFonts:U,cMapUrl:P?g:null,standardFontDataUrl:P?v:null}},N={ignoreErrors:D,isEvalSupported:_,disableFontFace:I,fontExtraProperties:R,enableXfa:O,ownerDocument:H,disableAutoFetch:Q,pdfBug:X,styleElement:C};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let j=_fetchDocument(c,k),L=new Promise(function(E){let x;f?x=new _transport_stream.PDFDataTransportStream({length:B,initialData:f.initialData,progressiveDone:f.progressiveDone,contentDispositionFilename:f.contentDispositionFilename,disableRange:z,disableStream:G},f):r||(x=(F=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(F):(0,_display_utils.isValidFetchUrl)(F.url)?new _displayFetch_stream.PDFFetchStream(F):new _displayNetwork.PDFNetworkStream(F))({url:i,length:B,httpHeaders:s,withCredentials:a,rangeChunkSize:p,disableRange:z,disableStream:G})),E(x)});return Promise.all([j,L]).then(function([E,x]){if(e.destroyed)throw new Error("Loading aborted");let T=new _message_handler.MessageHandler(n,E,c.port),F=new WorkerTransport(T,e,x,N,M);e._transport=F,T.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(t,e){return oe(this,null,function*(){if(t.destroyed)throw new Error("Worker was destroyed");let n=yield t.messageHandler.sendWithPromise("GetDocRequest",e,e.data?[e.data.buffer]:null);if(t.destroyed)throw new Error("Worker was destroyed");return n})}function getUrlProp(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(_util.isNodeJS&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(t){if(_util.isNodeJS&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return(0,_util.stringToBytes)(t);if(typeof t=="object"&&!isNaN(t?.length)||(0,_util.isArrayBuffer)(t))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return oe(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,n,i=!1,r=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(let i of this._rangeListeners)i(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,n){this._pdfInfo=e,this._transport=n,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(i=>{if(!i)return i;let r=[];for(let s in i)r.push(...i[s]);return r}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(e,n,i,r=!1){this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){let n=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return oe(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:r=_util.AnnotationMode.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:u=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:c=null}){this._stats?.time("Overall");let o=this._transport.getRenderingIntent(i,r,c);this.#t=!1,this.#i(),u||(u=this._transport.getOptionalContentConfig());let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l)),l.streamReaderCancelTimeout&&(clearTimeout(l.streamReaderCancelTimeout),l.streamReaderCancelTimeout=null);let g=!!(o.renderingIntent&_util.RenderingIntentFlag.PRINT);l.displayReadyCapability||(l.displayReadyCapability=new _util.PromiseCapability,l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o));let h=y=>{l.renderTasks.delete(d),(this._maybeCleanupAfterRender||g)&&(this.#t=!0),this.#n(!g),y?(d.capability.reject(y),this._abortOperatorList({intentState:l,reason:y instanceof Error?y:new Error(y)})):d.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},d=new InternalRenderTask({callback:h,params:{canvasContext:e,viewport:n,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:l.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:p});(l.renderTasks||=new Set).add(d);let v=d.task;return Promise.all([l.displayReadyCapability.promise,u]).then(([y,D])=>{if(this.destroyed){h();return}this._stats?.time("Rendering"),d.initializeGraphics({transparency:y,optionalContentConfig:D}),d.operatorListChanged()}).catch(h),v}getOperatorList({intent:e="display",annotationMode:n=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}={}){function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(u))}let s=this._transport.getRenderingIntent(e,n,i,!0),a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let u;return a.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,a.opListReadCapability=new _util.PromiseCapability,(a.renderTasks||=new Set).add(u),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));let n=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:f,done:p}){if(p){i(u);return}Object.assign(u.styles,f.styles),u.items.push(...f.items),s()},r)}let a=n.getReader(),u={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(let i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let n=this.#n(!1);return e&&n&&(this._stats&&=new _display_utils.StatTimer),n}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(let{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,n){let i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let i=0,r=e.length;i<r;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(let i of n.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i}){let{map:r,transfers:s}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r},s).getReader(),f=this._intentStates.get(n);f.streamReader=u;let p=()=>{u.read().then(({value:c,done:o})=>{if(o){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,f),p())},c=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(let o of f.renderTasks)o.operatorListChanged();this.#n(!0)}if(f.displayReadyCapability)f.displayReadyCapability.reject(c);else if(f.opListReadCapability)f.opListReadCapability.reject(c);else throw c}})};p()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let r=RENDERING_CANCELLED_TIMEOUT;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},r);return}}if(e.streamReader.cancel(new _util.AbortException(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(e,n){let i={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(let r of this.#e)r.call(this,i)})}addEventListener(e,n){this.#e.add(n)}removeEventListener(e,n){this.#e.delete(n)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof Br=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}let i=new URL(e,n);return n.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(t){let e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts;constructor({name:t=null,port:e=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,e){if(PDFWorker.#workerPorts?.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t),n=new _message_handler.MessageHandler("main","worker",e),i=()=>{e.removeEventListener("error",r),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||i()};e.addEventListener("error",r),n.on("test",a=>{if(e.removeEventListener("error",r),this.destroyed){i();return}a?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())}),n.on("ready",a=>{if(e.removeEventListener("error",r),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let a=new Uint8Array;n.send("test",a,[a.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let n=`fake${PDFWorkerUtil.fakeWorkerId++}`,i=new _message_handler.MessageHandler(n+"_worker",n,e);t.setup(i,e);let r=new _message_handler.MessageHandler(n,n+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let e=this.#workerPorts?.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>oe(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof Br=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#i=null;constructor(e,n,i,r,s){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(e,n=null){let i=this.#e.get(e);if(i)return i;let r=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e,n=_util.AnnotationMode.ENABLE,i=null,r=!1){let s=_util.RenderingIntentFlag.DISPLAY,a=_annotation_storage.SerializableEmpty;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,a=(s&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${n}`)}return r&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,r)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}(0,_util.assert)(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",i=>{let r=new _util.PromiseCapability,s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),s.onProgress=a=>{n.onProgress?.({loaded:a.loaded,total:a.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:u}){if(u){r.close();return}(0,_util.assert)(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":r=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":r=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":r=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":r=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(r)}),e.on("PasswordRequest",i=>{if(this.#i=new _util.PromiseCapability,n.onPassword){let r=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};try{n.onPassword(r,i.code)}catch(s){this.#i.reject(s)}}else this.#i.reject(new _util.PasswordException(i.message,i.code));return this.#i.promise}),e.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(r){case"Font":let a=this._params;if("error"in s){let p=s.error;(0,_util.warn)(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}let u=a.pdfBug&&globalThis.FontInspector?.enabled?(p,c)=>globalThis.FontInspector.fontAdded(p,c):null,f=new _font_loader.FontFaceObject(s,{isEvalSupported:a.isEvalSupported,disableFontFace:a.disableFontFace,ignoreErrors:a.ignoreErrors,inspectFont:u});this.fontLoader.bind(f).catch(p=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!a.fontExtraProperties&&f.data&&(f.data=null),this.commonObjs.resolve(i,f)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}}),e.on("obj",([i,r,s,a])=>{if(this.destroyed)return;let u=this.#t.get(r);if(!u.objs.has(i))switch(s){case"Image":if(u.objs.resolve(i,a),a){let f;if(a.bitmap){let{width:p,height:c}=a;f=p*c*4}else f=a.data?.length||0;f>_util.MAX_IMAGE_SIZE_TO_CACHE&&(u._maybeCleanupAfterRender=!0)}break;case"Pattern":u.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}),e.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfers:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let n=e-1,i=this.#n.get(n);if(i)return i;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let a=new PDFPageProxy(n,s,this,this._params.pdfBug);return this.#t.set(n,a),a});return this.#n.set(n,r),r}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",n=this.#e.get(e);if(n)return n;let i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return oe(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){let{disableAutoFetch:e,enableXfa:n}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:n})}}class PDFObjects{#e=Object.create(null);#t(e){return this.#e[e]||={capability:new _util.PromiseCapability,data:null}}get(e,n=null){if(n){let r=this.#t(e);return r.capability.promise.then(()=>n(r.data)),null}let i=this.#e[e];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,n=null){let i=this.#t(e);i.data=n,i.capability.resolve()}clear(){for(let e in this.#e){let{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:u,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:c=!1,pdfBug:o=!1,pageColors:l=null}){this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=u,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=o,this.pageColors=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return oe(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="3.11.174";exports.version=version;let build="ce8716743";exports.build=build},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var i=n(1),r=n(4),s=n(8);let a=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=a;class u{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,o){let l=this.#t.get(c);return l===void 0?o:Object.assign(o,l)}getRawValue(c){return this.#t.get(c)}remove(c){if(this.#t.delete(c),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let o of this.#t.values())if(o instanceof r.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,o){let l=this.#t.get(c),g=!1;if(l!==void 0)for(let[h,d]of Object.entries(o))l[h]!==d&&(g=!0,l[h]=d);else g=!0,this.#t.set(c,o);g&&this.#n(),o instanceof r.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(o.constructor._type)}has(c){return this.#t.has(c)}getAll(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}setAll(c){for(let[o,l]of Object.entries(c))this.setValue(o,l)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f(this)}get serializable(){if(this.#t.size===0)return a;let c=new Map,o=new s.MurmurHash3_64,l=[],g=Object.create(null),h=!1;for(let[d,v]of this.#t){let y=v instanceof r.AnnotationEditor?v.serialize(!1,g):v;y&&(c.set(d,y),o.update(`${d}:${JSON.stringify(y)}`),h||=!!y.bitmap)}if(h)for(let d of c.values())d.bitmap&&l.push(d.bitmap);return c.size>0?{map:c,hash:o.hexdigest(),transfers:l}:a}}e.AnnotationStorage=u;class f extends u{#e;constructor(c){super();let{map:o,hash:l,transfers:g}=c.serializable,h=structuredClone(o,g?{transfer:g}:null);this.#e={map:h,hash:l,transfers:g}}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var i=n(5),r=n(1),s=n(6);class a{#e="";#t=!1;#n=null;#i=null;#a=null;#s=!1;#o=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#r=!1;#u=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#f=!1;#p=a._zIndex++;static _borderLineWidth=-1;static _colorManager=new i.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(p){this.constructor===a&&(0,r.unreachable)("Cannot initialize AnnotationEditor."),this.parent=p.parent,this.id=p.id,this.width=this.height=null,this.pageIndex=p.parent.pageIndex,this.name=p.name,this.div=null,this._uiManager=p.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=p.isCentered,this._structTreeParentId=null;let{rotation:c,rawDims:{pageWidth:o,pageHeight:l,pageX:g,pageY:h}}=this.parent.viewport;this.rotation=c,this.pageRotation=(360+c-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[o,l],this.pageTranslation=[g,h];let[d,v]=this.parentDimensions;this.x=p.x/d,this.y=p.y/v,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,r.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(p){let c=new u({id:p.parent.getNextId(),parent:p.parent,uiManager:p._uiManager});c.annotationElementId=p.annotationElementId,c.deleted=!0,c._uiManager.addToAnnotationStorage(c)}static initialize(p,c=null){if(a._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(l=>[l,p.get(l)])),c?.strings)for(let l of c.strings)a._l10nPromise.set(l,p.get(l));if(a._borderLineWidth!==-1)return;let o=getComputedStyle(document.documentElement);a._borderLineWidth=parseFloat(o.getPropertyValue("--outline-width"))||0}static updateDefaultParams(p,c){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(p){return!1}static paste(p,c){(0,r.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#f}set _isDraggable(p){this.#f=p,this.div?.classList.toggle("draggable",p)}center(){let[p,c]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*c/(p*2),this.y+=this.width*p/(c*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*c/(p*2),this.y-=this.width*p/(c*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(p){this._uiManager.addCommands(p)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(p){p!==null&&(this.pageIndex=p.pageIndex,this.pageDimensions=p.pageDimensions),this.parent=p}focusin(p){this._focusEventsAllowed&&(this.#r?this.#r=!1:this.parent.setSelected(this))}focusout(p){!this._focusEventsAllowed||!this.isAttachedToDOM||p.relatedTarget?.closest(`#${this.id}`)||(p.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(p,c,o,l){let[g,h]=this.parentDimensions;[o,l]=this.screenToPageTranslation(o,l),this.x=(p+o)/g,this.y=(c+l)/h,this.fixAndSetPosition()}#g([p,c],o,l){[o,l]=this.screenToPageTranslation(o,l),this.x+=o/p,this.y+=l/c,this.fixAndSetPosition()}translate(p,c){this.#g(this.parentDimensions,p,c)}translateInPage(p,c){this.#g(this.pageDimensions,p,c),this.div.scrollIntoView({block:"nearest"})}drag(p,c){let[o,l]=this.parentDimensions;if(this.x+=p/o,this.y+=c/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:y,y:D}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,D)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:g,y:h}=this,[d,v]=this.#m();g+=d,h+=v,this.div.style.left=`${(100*g).toFixed(2)}%`,this.div.style.top=`${(100*h).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){let[p,c]=this.parentDimensions,{_borderLineWidth:o}=a,l=o/p,g=o/c;switch(this.rotation){case 90:return[-l,g];case 180:return[l,g];case 270:return[l,-g];default:return[-l,-g]}}fixAndSetPosition(){let[p,c]=this.pageDimensions,{x:o,y:l,width:g,height:h}=this;switch(g*=p,h*=c,o*=p,l*=c,this.rotation){case 0:o=Math.max(0,Math.min(p-g,o)),l=Math.max(0,Math.min(c-h,l));break;case 90:o=Math.max(0,Math.min(p-h,o)),l=Math.min(c,Math.max(g,l));break;case 180:o=Math.min(p,Math.max(g,o)),l=Math.min(c,Math.max(h,l));break;case 270:o=Math.min(p,Math.max(h,o)),l=Math.max(0,Math.min(c-g,l));break}this.x=o/=p,this.y=l/=c;let[d,v]=this.#m();o+=d,l+=v;let{style:y}=this.div;y.left=`${(100*o).toFixed(2)}%`,y.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#y(p,c,o){switch(o){case 90:return[c,-p];case 180:return[-p,-c];case 270:return[-c,p];default:return[p,c]}}screenToPageTranslation(p,c){return a.#y(p,c,this.parentRotation)}pageTranslationToScreen(p,c){return a.#y(p,c,360-this.parentRotation)}#h(p){switch(p){case 90:{let[c,o]=this.pageDimensions;return[0,-c/o,o/c,0]}case 180:return[-1,0,0,-1];case 270:{let[c,o]=this.pageDimensions;return[0,c/o,-o/c,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:p,pageDimensions:[c,o]}=this,l=c*p,g=o*p;return r.FeatureTest.isCSSRoundSupported?[Math.round(l),Math.round(g)]:[l,g]}setDims(p,c){let[o,l]=this.parentDimensions;this.div.style.width=`${(100*p/o).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*c/l).toFixed(2)}%`),this.#n?.classList.toggle("small",p<a.SMALL_EDITOR_SIZE||c<a.SMALL_EDITOR_SIZE)}fixDims(){let{style:p}=this.div,{height:c,width:o}=p,l=o.endsWith("%"),g=!this.#s&&c.endsWith("%");if(l&&g)return;let[h,d]=this.parentDimensions;l||(p.width=`${(100*parseFloat(o)/h).toFixed(2)}%`),!this.#s&&!g&&(p.height=`${(100*parseFloat(c)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let p=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||p.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(let c of p){let o=document.createElement("div");this.#o.append(o),o.classList.add("resizer",c),o.addEventListener("pointerdown",this.#C.bind(this,c)),o.addEventListener("contextmenu",s.noContextMenu)}this.div.prepend(this.#o)}#C(p,c){c.preventDefault();let{isMac:o}=r.FeatureTest.platform;if(c.button!==0||c.ctrlKey&&o)return;let l=this.#b.bind(this,p),g=this._isDraggable;this._isDraggable=!1;let h={passive:!0,capture:!0};window.addEventListener("pointermove",l,h);let d=this.x,v=this.y,y=this.width,D=this.height,m=this.parent.div.style.cursor,_=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(c.target).cursor;let w=()=>{this._isDraggable=g,window.removeEventListener("pointerup",w),window.removeEventListener("blur",w),window.removeEventListener("pointermove",l,h),this.parent.div.style.cursor=m,this.div.style.cursor=_;let S=this.x,I=this.y,R=this.width,O=this.height;S===d&&I===v&&R===y&&O===D||this.addCommands({cmd:()=>{this.width=R,this.height=O,this.x=S,this.y=I;let[H,z]=this.parentDimensions;this.setDims(H*R,z*O),this.fixAndSetPosition()},undo:()=>{this.width=y,this.height=D,this.x=d,this.y=v;let[H,z]=this.parentDimensions;this.setDims(H*y,z*D),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",w),window.addEventListener("blur",w)}#b(p,c){let[o,l]=this.parentDimensions,g=this.x,h=this.y,d=this.width,v=this.height,y=a.MIN_SIZE/o,D=a.MIN_SIZE/l,m=L=>Math.round(L*1e4)/1e4,_=this.#h(this.rotation),w=(L,E)=>[_[0]*L+_[2]*E,_[1]*L+_[3]*E],S=this.#h(360-this.rotation),I=(L,E)=>[S[0]*L+S[2]*E,S[1]*L+S[3]*E],R,O,H=!1,z=!1;switch(p){case"topLeft":H=!0,R=(L,E)=>[0,0],O=(L,E)=>[L,E];break;case"topMiddle":R=(L,E)=>[L/2,0],O=(L,E)=>[L/2,E];break;case"topRight":H=!0,R=(L,E)=>[L,0],O=(L,E)=>[0,E];break;case"middleRight":z=!0,R=(L,E)=>[L,E/2],O=(L,E)=>[0,E/2];break;case"bottomRight":H=!0,R=(L,E)=>[L,E],O=(L,E)=>[0,0];break;case"bottomMiddle":R=(L,E)=>[L/2,E],O=(L,E)=>[L/2,0];break;case"bottomLeft":H=!0,R=(L,E)=>[0,E],O=(L,E)=>[L,0];break;case"middleLeft":z=!0,R=(L,E)=>[0,E/2],O=(L,E)=>[L,E/2];break}let G=R(d,v),Q=O(d,v),X=w(...Q),B=m(g+X[0]),U=m(h+X[1]),P=1,b=1,[A,C]=this.screenToPageTranslation(c.movementX,c.movementY);if([A,C]=I(A/o,C/l),H){let L=Math.hypot(d,v);P=b=Math.max(Math.min(Math.hypot(Q[0]-G[0]-A,Q[1]-G[1]-C)/L,1/d,1/v),y/d,D/v)}else z?P=Math.max(y,Math.min(1,Math.abs(Q[0]-G[0]-A)))/d:b=Math.max(D,Math.min(1,Math.abs(Q[1]-G[1]-C)))/v;let M=m(d*P),k=m(v*b);X=w(...O(M,k));let N=B-X[0],j=U-X[1];this.width=M,this.height=k,this.x=N,this.y=j,this.setDims(o*M,l*k),this.fixAndSetPosition()}addAltTextButton(){return oe(this,null,function*(){if(this.#n)return;let p=this.#n=document.createElement("button");p.className="altText";let c=yield a._l10nPromise.get("editor_alt_text_button_label");p.textContent=c,p.setAttribute("aria-label",c),p.tabIndex="0",p.addEventListener("contextmenu",s.noContextMenu),p.addEventListener("pointerdown",o=>o.stopPropagation()),p.addEventListener("click",o=>{o.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),p.addEventListener("keydown",o=>{o.target===p&&o.key==="Enter"&&(o.preventDefault(),this._uiManager.editAltText(this))}),this.#E(),this.div.append(p),a.SMALL_EDITOR_SIZE||(a.SMALL_EDITOR_SIZE=Math.min(128,Math.round(p.getBoundingClientRect().width*1.4)))})}#E(){return oe(this,null,function*(){let p=this.#n;if(!p)return;if(!this.#e&&!this.#t){p.classList.remove("done"),this.#i?.remove();return}a._l10nPromise.get("editor_alt_text_edit_button_label").then(o=>{p.setAttribute("aria-label",o)});let c=this.#i;if(!c){this.#i=c=document.createElement("span"),c.className="tooltip",c.setAttribute("role","tooltip");let o=c.id=`alt-text-tooltip-${this.id}`;p.setAttribute("aria-describedby",o);let l=100;p.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},l)}),p.addEventListener("mouseleave",()=>{clearTimeout(this.#a),this.#a=null,this.#i?.classList.remove("show")})}p.classList.add("done"),c.innerText=this.#t?yield a._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,c.parentNode||p.append(c)})}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:p,decorative:c}){this.#e===p&&this.#t===c||(this.#e=p,this.#t=c,this.#E())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);let[p,c]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*c/p).toFixed(2)}%`,this.div.style.maxHeight=`${(100*p/c).toFixed(2)}%`);let[o,l]=this.getInitialTranslation();return this.translate(o,l),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(p){let{isMac:c}=r.FeatureTest.platform;if(p.button!==0||p.ctrlKey&&c){p.preventDefault();return}this.#r=!0,this.#w(p)}#w(p){if(!this._isDraggable)return;let c=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let o,l;c&&(o={passive:!0,capture:!0},l=h=>{let[d,v]=this.screenToPageTranslation(h.movementX,h.movementY);this._uiManager.dragSelectedEditors(d,v)},window.addEventListener("pointermove",l,o));let g=()=>{if(window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),c&&window.removeEventListener("pointermove",l,o),this.#r=!1,!this._uiManager.endDragSession()){let{isMac:h}=r.FeatureTest.platform;p.ctrlKey&&!h||p.shiftKey||p.metaKey&&h?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",g),window.addEventListener("blur",g)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(p,c,o){p.changeParent(this),this.x=c,this.y=o,this.fixAndSetPosition()}getRect(p,c){let o=this.parentScale,[l,g]=this.pageDimensions,[h,d]=this.pageTranslation,v=p/o,y=c/o,D=this.x*l,m=this.y*g,_=this.width*l,w=this.height*g;switch(this.rotation){case 0:return[D+v+h,g-m-y-w+d,D+v+_+h,g-m-y+d];case 90:return[D+y+h,g-m+v+d,D+y+w+h,g-m+v+_+d];case 180:return[D-v-_+h,g-m+y+d,D-v+h,g-m+y+w+d];case 270:return[D-y-w+h,g-m-v-_+d,D-y+h,g-m-v+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(p,c){let[o,l,g,h]=p,d=g-o,v=h-l;switch(this.rotation){case 0:return[o,c-h,d,v];case 90:return[o,c-l,v,d];case 180:return[g,c-l,d,v];case 270:return[g,c-h,v,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(p=!1,c=null){(0,r.unreachable)("An editor must be serializable")}static deserialize(p,c,o){let l=new this.prototype.constructor({parent:c,id:c.getNextId(),uiManager:o});l.rotation=p.rotation;let[g,h]=l.pageDimensions,[d,v,y,D]=l.getRectInCurrentCoords(p.rect,h);return l.x=d/g,l.y=v/h,l.width=y/g,l.height=D/h,l}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#o.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(p,c){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#u}set isEditing(p){this.#u=p,this.parent&&(p?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(p,c){this.#s=!0;let o=p/c,{style:l}=this.div;l.aspectRatio=o,l.height="auto"}static get MIN_SIZE(){return 16}}e.AnnotationEditor=a;class u extends a{constructor(p){super(p),this.annotationElementId=p.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=a;var i=n(1),r=n(6);function s(g,h,d){for(let v of d)h.addEventListener(v,g[v].bind(g))}function a(g){return Math.round(Math.min(255,Math.max(1,255*g))).toString(16).padStart(2,"0")}class u{#e=0;getId(){return`${i.AnnotationEditorPrefix}${this.#e++}`}}class f{#e=(0,i.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){let h='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',v=new OffscreenCanvas(1,3).getContext("2d"),y=new Image;y.src=h;let D=y.decode().then(()=>(v.drawImage(y,0,0,1,1,0,0,1,3),new Uint32Array(v.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",D)}#i(h,d){return oe(this,null,function*(){this.#n||=new Map;let v=this.#n.get(h);if(v===null)return null;if(v?.bitmap)return v.refCounter+=1,v;try{v||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let y;if(typeof d=="string"){v.url=d;let D=yield fetch(d);if(!D.ok)throw new Error(D.statusText);y=yield D.blob()}else y=v.file=d;if(y.type==="image/svg+xml"){let D=f._isSVGFittingCanvas,m=new FileReader,_=new Image,w=new Promise((S,I)=>{_.onload=()=>{v.bitmap=_,v.isSvg=!0,S()},m.onload=()=>oe(this,null,function*(){let R=v.svgUrl=m.result;_.src=(yield D)?`${R}#svgView(preserveAspectRatio(none))`:R}),_.onerror=m.onerror=I});m.readAsDataURL(y),yield w}else v.bitmap=yield createImageBitmap(y);v.refCounter=1}catch(y){console.error(y),v=null}return this.#n.set(h,v),v&&this.#n.set(v.id,v),v})}getFromFile(h){return oe(this,null,function*(){let{lastModified:d,name:v,size:y,type:D}=h;return this.#i(`${d}_${v}_${y}_${D}`,h)})}getFromUrl(h){return oe(this,null,function*(){return this.#i(h,h)})}getFromId(h){return oe(this,null,function*(){this.#n||=new Map;let d=this.#n.get(h);return d?d.bitmap?(d.refCounter+=1,d):d.file?this.getFromFile(d.file):this.getFromUrl(d.url):null})}getSvgUrl(h){let d=this.#n.get(h);return d?.isSvg?d.svgUrl:null}deleteId(h){this.#n||=new Map;let d=this.#n.get(h);d&&(d.refCounter-=1,d.refCounter===0&&(d.bitmap=null))}isValidId(h){return h.startsWith(`image_${this.#e}_`)}}class p{#e=[];#t=!1;#n;#i=-1;constructor(h=128){this.#n=h}add({cmd:h,undo:d,mustExec:v,type:y=NaN,overwriteIfSameType:D=!1,keepUndo:m=!1}){if(v&&h(),this.#t)return;let _={cmd:h,undo:d,type:y};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(_);return}if(D&&this.#e[this.#i].type===y){m&&(_.undo=this.#e[this.#i].undo),this.#e[this.#i]=_;return}let w=this.#i+1;w===this.#n?this.#e.splice(0,1):(this.#i=w,w<this.#e.length&&this.#e.splice(w)),this.#e.push(_)}undo(){this.#i!==-1&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=p;class c{constructor(h){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:d}=i.FeatureTest.platform;for(let[v,y,D={}]of h)for(let m of v){let _=m.startsWith("mac+");d&&_?(this.callbacks.set(m.slice(4),{callback:y,options:D}),this.allKeys.add(m.split("+").at(-1))):!d&&!_&&(this.callbacks.set(m,{callback:y,options:D}),this.allKeys.add(m.split("+").at(-1)))}}#e(h){h.altKey&&this.buffer.push("alt"),h.ctrlKey&&this.buffer.push("ctrl"),h.metaKey&&this.buffer.push("meta"),h.shiftKey&&this.buffer.push("shift"),this.buffer.push(h.key);let d=this.buffer.join("+");return this.buffer.length=0,d}exec(h,d){if(!this.allKeys.has(d.key))return;let v=this.callbacks.get(this.#e(d));if(!v)return;let{callback:y,options:{bubbles:D=!1,args:m=[],checker:_=null}}=v;_&&!_(h,d)||(y.bind(h,...m)(),D||(d.stopPropagation(),d.preventDefault()))}}e.KeyboardManager=c;class o{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let h=new Map([["CanvasText",null],["Canvas",null]]);return(0,r.getColorValues)(h),(0,i.shadow)(this,"_colors",h)}convert(h){let d=(0,r.getRGB)(h);if(!window.matchMedia("(forced-colors: active)").matches)return d;for(let[v,y]of this._colors)if(y.every((D,m)=>D===d[m]))return o._colorsMapping.get(v);return d}getHexCode(h){let d=this._colors.get(h);return d?i.Util.makeHexColor(...d):h}}e.ColorManager=o;let l=(()=>{class g{#e=null;#t=new Map;#n=new Map;#i=null;#a=null;#s=new p;#o=0;#l=new Set;#c=null;#r=null;#u=new Set;#d=null;#f=new u;#p=!1;#g=!1;#m=null;#y=i.AnnotationEditorType.NONE;#h=new Set;#v=null;#C=this.blur.bind(this);#b=this.focus.bind(this);#E=this.copy.bind(this);#w=this.cut.bind(this);#O=this.paste.bind(this);#R=this.keydown.bind(this);#N=this.onEditingAction.bind(this);#_=this.onPageChanging.bind(this);#I=this.onScaleChanging.bind(this);#M=this.onRotationChanging.bind(this);#x={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#A=[0,0];#S=null;#T=null;#L=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let d=g.prototype,v=m=>{let{activeElement:_}=document;return _&&m.#T.contains(_)&&m.hasSomethingToControl()},y=this.TRANSLATE_SMALL,D=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new c([[["ctrl+a","mac+meta+a"],d.selectAll],[["ctrl+z","mac+meta+z"],d.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],d.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],d.delete],[["Escape","mac+Escape"],d.unselectAll],[["ArrowLeft","mac+ArrowLeft"],d.translateSelectedEditors,{args:[-y,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d.translateSelectedEditors,{args:[-D,0],checker:v}],[["ArrowRight","mac+ArrowRight"],d.translateSelectedEditors,{args:[y,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d.translateSelectedEditors,{args:[D,0],checker:v}],[["ArrowUp","mac+ArrowUp"],d.translateSelectedEditors,{args:[0,-y],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d.translateSelectedEditors,{args:[0,-D],checker:v}],[["ArrowDown","mac+ArrowDown"],d.translateSelectedEditors,{args:[0,y],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d.translateSelectedEditors,{args:[0,D],checker:v}]]))}constructor(d,v,y,D,m,_){this.#T=d,this.#L=v,this.#i=y,this._eventBus=D,this._eventBus._on("editingaction",this.#N),this._eventBus._on("pagechanging",this.#_),this._eventBus._on("scalechanging",this.#I),this._eventBus._on("rotationchanging",this.#M),this.#a=m.annotationStorage,this.#d=m.filterFactory,this.#v=_,this.viewParameters={realScale:r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#F(),this.#V(),this._eventBus._off("editingaction",this.#N),this._eventBus._off("pagechanging",this.#_),this._eventBus._off("scalechanging",this.#I),this._eventBus._off("rotationchanging",this.#M);for(let d of this.#n.values())d.destroy();this.#n.clear(),this.#t.clear(),this.#u.clear(),this.#e=null,this.#h.clear(),this.#s.destroy(),this.#i.destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",this.#v?this.#d.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(this.#T).direction)}editAltText(d){this.#i?.editAltText(this,d)}onPageChanging({pageNumber:d}){this.#o=d-1}focusMainContainer(){this.#T.focus()}findParent(d,v){for(let y of this.#n.values()){let{x:D,y:m,width:_,height:w}=y.div.getBoundingClientRect();if(d>=D&&d<=D+_&&v>=m&&v<=m+w)return y}return null}disableUserSelect(d=!1){this.#L.classList.toggle("noUserSelect",d)}addShouldRescale(d){this.#u.add(d)}removeShouldRescale(d){this.#u.delete(d)}onScaleChanging({scale:d}){this.commitOrRemove(),this.viewParameters.realScale=d*r.PixelsPerInch.PDF_TO_CSS_UNITS;for(let v of this.#u)v.onScaleChanging()}onRotationChanging({pagesRotation:d}){this.commitOrRemove(),this.viewParameters.rotation=d}addToAnnotationStorage(d){!d.isEmpty()&&this.#a&&!this.#a.has(d.id)&&this.#a.setValue(d.id,d)}#B(){window.addEventListener("focus",this.#b),window.addEventListener("blur",this.#C)}#V(){window.removeEventListener("focus",this.#b),window.removeEventListener("blur",this.#C)}blur(){if(!this.hasSelection)return;let{activeElement:d}=document;for(let v of this.#h)if(v.div.contains(d)){this.#m=[v,d],v._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;let[d,v]=this.#m;this.#m=null,v.addEventListener("focusin",()=>{d._focusEventsAllowed=!0},{once:!0}),v.focus()}#j(){window.addEventListener("keydown",this.#R,{capture:!0})}#F(){window.removeEventListener("keydown",this.#R,{capture:!0})}#k(){document.addEventListener("copy",this.#E),document.addEventListener("cut",this.#w),document.addEventListener("paste",this.#O)}#P(){document.removeEventListener("copy",this.#E),document.removeEventListener("cut",this.#w),document.removeEventListener("paste",this.#O)}addEditListeners(){this.#j(),this.#k()}removeEditListeners(){this.#F(),this.#P()}copy(d){if(d.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;let v=[];for(let y of this.#h){let D=y.serialize(!0);D&&v.push(D)}v.length!==0&&d.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(d){this.copy(d),this.delete()}paste(d){d.preventDefault();let{clipboardData:v}=d;for(let m of v.items)for(let _ of this.#r)if(_.isHandlingMimeForPasting(m.type)){_.paste(m,this.currentLayer);return}let y=v.getData("application/pdfjs");if(!y)return;try{y=JSON.parse(y)}catch(m){(0,i.warn)(`paste: "${m.message}".`);return}if(!Array.isArray(y))return;this.unselectAll();let D=this.currentLayer;try{let m=[];for(let S of y){let I=D.deserialize(S);if(!I)return;m.push(I)}let _=()=>{for(let S of m)this.#$(S);this.#W(m)},w=()=>{for(let S of m)S.remove()};this.addCommands({cmd:_,undo:w,mustExec:!0})}catch(m){(0,i.warn)(`paste: "${m.message}".`)}}keydown(d){this.getActive()?.shouldGetKeyboardEvents()||g._keyboardManager.exec(this,d)}onEditingAction(d){["undo","redo","delete","selectAll"].includes(d.name)&&this[d.name]()}#D(d){Object.entries(d).some(([y,D])=>this.#x[y]!==D)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#x,d)})}#H(d){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:d})}setEditingState(d){d?(this.#B(),this.#j(),this.#k(),this.#D({isEditing:this.#y!==i.AnnotationEditorType.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#V(),this.#F(),this.#P(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(d){if(!this.#r){this.#r=d;for(let v of this.#r)this.#H(v.defaultPropertiesToUpdate)}}getId(){return this.#f.getId()}get currentLayer(){return this.#n.get(this.#o)}getLayer(d){return this.#n.get(d)}get currentPageIndex(){return this.#o}addLayer(d){this.#n.set(d.pageIndex,d),this.#p?d.enable():d.disable()}removeLayer(d){this.#n.delete(d.pageIndex)}updateMode(d,v=null){if(this.#y!==d){if(this.#y=d,d===i.AnnotationEditorType.NONE){this.setEditingState(!1),this.#G();return}this.setEditingState(!0),this.#z(),this.unselectAll();for(let y of this.#n.values())y.updateMode(d);if(v){for(let y of this.#t.values())if(y.annotationElementId===v){this.setSelected(y),y.enterInEditMode();break}}}}updateToolbar(d){d!==this.#y&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:d})}updateParams(d,v){if(this.#r){if(d===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(d);return}for(let y of this.#h)y.updateParams(d,v);for(let y of this.#r)y.updateDefaultParams(d,v)}}enableWaiting(d=!1){if(this.#g!==d){this.#g=d;for(let v of this.#n.values())d?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",d)}}#z(){if(!this.#p){this.#p=!0;for(let d of this.#n.values())d.enable()}}#G(){if(this.unselectAll(),this.#p){this.#p=!1;for(let d of this.#n.values())d.disable()}}getEditors(d){let v=[];for(let y of this.#t.values())y.pageIndex===d&&v.push(y);return v}getEditor(d){return this.#t.get(d)}addEditor(d){this.#t.set(d.id,d)}removeEditor(d){this.#t.delete(d.id),this.unselect(d),(!d.annotationElementId||!this.#l.has(d.annotationElementId))&&this.#a?.remove(d.id)}addDeletedAnnotationElement(d){this.#l.add(d.annotationElementId),d.deleted=!0}isDeletedAnnotationElement(d){return this.#l.has(d)}removeDeletedAnnotationElement(d){this.#l.delete(d.annotationElementId),d.deleted=!1}#$(d){let v=this.#n.get(d.pageIndex);v?v.addOrRebuild(d):this.addEditor(d)}setActiveEditor(d){this.#e!==d&&(this.#e=d,d&&this.#H(d.propertiesToUpdate))}toggleSelected(d){if(this.#h.has(d)){this.#h.delete(d),d.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#h.add(d),d.select(),this.#H(d.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(d){for(let v of this.#h)v!==d&&v.unselect();this.#h.clear(),this.#h.add(d),d.select(),this.#H(d.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(d){return this.#h.has(d)}unselect(d){d.unselect(),this.#h.delete(d),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#h.size!==0}undo(){this.#s.undo(),this.#D({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#s.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(d){this.#s.add(d),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let d of this.#t.values())return d.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let d=[...this.#h],v=()=>{for(let D of d)D.remove()},y=()=>{for(let D of d)this.#$(D)};this.addCommands({cmd:v,undo:y,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#W(d){this.#h.clear();for(let v of d)v.isEmpty()||(this.#h.add(v),v.select());this.#D({hasSelectedEditor:!0})}selectAll(){for(let d of this.#h)d.commit();this.#W(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(let d of this.#h)d.unselect();this.#h.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(d,v,y=!1){if(y||this.commitOrRemove(),!this.hasSelection)return;this.#A[0]+=d,this.#A[1]+=v;let[D,m]=this.#A,_=[...this.#h],w=1e3;this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.#S=null,this.#A[0]=this.#A[1]=0,this.addCommands({cmd:()=>{for(let S of _)this.#t.has(S.id)&&S.translateInPage(D,m)},undo:()=>{for(let S of _)this.#t.has(S.id)&&S.translateInPage(-D,-m)},mustExec:!1})},w);for(let S of _)S.translateInPage(d,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(let d of this.#h)this.#c.set(d,{savedX:d.x,savedY:d.y,savedPageIndex:d.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);let d=this.#c;this.#c=null;let v=!1;for(let[{x:D,y:m,pageIndex:_},w]of d)w.newX=D,w.newY=m,w.newPageIndex=_,v||=D!==w.savedX||m!==w.savedY||_!==w.savedPageIndex;if(!v)return!1;let y=(D,m,_,w)=>{if(this.#t.has(D.id)){let S=this.#n.get(w);S?D._setParentAndPosition(S,m,_):(D.pageIndex=w,D.x=m,D.y=_)}};return this.addCommands({cmd:()=>{for(let[D,{newX:m,newY:_,newPageIndex:w}]of d)y(D,m,_,w)},undo:()=>{for(let[D,{savedX:m,savedY:_,savedPageIndex:w}]of d)y(D,m,_,w)},mustExec:!0}),!0}dragSelectedEditors(d,v){if(this.#c)for(let y of this.#c.keys())y.drag(d,v)}rebuild(d){if(d.parent===null){let v=this.getLayer(d.pageIndex);v?(v.changeParent(d),v.addOrRebuild(d)):(this.addEditor(d),this.addToAnnotationStorage(d),d.rebuild())}else d.parent.addOrRebuild(d)}isActive(d){return this.#e===d}getActive(){return this.#e}getMode(){return this.#y}get imageManager(){return(0,i.shadow)(this,"imageManager",new f)}}return g})();e.AnnotationEditorUIManager=l},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=I,e.getColorValues=G,e.getCurrentTransform=Q,e.getCurrentTransformInverse=X,e.getFilenameFromUrl=y,e.getPdfFilenameFromUrl=D,e.getRGB=z,e.getXfaPageViewport=H,e.isDataScheme=d,e.isPdfFile=v,e.isValidFetchUrl=_,e.loadScript=S,e.noContextMenu=w,e.setLayerDimensions=B;var i=n(7),r=n(1);let s="http://www.w3.org/2000/svg";class a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=a;class u extends i.BaseFilterFactory{#e;#t;#n;#i;#a;#s;#o;#l;#c;#r;#u=0;constructor({docId:P,ownerDocument:b=globalThis.document}={}){super(),this.#n=P,this.#i=b}get#d(){return this.#e||=new Map}get#f(){if(!this.#t){let P=this.#i.createElement("div"),{style:b}=P;b.visibility="hidden",b.contain="strict",b.width=b.height=0,b.position="absolute",b.top=b.left=0,b.zIndex=-1;let A=this.#i.createElementNS(s,"svg");A.setAttribute("width",0),A.setAttribute("height",0),this.#t=this.#i.createElementNS(s,"defs"),P.append(A),A.append(this.#t),this.#i.body.append(P)}return this.#t}addFilter(P){if(!P)return"none";let b=this.#d.get(P);if(b)return b;let A,C,M,k;if(P.length===1){let E=P[0],x=new Array(256);for(let T=0;T<256;T++)x[T]=E[T]/255;k=A=C=M=x.join(",")}else{let[E,x,T]=P,F=new Array(256),V=new Array(256),$=new Array(256);for(let q=0;q<256;q++)F[q]=E[q]/255,V[q]=x[q]/255,$[q]=T[q]/255;A=F.join(","),C=V.join(","),M=$.join(","),k=`${A}${C}${M}`}if(b=this.#d.get(k),b)return this.#d.set(P,b),b;let N=`g_${this.#n}_transfer_map_${this.#u++}`,j=`url(#${N})`;this.#d.set(P,j),this.#d.set(k,j);let L=this.#g(N);return this.#y(A,C,M,L),j}addHCMFilter(P,b){let A=`${P}-${b}`;if(this.#s===A)return this.#o;if(this.#s=A,this.#o="none",this.#a?.remove(),!P||!b)return this.#o;let C=this.#h(P);P=r.Util.makeHexColor(...C);let M=this.#h(b);if(b=r.Util.makeHexColor(...M),this.#f.style.color="",P==="#000000"&&b==="#ffffff"||P===b)return this.#o;let k=new Array(256);for(let x=0;x<=255;x++){let T=x/255;k[x]=T<=.03928?T/12.92:((T+.055)/1.055)**2.4}let N=k.join(","),j=`g_${this.#n}_hcm_filter`,L=this.#l=this.#g(j);this.#y(N,N,N,L),this.#p(L);let E=(x,T)=>{let F=C[x]/255,V=M[x]/255,$=new Array(T+1);for(let q=0;q<=T;q++)$[q]=F+q/T*(V-F);return $.join(",")};return this.#y(E(0,5),E(1,5),E(2,5),L),this.#o=`url(#${j})`,this.#o}addHighlightHCMFilter(P,b,A,C){let M=`${P}-${b}-${A}-${C}`;if(this.#c===M)return this.#r;if(this.#c=M,this.#r="none",this.#l?.remove(),!P||!b)return this.#r;let[k,N]=[P,b].map(this.#h.bind(this)),j=Math.round(.2126*k[0]+.7152*k[1]+.0722*k[2]),L=Math.round(.2126*N[0]+.7152*N[1]+.0722*N[2]),[E,x]=[A,C].map(this.#h.bind(this));L<j&&([j,L,E,x]=[L,j,x,E]),this.#f.style.color="";let T=($,q,ne)=>{let Z=new Array(256),W=(L-j)/ne,K=$/255,Y=(q-$)/(255*ne),J=0;for(let ie=0;ie<=ne;ie++){let se=Math.round(j+ie*W),ae=K+ie*Y;for(let ue=J;ue<=se;ue++)Z[ue]=ae;J=se+1}for(let ie=J;ie<256;ie++)Z[ie]=Z[J-1];return Z.join(",")},F=`g_${this.#n}_hcm_highlight_filter`,V=this.#l=this.#g(F);return this.#p(V),this.#y(T(E[0],x[0],5),T(E[1],x[1],5),T(E[2],x[2],5),V),this.#r=`url(#${F})`,this.#r}destroy(P=!1){P&&(this.#o||this.#r)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#u=0)}#p(P){let b=this.#i.createElementNS(s,"feColorMatrix");b.setAttribute("type","matrix"),b.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),P.append(b)}#g(P){let b=this.#i.createElementNS(s,"filter");return b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("id",P),this.#f.append(b),b}#m(P,b,A){let C=this.#i.createElementNS(s,b);C.setAttribute("type","discrete"),C.setAttribute("tableValues",A),P.append(C)}#y(P,b,A,C){let M=this.#i.createElementNS(s,"feComponentTransfer");C.append(M),this.#m(M,"feFuncR",P),this.#m(M,"feFuncG",b),this.#m(M,"feFuncB",A)}#h(P){return this.#f.style.color=P,z(getComputedStyle(this.#f).getPropertyValue("color"))}}e.DOMFilterFactory=u;class f extends i.BaseCanvasFactory{constructor({ownerDocument:P=globalThis.document}={}){super(),this._document=P}_createCanvas(P,b){let A=this._document.createElement("canvas");return A.width=P,A.height=b,A}}e.DOMCanvasFactory=f;function p(U,P=!1){return oe(this,null,function*(){if(_(U,document.baseURI)){let b=yield fetch(U);if(!b.ok)throw new Error(b.statusText);return P?new Uint8Array(yield b.arrayBuffer()):(0,r.stringToBytes)(yield b.text())}return new Promise((b,A)=>{let C=new XMLHttpRequest;C.open("GET",U,!0),P&&(C.responseType="arraybuffer"),C.onreadystatechange=()=>{if(C.readyState===XMLHttpRequest.DONE){if(C.status===200||C.status===0){let M;if(P&&C.response?M=new Uint8Array(C.response):!P&&C.responseText&&(M=(0,r.stringToBytes)(C.responseText)),M){b(M);return}}A(new Error(C.statusText))}},C.send(null)})})}class c extends i.BaseCMapReaderFactory{_fetchData(P,b){return p(P,this.isCompressed).then(A=>({cMapData:A,compressionType:b}))}}e.DOMCMapReaderFactory=c;class o extends i.BaseStandardFontDataFactory{_fetchData(P){return p(P,!0)}}e.DOMStandardFontDataFactory=o;class l extends i.BaseSVGFactory{_createSVG(P){return document.createElementNS(s,P)}}e.DOMSVGFactory=l;class g{constructor({viewBox:P,scale:b,rotation:A,offsetX:C=0,offsetY:M=0,dontFlip:k=!1}){this.viewBox=P,this.scale=b,this.rotation=A,this.offsetX=C,this.offsetY=M;let N=(P[2]+P[0])/2,j=(P[3]+P[1])/2,L,E,x,T;switch(A%=360,A<0&&(A+=360),A){case 180:L=-1,E=0,x=0,T=1;break;case 90:L=0,E=1,x=1,T=0;break;case 270:L=0,E=-1,x=-1,T=0;break;case 0:L=1,E=0,x=0,T=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}k&&(x=-x,T=-T);let F,V,$,q;L===0?(F=Math.abs(j-P[1])*b+C,V=Math.abs(N-P[0])*b+M,$=(P[3]-P[1])*b,q=(P[2]-P[0])*b):(F=Math.abs(N-P[0])*b+C,V=Math.abs(j-P[1])*b+M,$=(P[2]-P[0])*b,q=(P[3]-P[1])*b),this.transform=[L*b,E*b,x*b,T*b,F-L*b*N-x*b*j,V-E*b*N-T*b*j],this.width=$,this.height=q}get rawDims(){let{viewBox:P}=this;return(0,r.shadow)(this,"rawDims",{pageWidth:P[2]-P[0],pageHeight:P[3]-P[1],pageX:P[0],pageY:P[1]})}clone({scale:P=this.scale,rotation:b=this.rotation,offsetX:A=this.offsetX,offsetY:C=this.offsetY,dontFlip:M=!1}={}){return new g({viewBox:this.viewBox.slice(),scale:P,rotation:b,offsetX:A,offsetY:C,dontFlip:M})}convertToViewportPoint(P,b){return r.Util.applyTransform([P,b],this.transform)}convertToViewportRectangle(P){let b=r.Util.applyTransform([P[0],P[1]],this.transform),A=r.Util.applyTransform([P[2],P[3]],this.transform);return[b[0],b[1],A[0],A[1]]}convertToPdfPoint(P,b){return r.Util.applyInverseTransform([P,b],this.transform)}}e.PageViewport=g;class h extends r.BaseException{constructor(P,b=0){super(P,"RenderingCancelledException"),this.extraDelay=b}}e.RenderingCancelledException=h;function d(U){let P=U.length,b=0;for(;b<P&&U[b].trim()==="";)b++;return U.substring(b,b+5).toLowerCase()==="data:"}function v(U){return typeof U=="string"&&/\.pdf$/i.test(U)}function y(U,P=!1){return P||([U]=U.split(/[#?]/,1)),U.substring(U.lastIndexOf("/")+1)}function D(U,P="document.pdf"){if(typeof U!="string")return P;if(d(U))return(0,r.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),P;let b=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,A=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,C=b.exec(U),M=A.exec(C[1])||A.exec(C[2])||A.exec(C[3]);if(M&&(M=M[0],M.includes("%")))try{M=A.exec(decodeURIComponent(M))[0]}catch{}return M||P}class m{started=Object.create(null);times=[];time(P){P in this.started&&(0,r.warn)(`Timer is already running for ${P}`),this.started[P]=Date.now()}timeEnd(P){P in this.started||(0,r.warn)(`Timer has not been started for ${P}`),this.times.push({name:P,start:this.started[P],end:Date.now()}),delete this.started[P]}toString(){let P=[],b=0;for(let{name:A}of this.times)b=Math.max(A.length,b);for(let{name:A,start:C,end:M}of this.times)P.push(`${A.padEnd(b)} ${M-C}ms
`);return P.join("")}}e.StatTimer=m;function _(U,P){try{let{protocol:b}=P?new URL(U,P):new URL(U);return b==="http:"||b==="https:"}catch{return!1}}function w(U){U.preventDefault()}function S(U,P=!1){return new Promise((b,A)=>{let C=document.createElement("script");C.src=U,C.onload=function(M){P&&C.remove(),b(M)},C.onerror=function(){A(new Error(`Cannot load script at: ${C.src}`))},(document.head||document.documentElement).append(C)})}function I(U){console.log("Deprecated API usage: "+U)}let R;class O{static toDateObject(P){if(!P||typeof P!="string")return null;R||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let b=R.exec(P);if(!b)return null;let A=parseInt(b[1],10),C=parseInt(b[2],10);C=C>=1&&C<=12?C-1:0;let M=parseInt(b[3],10);M=M>=1&&M<=31?M:1;let k=parseInt(b[4],10);k=k>=0&&k<=23?k:0;let N=parseInt(b[5],10);N=N>=0&&N<=59?N:0;let j=parseInt(b[6],10);j=j>=0&&j<=59?j:0;let L=b[7]||"Z",E=parseInt(b[8],10);E=E>=0&&E<=23?E:0;let x=parseInt(b[9],10)||0;return x=x>=0&&x<=59?x:0,L==="-"?(k+=E,N+=x):L==="+"&&(k-=E,N-=x),new Date(Date.UTC(A,C,M,k,N,j))}}e.PDFDateString=O;function H(U,{scale:P=1,rotation:b=0}){let{width:A,height:C}=U.attributes.style,M=[0,0,parseInt(A),parseInt(C)];return new g({viewBox:M,scale:P,rotation:b})}function z(U){if(U.startsWith("#")){let P=parseInt(U.slice(1),16);return[(P&16711680)>>16,(P&65280)>>8,P&255]}return U.startsWith("rgb(")?U.slice(4,-1).split(",").map(P=>parseInt(P)):U.startsWith("rgba(")?U.slice(5,-1).split(",").map(P=>parseInt(P)).slice(0,3):((0,r.warn)(`Not a valid color format: "${U}"`),[0,0,0])}function G(U){let P=document.createElement("span");P.style.visibility="hidden",document.body.append(P);for(let b of U.keys()){P.style.color=b;let A=window.getComputedStyle(P).color;U.set(b,z(A))}P.remove()}function Q(U){let{a:P,b,c:A,d:C,e:M,f:k}=U.getTransform();return[P,b,A,C,M,k]}function X(U){let{a:P,b,c:A,d:C,e:M,f:k}=U.getTransform().invertSelf();return[P,b,A,C,M,k]}function B(U,P,b=!1,A=!0){if(P instanceof g){let{pageWidth:C,pageHeight:M}=P.rawDims,{style:k}=U,N=r.FeatureTest.isCSSRoundSupported,j=`var(--scale-factor) * ${C}px`,L=`var(--scale-factor) * ${M}px`,E=N?`round(${j}, 1px)`:`calc(${j})`,x=N?`round(${L}, 1px)`:`calc(${L})`;!b||P.rotation%180===0?(k.width=E,k.height=x):(k.width=x,k.height=E)}A&&U.setAttribute("data-main-rotation",P.rotation)}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var i=n(1);class r{constructor(){this.constructor===r&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(c){return"none"}addHCMFilter(c,o){return"none"}addHighlightHCMFilter(c,o,l,g){return"none"}destroy(c=!1){}}e.BaseFilterFactory=r;class s{constructor(){this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,o){if(c<=0||o<=0)throw new Error("Invalid canvas size");let l=this._createCanvas(c,o);return{canvas:l,context:l.getContext("2d")}}reset(c,o,l){if(!c.canvas)throw new Error("Canvas is not specified");if(o<=0||l<=0)throw new Error("Invalid canvas size");c.canvas.width=o,c.canvas.height=l}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,o){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=s;class a{constructor({baseUrl:c=null,isCompressed:o=!0}){this.constructor===a&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=o}fetch(o){return oe(this,arguments,function*({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");let l=this.baseUrl+c+(this.isCompressed?".bcmap":""),g=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(l,g).catch(h=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${l}`)})})}_fetchData(c,o){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=a;class u{constructor({baseUrl:c=null}){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch(o){return oe(this,arguments,function*({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");let l=`${this.baseUrl}${c}`;return this._fetchData(l).catch(g=>{throw new Error(`Unable to load font data at: ${l}`)})})}_fetchData(c){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=u;class f{constructor(){this.constructor===f&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,o,l=!1){if(c<=0||o<=0)throw new Error("Invalid SVG dimensions");let g=this._createSVG("svg:svg");return g.setAttribute("version","1.1"),l||(g.setAttribute("width",`${c}px`),g.setAttribute("height",`${o}px`)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("viewBox",`0 0 ${c} ${o}`),g}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,i.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var i=n(1);let r=3285377520,s=4294901760,a=65535;class u{constructor(p){this.h1=p?p&4294967295:r,this.h2=p?p&4294967295:r}update(p){let c,o;if(typeof p=="string"){c=new Uint8Array(p.length*2),o=0;for(let I=0,R=p.length;I<R;I++){let O=p.charCodeAt(I);O<=255?c[o++]=O:(c[o++]=O>>>8,c[o++]=O&255)}}else if((0,i.isArrayBuffer)(p))c=p.slice(),o=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let l=o>>2,g=o-l*4,h=new Uint32Array(c.buffer,0,l),d=0,v=0,y=this.h1,D=this.h2,m=3432918353,_=461845907,w=m&a,S=_&a;for(let I=0;I<l;I++)I&1?(d=h[I],d=d*m&s|d*w&a,d=d<<15|d>>>17,d=d*_&s|d*S&a,y^=d,y=y<<13|y>>>19,y=y*5+3864292196):(v=h[I],v=v*m&s|v*w&a,v=v<<15|v>>>17,v=v*_&s|v*S&a,D^=v,D=D<<13|D>>>19,D=D*5+3864292196);switch(d=0,g){case 3:d^=c[l*4+2]<<16;case 2:d^=c[l*4+1]<<8;case 1:d^=c[l*4],d=d*m&s|d*w&a,d=d<<15|d>>>17,d=d*_&s|d*S&a,l&1?y^=d:D^=d}this.h1=y,this.h2=D}hexdigest(){let p=this.h1,c=this.h2;return p^=c>>>1,p=p*3981806797&s|p*36045&a,c=c*4283543511&s|((c<<16|p>>>16)*2950163797&s)>>>16,p^=c>>>1,p=p*444984403&s|p*60499&a,c=c*3301882366&s|((c<<16|p>>>16)*3120437893&s)>>>16,p^=c>>>1,(p>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=u},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=n(1);class r{#e=new Set;constructor({ownerDocument:u=globalThis.document,styleElement:f=null}){this._document=u,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(u){this.nativeFontFaces.add(u),this._document.fonts.add(u)}removeNativeFontFace(u){this.nativeFontFaces.delete(u),this._document.fonts.delete(u)}insertRule(u){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let f=this.styleElement.sheet;f.insertRule(u,f.cssRules.length)}clear(){for(let u of this.nativeFontFaces)this._document.fonts.delete(u);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(u){return oe(this,null,function*(){if(!(!u||this.#e.has(u.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:f,src:p,style:c}=u,o=new FontFace(f,p,c);this.addNativeFontFace(o);try{yield o.load(),this.#e.add(f)}catch{(0,i.warn)(`Cannot load system font: ${u.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(u){return oe(this,null,function*(){if(u.attached||u.missingFile&&!u.systemFontInfo)return;if(u.attached=!0,u.systemFontInfo){yield this.loadSystemFont(u.systemFontInfo);return}if(this.isFontLoadingAPISupported){let p=u.createNativeFontFace();if(p){this.addNativeFontFace(p);try{yield p.loaded}catch(c){throw(0,i.warn)(`Failed to load font '${p.family}': '${c}'.`),u.disableFontFace=!0,c}}return}let f=u.createFontFaceRule();if(f){if(this.insertRule(f),this.isSyncFontLoadingSupported)return;yield new Promise(p=>{let c=this._queueLoadingCallback(p);this._prepareFontLoadEvent(u,c)})}})}get isFontLoadingAPISupported(){let u=!!this._document?.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",u)}get isSyncFontLoadingSupported(){let u=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(u=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",u)}_queueLoadingCallback(u){function f(){for((0,i.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;p.length>0&&p[0].done;){let o=p.shift();setTimeout(o.callback,0)}}let{loadingRequests:p}=this,c={done:!1,complete:f,callback:u};return p.push(c),c}get _loadTestFont(){let u=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",u)}_prepareFontLoadEvent(u,f){function p(H,z){return H.charCodeAt(z)<<24|H.charCodeAt(z+1)<<16|H.charCodeAt(z+2)<<8|H.charCodeAt(z+3)&255}function c(H,z,G,Q){let X=H.substring(0,z),B=H.substring(z+G);return X+Q+B}let o,l,g=this._document.createElement("canvas");g.width=1,g.height=1;let h=g.getContext("2d"),d=0;function v(H,z){if(++d>30){(0,i.warn)("Load test font never loaded."),z();return}if(h.font="30px "+H,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(v.bind(null,H,z))}let y=`lt${Date.now()}${this.loadTestFontId++}`,D=this._loadTestFont;D=c(D,976,y.length,y);let _=16,w=1482184792,S=p(D,_);for(o=0,l=y.length-3;o<l;o+=4)S=S-w+p(y,o)|0;o<y.length&&(S=S-w+p(y+"XXX",o)|0),D=c(D,_,4,(0,i.string32)(S));let I=`url(data:font/opentype;base64,${btoa(D)});`,R=`@font-face {font-family:"${y}";src:${I}}`;this.insertRule(R);let O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(let H of[u.loadedName,y]){let z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=H,O.append(z)}this._document.body.append(O),v(y,()=>{O.remove(),f.complete()})}}e.FontLoader=r;class s{constructor(u,{isEvalSupported:f=!0,disableFontFace:p=!1,ignoreErrors:c=!1,inspectFont:o=null}){this.compiledGlyphs=Object.create(null);for(let l in u)this[l]=u[l];this.isEvalSupported=f!==!1,this.disableFontFace=p===!0,this.ignoreErrors=c===!0,this._inspectFont=o}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let u;if(!this.cssFontInfo)u=new FontFace(this.loadedName,this.data,{});else{let f={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(f.style=`oblique ${this.cssFontInfo.italicAngle}deg`),u=new FontFace(this.cssFontInfo.fontFamily,this.data,f)}return this._inspectFont?.(this),u}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let u=(0,i.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(u)});`,p;if(!this.cssFontInfo)p=`@font-face {font-family:"${this.loadedName}";src:${f}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${f}}`}return this._inspectFont?.(this,f),p}getPathGenerator(u,f){if(this.compiledGlyphs[f]!==void 0)return this.compiledGlyphs[f];let p;try{p=u.get(this.loadedName+"_path_"+f)}catch(c){if(!this.ignoreErrors)throw c;return(0,i.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[f]=function(o,l){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){let c=[];for(let o of p){let l=o.args!==void 0?o.args.join(","):"";c.push("c.",o.cmd,"(",l,`);
`)}return this.compiledGlyphs[f]=new Function("c","size",c.join(""))}return this.compiledGlyphs[f]=function(c,o){for(let l of p)l.cmd==="scale"&&(l.args=[o,-o]),c[l.cmd].apply(c,l.args)}}}e.FontFaceObject=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=n(7),r=n(1);let s=function(c){return new Promise((o,l)=>{Rr().readFile(c,(h,d)=>{if(h||!d){l(new Error(h));return}o(new Uint8Array(d))})})};class a extends i.BaseFilterFactory{}e.NodeFilterFactory=a;class u extends i.BaseCanvasFactory{_createCanvas(o,l){return ch().createCanvas(o,l)}}e.NodeCanvasFactory=u;class f extends i.BaseCMapReaderFactory{_fetchData(o,l){return s(o).then(g=>({cMapData:g,compressionType:l}))}}e.NodeCMapReaderFactory=f;class p extends i.BaseStandardFontDataFactory{_fetchData(o){return s(o)}}e.NodeStandardFontDataFactory=p},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(1),r=n(6),s=n(12),a=n(13);let u=16,f=100,p=4096,c=15,o=10,l=1e3,g=16;function h(b,A){if(b._removeMirroring)throw new Error("Context is already forwarding operations.");b.__originalSave=b.save,b.__originalRestore=b.restore,b.__originalRotate=b.rotate,b.__originalScale=b.scale,b.__originalTranslate=b.translate,b.__originalTransform=b.transform,b.__originalSetTransform=b.setTransform,b.__originalResetTransform=b.resetTransform,b.__originalClip=b.clip,b.__originalMoveTo=b.moveTo,b.__originalLineTo=b.lineTo,b.__originalBezierCurveTo=b.bezierCurveTo,b.__originalRect=b.rect,b.__originalClosePath=b.closePath,b.__originalBeginPath=b.beginPath,b._removeMirroring=()=>{b.save=b.__originalSave,b.restore=b.__originalRestore,b.rotate=b.__originalRotate,b.scale=b.__originalScale,b.translate=b.__originalTranslate,b.transform=b.__originalTransform,b.setTransform=b.__originalSetTransform,b.resetTransform=b.__originalResetTransform,b.clip=b.__originalClip,b.moveTo=b.__originalMoveTo,b.lineTo=b.__originalLineTo,b.bezierCurveTo=b.__originalBezierCurveTo,b.rect=b.__originalRect,b.closePath=b.__originalClosePath,b.beginPath=b.__originalBeginPath,delete b._removeMirroring},b.save=function(){A.save(),this.__originalSave()},b.restore=function(){A.restore(),this.__originalRestore()},b.translate=function(M,k){A.translate(M,k),this.__originalTranslate(M,k)},b.scale=function(M,k){A.scale(M,k),this.__originalScale(M,k)},b.transform=function(M,k,N,j,L,E){A.transform(M,k,N,j,L,E),this.__originalTransform(M,k,N,j,L,E)},b.setTransform=function(M,k,N,j,L,E){A.setTransform(M,k,N,j,L,E),this.__originalSetTransform(M,k,N,j,L,E)},b.resetTransform=function(){A.resetTransform(),this.__originalResetTransform()},b.rotate=function(M){A.rotate(M),this.__originalRotate(M)},b.clip=function(M){A.clip(M),this.__originalClip(M)},b.moveTo=function(C,M){A.moveTo(C,M),this.__originalMoveTo(C,M)},b.lineTo=function(C,M){A.lineTo(C,M),this.__originalLineTo(C,M)},b.bezierCurveTo=function(C,M,k,N,j,L){A.bezierCurveTo(C,M,k,N,j,L),this.__originalBezierCurveTo(C,M,k,N,j,L)},b.rect=function(C,M,k,N){A.rect(C,M,k,N),this.__originalRect(C,M,k,N)},b.closePath=function(){A.closePath(),this.__originalClosePath()},b.beginPath=function(){A.beginPath(),this.__originalBeginPath()}}class d{constructor(A){this.canvasFactory=A,this.cache=Object.create(null)}getCanvas(A,C,M){let k;return this.cache[A]!==void 0?(k=this.cache[A],this.canvasFactory.reset(k,C,M)):(k=this.canvasFactory.create(C,M),this.cache[A]=k),k}delete(A){delete this.cache[A]}clear(){for(let A in this.cache){let C=this.cache[A];this.canvasFactory.destroy(C),delete this.cache[A]}}}function v(b,A,C,M,k,N,j,L,E,x){let[T,F,V,$,q,ne]=(0,r.getCurrentTransform)(b);if(F===0&&V===0){let K=j*T+q,Y=Math.round(K),J=L*$+ne,ie=Math.round(J),se=(j+E)*T+q,ae=Math.abs(Math.round(se)-Y)||1,ue=(L+x)*$+ne,de=Math.abs(Math.round(ue)-ie)||1;return b.setTransform(Math.sign(T),0,0,Math.sign($),Y,ie),b.drawImage(A,C,M,k,N,0,0,ae,de),b.setTransform(T,F,V,$,q,ne),[ae,de]}if(T===0&&$===0){let K=L*V+q,Y=Math.round(K),J=j*F+ne,ie=Math.round(J),se=(L+x)*V+q,ae=Math.abs(Math.round(se)-Y)||1,ue=(j+E)*F+ne,de=Math.abs(Math.round(ue)-ie)||1;return b.setTransform(0,Math.sign(F),Math.sign(V),0,Y,ie),b.drawImage(A,C,M,k,N,0,0,de,ae),b.setTransform(T,F,V,$,q,ne),[de,ae]}b.drawImage(A,C,M,k,N,j,L,E,x);let Z=Math.hypot(T,F),W=Math.hypot(V,$);return[Z*E,W*x]}function y(b){let{width:A,height:C}=b;if(A>l||C>l)return null;let M=1e3,k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=A+1,j=new Uint8Array(N*(C+1)),L,E,x,T=A+7&-8,F=new Uint8Array(T*C),V=0;for(let W of b.data){let K=128;for(;K>0;)F[V++]=W&K?0:255,K>>=1}let $=0;for(V=0,F[V]!==0&&(j[0]=1,++$),E=1;E<A;E++)F[V]!==F[V+1]&&(j[E]=F[V]?2:1,++$),V++;for(F[V]!==0&&(j[E]=2,++$),L=1;L<C;L++){V=L*T,x=L*N,F[V-T]!==F[V]&&(j[x]=F[V]?1:8,++$);let W=(F[V]?4:0)+(F[V-T]?8:0);for(E=1;E<A;E++)W=(W>>2)+(F[V+1]?4:0)+(F[V-T+1]?8:0),k[W]&&(j[x+E]=k[W],++$),V++;if(F[V-T]!==F[V]&&(j[x+E]=F[V]?2:4,++$),$>M)return null}for(V=T*(C-1),x=L*N,F[V]!==0&&(j[x]=8,++$),E=1;E<A;E++)F[V]!==F[V+1]&&(j[x+E]=F[V]?4:8,++$),V++;if(F[V]!==0&&(j[x+E]=4,++$),$>M)return null;let q=new Int32Array([0,N,-1,0,-N,0,0,0,1]),ne=new Path2D;for(L=0;$&&L<=C;L++){let W=L*N,K=W+A;for(;W<K&&!j[W];)W++;if(W===K)continue;ne.moveTo(W%N,L);let Y=W,J=j[W];do{let ie=q[J];do W+=ie;while(!j[W]);let se=j[W];se!==5&&se!==10?(J=se,j[W]=0):(J=se&51*J>>4,j[W]&=J>>2|J<<2),ne.lineTo(W%N,W/N|0),j[W]||--$}while(Y!==W);--L}return F=null,j=null,function(W){W.save(),W.scale(1/A,-1/C),W.translate(0,-C),W.fill(ne),W.beginPath(),W.restore()}}class D{constructor(A,C){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,A,C])}clone(){let A=Object.create(this);return A.clipBox=this.clipBox.slice(),A}setCurrentPoint(A,C){this.x=A,this.y=C}updatePathMinMax(A,C,M){[C,M]=i.Util.applyTransform([C,M],A),this.minX=Math.min(this.minX,C),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,C),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(A,C){let M=i.Util.applyTransform(C,A),k=i.Util.applyTransform(C.slice(2),A);this.minX=Math.min(this.minX,M[0],k[0]),this.minY=Math.min(this.minY,M[1],k[1]),this.maxX=Math.max(this.maxX,M[0],k[0]),this.maxY=Math.max(this.maxY,M[1],k[1])}updateScalingPathMinMax(A,C){i.Util.scaleMinMax(A,C),this.minX=Math.min(this.minX,C[0]),this.maxX=Math.max(this.maxX,C[1]),this.minY=Math.min(this.minY,C[2]),this.maxY=Math.max(this.maxY,C[3])}updateCurvePathMinMax(A,C,M,k,N,j,L,E,x,T){let F=i.Util.bezierBoundingBox(C,M,k,N,j,L,E,x);if(T){T[0]=Math.min(T[0],F[0],F[2]),T[1]=Math.max(T[1],F[0],F[2]),T[2]=Math.min(T[2],F[1],F[3]),T[3]=Math.max(T[3],F[1],F[3]);return}this.updateRectMinMax(A,F)}getPathBoundingBox(A=s.PathType.FILL,C=null){let M=[this.minX,this.minY,this.maxX,this.maxY];if(A===s.PathType.STROKE){C||(0,i.unreachable)("Stroke bounding box must include transform.");let k=i.Util.singularValueDecompose2dScale(C),N=k[0]*this.lineWidth/2,j=k[1]*this.lineWidth/2;M[0]-=N,M[1]-=j,M[2]+=N,M[3]+=j}return M}updateClipFromPath(){let A=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(A||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(A){this.clipBox=A,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(A=s.PathType.FILL,C=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(A,C))}}function m(b,A){if(typeof ImageData<"u"&&A instanceof ImageData){b.putImageData(A,0,0);return}let C=A.height,M=A.width,k=C%g,N=(C-k)/g,j=k===0?N:N+1,L=b.createImageData(M,g),E=0,x,T=A.data,F=L.data,V,$,q,ne;if(A.kind===i.ImageKind.GRAYSCALE_1BPP){let Z=T.byteLength,W=new Uint32Array(F.buffer,0,F.byteLength>>2),K=W.length,Y=M+7>>3,J=4294967295,ie=i.FeatureTest.isLittleEndian?4278190080:255;for(V=0;V<j;V++){for(q=V<N?g:k,x=0,$=0;$<q;$++){let se=Z-E,ae=0,ue=se>Y?M:se*8-7,de=ue&-8,he=0,ye=0;for(;ae<de;ae+=8)ye=T[E++],W[x++]=ye&128?J:ie,W[x++]=ye&64?J:ie,W[x++]=ye&32?J:ie,W[x++]=ye&16?J:ie,W[x++]=ye&8?J:ie,W[x++]=ye&4?J:ie,W[x++]=ye&2?J:ie,W[x++]=ye&1?J:ie;for(;ae<ue;ae++)he===0&&(ye=T[E++],he=128),W[x++]=ye&he?J:ie,he>>=1}for(;x<K;)W[x++]=0;b.putImageData(L,0,V*g)}}else if(A.kind===i.ImageKind.RGBA_32BPP){for($=0,ne=M*g*4,V=0;V<N;V++)F.set(T.subarray(E,E+ne)),E+=ne,b.putImageData(L,0,$),$+=g;V<j&&(ne=M*k*4,F.set(T.subarray(E,E+ne)),b.putImageData(L,0,$))}else if(A.kind===i.ImageKind.RGB_24BPP)for(q=g,ne=M*q,V=0;V<j;V++){for(V>=N&&(q=k,ne=M*q),x=0,$=ne;$--;)F[x++]=T[E++],F[x++]=T[E++],F[x++]=T[E++],F[x++]=255;b.putImageData(L,0,V*g)}else throw new Error(`bad image kind: ${A.kind}`)}function _(b,A){if(A.bitmap){b.drawImage(A.bitmap,0,0);return}let C=A.height,M=A.width,k=C%g,N=(C-k)/g,j=k===0?N:N+1,L=b.createImageData(M,g),E=0,x=A.data,T=L.data;for(let F=0;F<j;F++){let V=F<N?g:k;({srcPos:E}=(0,a.convertBlackAndWhiteToRGBA)({src:x,srcPos:E,dest:T,width:M,height:V,nonBlackColor:0})),b.putImageData(L,0,F*g)}}function w(b,A){let C=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let M of C)b[M]!==void 0&&(A[M]=b[M]);b.setLineDash!==void 0&&(A.setLineDash(b.getLineDash()),A.lineDashOffset=b.lineDashOffset)}function S(b){if(b.strokeStyle=b.fillStyle="#000000",b.fillRule="nonzero",b.globalAlpha=1,b.lineWidth=1,b.lineCap="butt",b.lineJoin="miter",b.miterLimit=10,b.globalCompositeOperation="source-over",b.font="10px sans-serif",b.setLineDash!==void 0&&(b.setLineDash([]),b.lineDashOffset=0),!i.isNodeJS){let{filter:A}=b;A!=="none"&&A!==""&&(b.filter="none")}}function I(b,A,C,M){let k=b.length;for(let N=3;N<k;N+=4){let j=b[N];if(j===0)b[N-3]=A,b[N-2]=C,b[N-1]=M;else if(j<255){let L=255-j;b[N-3]=b[N-3]*j+A*L>>8,b[N-2]=b[N-2]*j+C*L>>8,b[N-1]=b[N-1]*j+M*L>>8}}}function R(b,A,C){let M=b.length,k=1/255;for(let N=3;N<M;N+=4){let j=C?C[b[N]]:b[N];A[N]=A[N]*j*k|0}}function O(b,A,C){let M=b.length;for(let k=3;k<M;k+=4){let N=b[k-3]*77+b[k-2]*152+b[k-1]*28;A[k]=C?A[k]*C[N>>8]>>8:A[k]*N>>16}}function H(b,A,C,M,k,N,j,L,E,x,T){let F=!!N,V=F?N[0]:0,$=F?N[1]:0,q=F?N[2]:0,ne=k==="Luminosity"?O:R,W=Math.min(M,Math.ceil(1048576/C));for(let K=0;K<M;K+=W){let Y=Math.min(W,M-K),J=b.getImageData(L-x,K+(E-T),C,Y),ie=A.getImageData(L,K+E,C,Y);F&&I(J.data,V,$,q),ne(J.data,ie.data,j),A.putImageData(ie,L,K+E)}}function z(b,A,C,M){let k=M[0],N=M[1],j=M[2]-k,L=M[3]-N;j===0||L===0||(H(A.context,C,j,L,A.subtype,A.backdrop,A.transferMap,k,N,A.offsetX,A.offsetY),b.save(),b.globalAlpha=1,b.globalCompositeOperation="source-over",b.setTransform(1,0,0,1,0,0),b.drawImage(C.canvas,0,0),b.restore())}function G(b,A){let C=i.Util.singularValueDecompose2dScale(b);C[0]=Math.fround(C[0]),C[1]=Math.fround(C[1]);let M=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return A!==void 0?A:C[0]<=M||C[1]<=M}let Q=["butt","round","square"],X=["miter","round","bevel"],B={},U={};class P{constructor(A,C,M,k,N,{optionalContentConfig:j,markedContentStack:L=null},E,x){this.ctx=A,this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=C,this.objs=M,this.canvasFactory=k,this.filterFactory=N,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=L||[],this.optionalContentConfig=j,this.cachedCanvases=new d(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=E,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=x,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(A,C=null){return typeof A=="string"?A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A):C}beginDrawing({transform:A,viewport:C,transparency:M=!1,background:k=null}){let N=this.ctx.canvas.width,j=this.ctx.canvas.height,L=this.ctx.fillStyle;if(this.ctx.fillStyle=k||"#ffffff",this.ctx.fillRect(0,0,N,j),this.ctx.fillStyle=L,M){let E=this.cachedCanvases.getCanvas("transparent",N,j);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),S(this.ctx),A&&(this.ctx.transform(...A),this.outputScaleX=A[0],this.outputScaleY=A[0]),this.ctx.transform(...C.transform),this.viewportScale=C.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx)}executeOperatorList(A,C,M,k){let N=A.argsArray,j=A.fnArray,L=C||0,E=N.length;if(E===L)return L;let x=E-L>o&&typeof M=="function",T=x?Date.now()+c:0,F=0,V=this.commonObjs,$=this.objs,q;for(;;){if(k!==void 0&&L===k.nextBreakPoint)return k.breakIt(L,M),L;if(q=j[L],q!==i.OPS.dependency)this[q].apply(this,N[L]);else for(let ne of N[L]){let Z=ne.startsWith("g_")?V:$;if(!Z.has(ne))return Z.get(ne,M),L}if(L++,L===E)return L;if(x&&++F>o){if(Date.now()>T)return M(),L;F=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let A of this._cachedBitmapsMap.values()){for(let C of A.values())typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement&&(C.width=C.height=0);A.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let A=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(A!=="none"){let C=this.ctx.filter;this.ctx.filter=A,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=C}}}_scaleImage(A,C){let M=A.width,k=A.height,N=Math.max(Math.hypot(C[0],C[1]),1),j=Math.max(Math.hypot(C[2],C[3]),1),L=M,E=k,x="prescale1",T,F;for(;N>2&&L>1||j>2&&E>1;){let V=L,$=E;N>2&&L>1&&(V=L>=16384?Math.floor(L/2)-1||1:Math.ceil(L/2),N/=L/V),j>2&&E>1&&($=E>=16384?Math.floor(E/2)-1||1:Math.ceil(E)/2,j/=E/$),T=this.cachedCanvases.getCanvas(x,V,$),F=T.context,F.clearRect(0,0,V,$),F.drawImage(A,0,0,L,E,0,0,V,$),A=T.canvas,L=V,E=$,x=x==="prescale1"?"prescale2":"prescale1"}return{img:A,paintWidth:L,paintHeight:E}}_createMaskCanvas(A){let C=this.ctx,{width:M,height:k}=A,N=this.current.fillColor,j=this.current.patternFill,L=(0,r.getCurrentTransform)(C),E,x,T,F;if((A.bitmap||A.data)&&A.count>1){let ae=A.bitmap||A.data.buffer;x=JSON.stringify(j?L:[L.slice(0,4),N]),E=this._cachedBitmapsMap.get(ae),E||(E=new Map,this._cachedBitmapsMap.set(ae,E));let ue=E.get(x);if(ue&&!j){let de=Math.round(Math.min(L[0],L[2])+L[4]),he=Math.round(Math.min(L[1],L[3])+L[5]);return{canvas:ue,offsetX:de,offsetY:he}}T=ue}T||(F=this.cachedCanvases.getCanvas("maskCanvas",M,k),_(F.context,A));let V=i.Util.transform(L,[1/M,0,0,-1/k,0,0]);V=i.Util.transform(V,[1,0,0,1,0,-k]);let $=i.Util.applyTransform([0,0],V),q=i.Util.applyTransform([M,k],V),ne=i.Util.normalizeRect([$[0],$[1],q[0],q[1]]),Z=Math.round(ne[2]-ne[0])||1,W=Math.round(ne[3]-ne[1])||1,K=this.cachedCanvases.getCanvas("fillCanvas",Z,W),Y=K.context,J=Math.min($[0],q[0]),ie=Math.min($[1],q[1]);Y.translate(-J,-ie),Y.transform(...V),T||(T=this._scaleImage(F.canvas,(0,r.getCurrentTransformInverse)(Y)),T=T.img,E&&j&&E.set(x,T)),Y.imageSmoothingEnabled=G((0,r.getCurrentTransform)(Y),A.interpolate),v(Y,T,0,0,T.width,T.height,0,0,M,k),Y.globalCompositeOperation="source-in";let se=i.Util.transform((0,r.getCurrentTransformInverse)(Y),[1,0,0,1,-J,-ie]);return Y.fillStyle=j?N.getPattern(C,this,se,s.PathType.FILL):N,Y.fillRect(0,0,M,k),E&&!j&&(this.cachedCanvases.delete("fillCanvas"),E.set(x,K.canvas)),{canvas:K.canvas,offsetX:Math.round(J),offsetY:Math.round(ie)}}setLineWidth(A){A!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=A,this.ctx.lineWidth=A}setLineCap(A){this.ctx.lineCap=Q[A]}setLineJoin(A){this.ctx.lineJoin=X[A]}setMiterLimit(A){this.ctx.miterLimit=A}setDash(A,C){let M=this.ctx;M.setLineDash!==void 0&&(M.setLineDash(A),M.lineDashOffset=C)}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(let[C,M]of A)switch(C){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=M;break;case"ca":this.current.fillAlpha=M,this.ctx.globalAlpha=M;break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(M);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let A=this.inSMaskMode;this.current.activeSMask&&!A?this.beginSMaskMode():!this.current.activeSMask&&A&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let A=this.ctx.canvas.width,C=this.ctx.canvas.height,M="smaskGroupAt"+this.groupLevel,k=this.cachedCanvases.getCanvas(M,A,C);this.suspendedCtx=this.ctx,this.ctx=k.context;let N=this.ctx;N.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,N),h(N,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(A){if(!this.current.activeSMask)return;A?(A[0]=Math.floor(A[0]),A[1]=Math.floor(A[1]),A[2]=Math.ceil(A[2]),A[3]=Math.ceil(A[3])):A=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let C=this.current.activeSMask,M=this.suspendedCtx;z(M,C,this.ctx,A),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let A=this.current;this.stateStack.push(A),this.current=A.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(A,C,M,k,N,j){this.ctx.transform(A,C,M,k,N,j),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(A,C,M){let k=this.ctx,N=this.current,j=N.x,L=N.y,E,x,T=(0,r.getCurrentTransform)(k),F=T[0]===0&&T[3]===0||T[1]===0&&T[2]===0,V=F?M.slice(0):null;for(let $=0,q=0,ne=A.length;$<ne;$++)switch(A[$]|0){case i.OPS.rectangle:j=C[q++],L=C[q++];let Z=C[q++],W=C[q++],K=j+Z,Y=L+W;k.moveTo(j,L),Z===0||W===0?k.lineTo(K,Y):(k.lineTo(K,L),k.lineTo(K,Y),k.lineTo(j,Y)),F||N.updateRectMinMax(T,[j,L,K,Y]),k.closePath();break;case i.OPS.moveTo:j=C[q++],L=C[q++],k.moveTo(j,L),F||N.updatePathMinMax(T,j,L);break;case i.OPS.lineTo:j=C[q++],L=C[q++],k.lineTo(j,L),F||N.updatePathMinMax(T,j,L);break;case i.OPS.curveTo:E=j,x=L,j=C[q+4],L=C[q+5],k.bezierCurveTo(C[q],C[q+1],C[q+2],C[q+3],j,L),N.updateCurvePathMinMax(T,E,x,C[q],C[q+1],C[q+2],C[q+3],j,L,V),q+=6;break;case i.OPS.curveTo2:E=j,x=L,k.bezierCurveTo(j,L,C[q],C[q+1],C[q+2],C[q+3]),N.updateCurvePathMinMax(T,E,x,j,L,C[q],C[q+1],C[q+2],C[q+3],V),j=C[q+2],L=C[q+3],q+=4;break;case i.OPS.curveTo3:E=j,x=L,j=C[q+2],L=C[q+3],k.bezierCurveTo(C[q],C[q+1],j,L,j,L),N.updateCurvePathMinMax(T,E,x,C[q],C[q+1],j,L,j,L,V),q+=4;break;case i.OPS.closePath:k.closePath();break}F&&N.updateScalingPathMinMax(T,V),N.setCurrentPoint(j,L)}closePath(){this.ctx.closePath()}stroke(A=!0){let C=this.ctx,M=this.current.strokeColor;C.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof M=="object"&&M?.getPattern?(C.save(),C.strokeStyle=M.getPattern(C,this,(0,r.getCurrentTransformInverse)(C),s.PathType.STROKE),this.rescaleAndStroke(!1),C.restore()):this.rescaleAndStroke(!0)),A&&this.consumePath(this.current.getClippedPathBoundingBox()),C.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(A=!0){let C=this.ctx,M=this.current.fillColor,k=this.current.patternFill,N=!1;k&&(C.save(),C.fillStyle=M.getPattern(C,this,(0,r.getCurrentTransformInverse)(C),s.PathType.FILL),N=!0);let j=this.current.getClippedPathBoundingBox();this.contentVisible&&j!==null&&(this.pendingEOFill?(C.fill("evenodd"),this.pendingEOFill=!1):C.fill()),N&&C.restore(),A&&this.consumePath(j)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=B}eoClip(){this.pendingClip=U}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let A=this.pendingTextPaths,C=this.ctx;if(A===void 0){C.beginPath();return}C.save(),C.beginPath();for(let M of A)C.setTransform(...M.transform),C.translate(M.x,M.y),M.addToPath(C,M.fontSize);C.restore(),C.clip(),C.beginPath(),delete this.pendingTextPaths}setCharSpacing(A){this.current.charSpacing=A}setWordSpacing(A){this.current.wordSpacing=A}setHScale(A){this.current.textHScale=A/100}setLeading(A){this.current.leading=-A}setFont(A,C){let M=this.commonObjs.get(A),k=this.current;if(!M)throw new Error(`Can't find font for ${A}`);if(k.fontMatrix=M.fontMatrix||i.FONT_IDENTITY_MATRIX,(k.fontMatrix[0]===0||k.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+A),C<0?(C=-C,k.fontDirection=-1):k.fontDirection=1,this.current.font=M,this.current.fontSize=C,M.isType3Font)return;let N=M.loadedName||"sans-serif",j=M.systemFontInfo?.css||`"${N}", ${M.fallbackName}`,L="normal";M.black?L="900":M.bold&&(L="bold");let E=M.italic?"italic":"normal",x=C;C<u?x=u:C>f&&(x=f),this.current.fontSizeScale=C/x,this.ctx.font=`${E} ${L} ${x}px ${j}`}setTextRenderingMode(A){this.current.textRenderingMode=A}setTextRise(A){this.current.textRise=A}moveText(A,C){this.current.x=this.current.lineX+=A,this.current.y=this.current.lineY+=C}setLeadingMoveText(A,C){this.setLeading(-C),this.moveText(A,C)}setTextMatrix(A,C,M,k,N,j){this.current.textMatrix=[A,C,M,k,N,j],this.current.textMatrixScale=Math.hypot(A,C),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(A,C,M,k){let N=this.ctx,j=this.current,L=j.font,E=j.textRenderingMode,x=j.fontSize/j.fontSizeScale,T=E&i.TextRenderingMode.FILL_STROKE_MASK,F=!!(E&i.TextRenderingMode.ADD_TO_PATH_FLAG),V=j.patternFill&&!L.missingFile,$;(L.disableFontFace||F||V)&&($=L.getPathGenerator(this.commonObjs,A)),L.disableFontFace||V?(N.save(),N.translate(C,M),N.beginPath(),$(N,x),k&&N.setTransform(...k),(T===i.TextRenderingMode.FILL||T===i.TextRenderingMode.FILL_STROKE)&&N.fill(),(T===i.TextRenderingMode.STROKE||T===i.TextRenderingMode.FILL_STROKE)&&N.stroke(),N.restore()):((T===i.TextRenderingMode.FILL||T===i.TextRenderingMode.FILL_STROKE)&&N.fillText(A,C,M),(T===i.TextRenderingMode.STROKE||T===i.TextRenderingMode.FILL_STROKE)&&N.strokeText(A,C,M)),F&&(this.pendingTextPaths||=[]).push({transform:(0,r.getCurrentTransform)(N),x:C,y:M,fontSize:x,addToPath:$})}get isFontSubpixelAAEnabled(){let{context:A}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);A.scale(1.5,1),A.fillText("I",0,10);let C=A.getImageData(0,0,10,10).data,M=!1;for(let k=3;k<C.length;k+=4)if(C[k]>0&&C[k]<255){M=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(A){let C=this.current,M=C.font;if(M.isType3Font)return this.showType3Text(A);let k=C.fontSize;if(k===0)return;let N=this.ctx,j=C.fontSizeScale,L=C.charSpacing,E=C.wordSpacing,x=C.fontDirection,T=C.textHScale*x,F=A.length,V=M.vertical,$=V?1:-1,q=M.defaultVMetrics,ne=k*C.fontMatrix[0],Z=C.textRenderingMode===i.TextRenderingMode.FILL&&!M.disableFontFace&&!C.patternFill;N.save(),N.transform(...C.textMatrix),N.translate(C.x,C.y+C.textRise),x>0?N.scale(T,-1):N.scale(T,1);let W;if(C.patternFill){N.save();let se=C.fillColor.getPattern(N,this,(0,r.getCurrentTransformInverse)(N),s.PathType.FILL);W=(0,r.getCurrentTransform)(N),N.restore(),N.fillStyle=se}let K=C.lineWidth,Y=C.textMatrixScale;if(Y===0||K===0){let se=C.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(se===i.TextRenderingMode.STROKE||se===i.TextRenderingMode.FILL_STROKE)&&(K=this.getSinglePixelWidth())}else K/=Y;if(j!==1&&(N.scale(j,j),K/=j),N.lineWidth=K,M.isInvalidPDFjsFont){let se=[],ae=0;for(let ue of A)se.push(ue.unicode),ae+=ue.width;N.fillText(se.join(""),0,0),C.x+=ae*ne*T,N.restore(),this.compose();return}let J=0,ie;for(ie=0;ie<F;++ie){let se=A[ie];if(typeof se=="number"){J+=$*se*k/1e3;continue}let ae=!1,ue=(se.isSpace?E:0)+L,de=se.fontChar,he=se.accent,ye,We,Oe=se.width;if(V){let Re=se.vmetric||q,st=-(se.vmetric?Re[1]:Oe*.5)*ne,kn=Re[2]*ne;Oe=Re?-Re[0]:Oe,ye=st/j,We=(J+kn)/j}else ye=J/j,We=0;if(M.remeasure&&Oe>0){let Re=N.measureText(de).width*1e3/k*j;if(Oe<Re&&this.isFontSubpixelAAEnabled){let st=Oe/Re;ae=!0,N.save(),N.scale(st,1),ye/=st}else Oe!==Re&&(ye+=(Oe-Re)/2e3*k/j)}if(this.contentVisible&&(se.isInFont||M.missingFile)){if(Z&&!he)N.fillText(de,ye,We);else if(this.paintChar(de,ye,We,W),he){let Re=ye+k*he.offset.x/j,st=We-k*he.offset.y/j;this.paintChar(he.fontChar,Re,st,W)}}let et=V?Oe*ne-ue*x:Oe*ne+ue*x;J+=et,ae&&N.restore()}V?C.y-=J:C.x+=J*T,N.restore(),this.compose()}showType3Text(A){let C=this.ctx,M=this.current,k=M.font,N=M.fontSize,j=M.fontDirection,L=k.vertical?1:-1,E=M.charSpacing,x=M.wordSpacing,T=M.textHScale*j,F=M.fontMatrix||i.FONT_IDENTITY_MATRIX,V=A.length,$=M.textRenderingMode===i.TextRenderingMode.INVISIBLE,q,ne,Z,W;if(!($||N===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,C.save(),C.transform(...M.textMatrix),C.translate(M.x,M.y),C.scale(T,j),q=0;q<V;++q){if(ne=A[q],typeof ne=="number"){W=L*ne*N/1e3,this.ctx.translate(W,0),M.x+=W*T;continue}let K=(ne.isSpace?x:0)+E,Y=k.charProcOperatorList[ne.operatorListId];if(!Y){(0,i.warn)(`Type3 character "${ne.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ne,this.save(),C.scale(N,N),C.transform(...F),this.executeOperatorList(Y),this.restore()),Z=i.Util.applyTransform([ne.width,0],F)[0]*N+K,C.translate(Z,0),M.x+=Z*T}C.restore(),this.processingType3=null}}setCharWidth(A,C){}setCharWidthAndBounds(A,C,M,k,N,j){this.ctx.rect(M,k,N-M,j-k),this.ctx.clip(),this.endPath()}getColorN_Pattern(A){let C;if(A[0]==="TilingPattern"){let M=A[1],k=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),N={createCanvasGraphics:j=>new P(j,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};C=new s.TilingPattern(A,M,this.ctx,N,k)}else C=this._getPattern(A[1],A[2]);return C}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(A,C,M){let k=i.Util.makeHexColor(A,C,M);this.ctx.strokeStyle=k,this.current.strokeColor=k}setFillRGBColor(A,C,M){let k=i.Util.makeHexColor(A,C,M);this.ctx.fillStyle=k,this.current.fillColor=k,this.current.patternFill=!1}_getPattern(A,C=null){let M;return this.cachedPatterns.has(A)?M=this.cachedPatterns.get(A):(M=(0,s.getShadingPattern)(this.getObject(A)),this.cachedPatterns.set(A,M)),C&&(M.matrix=C),M}shadingFill(A){if(!this.contentVisible)return;let C=this.ctx;this.save();let M=this._getPattern(A);C.fillStyle=M.getPattern(C,this,(0,r.getCurrentTransformInverse)(C),s.PathType.SHADING);let k=(0,r.getCurrentTransformInverse)(C);if(k){let{width:N,height:j}=C.canvas,[L,E,x,T]=i.Util.getAxialAlignedBoundingBox([0,0,N,j],k);this.ctx.fillRect(L,E,x-L,T-E)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(A,C){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(A)&&A.length===6&&this.transform(...A),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),C)){let M=C[2]-C[0],k=C[3]-C[1];this.ctx.rect(C[0],C[1],M,k),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),C),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(A){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let C=this.ctx;A.isolated||(0,i.info)("TODO: Support non-isolated groups."),A.knockout&&(0,i.warn)("Knockout groups not supported.");let M=(0,r.getCurrentTransform)(C);if(A.matrix&&C.transform(...A.matrix),!A.bbox)throw new Error("Bounding box is required.");let k=i.Util.getAxialAlignedBoundingBox(A.bbox,(0,r.getCurrentTransform)(C)),N=[0,0,C.canvas.width,C.canvas.height];k=i.Util.intersect(k,N)||[0,0,0,0];let j=Math.floor(k[0]),L=Math.floor(k[1]),E=Math.max(Math.ceil(k[2])-j,1),x=Math.max(Math.ceil(k[3])-L,1),T=1,F=1;E>p&&(T=E/p,E=p),x>p&&(F=x/p,x=p),this.current.startNewPathAndClipBox([0,0,E,x]);let V="groupAt"+this.groupLevel;A.smask&&(V+="_smask_"+this.smaskCounter++%2);let $=this.cachedCanvases.getCanvas(V,E,x),q=$.context;q.scale(1/T,1/F),q.translate(-j,-L),q.transform(...M),A.smask?this.smaskStack.push({canvas:$.canvas,context:q,offsetX:j,offsetY:L,scaleX:T,scaleY:F,subtype:A.smask.subtype,backdrop:A.smask.backdrop,transferMap:A.smask.transferMap||null,startTransformInverse:null}):(C.setTransform(1,0,0,1,0,0),C.translate(j,L),C.scale(T,F),C.save()),w(C,q),this.ctx=q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(C),this.groupLevel++}endGroup(A){if(!this.contentVisible)return;this.groupLevel--;let C=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,A.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let k=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...k);let N=i.Util.getAxialAlignedBoundingBox([0,0,C.canvas.width,C.canvas.height],k);this.ctx.drawImage(C.canvas,0,0),this.ctx.restore(),this.compose(N)}}beginAnnotation(A,C,M,k,N){if(this.#e(),S(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(C)&&C.length===4){let j=C[2]-C[0],L=C[3]-C[1];if(N&&this.annotationCanvasMap){M=M.slice(),M[4]-=C[0],M[5]-=C[1],C=C.slice(),C[0]=C[1]=0,C[2]=j,C[3]=L;let[E,x]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:T}=this,F=Math.ceil(j*this.outputScaleX*T),V=Math.ceil(L*this.outputScaleY*T);this.annotationCanvas=this.canvasFactory.create(F,V);let{canvas:$,context:q}=this.annotationCanvas;this.annotationCanvasMap.set(A,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=q,this.ctx.save(),this.ctx.setTransform(E,0,0,-x,0,L*x),S(this.ctx)}else S(this.ctx),this.ctx.rect(C[0],C[1],j,L),this.ctx.clip(),this.endPath()}this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...M),this.transform(...k)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(A){if(!this.contentVisible)return;let C=A.count;A=this.getObject(A.data,A),A.count=C;let M=this.ctx,k=this.processingType3;if(k&&(k.compiled===void 0&&(k.compiled=y(A)),k.compiled)){k.compiled(M);return}let N=this._createMaskCanvas(A),j=N.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(j,N.offsetX,N.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(A,C,M=0,k=0,N,j){if(!this.contentVisible)return;A=this.getObject(A.data,A);let L=this.ctx;L.save();let E=(0,r.getCurrentTransform)(L);L.transform(C,M,k,N,0,0);let x=this._createMaskCanvas(A);L.setTransform(1,0,0,1,x.offsetX-E[4],x.offsetY-E[5]);for(let T=0,F=j.length;T<F;T+=2){let V=i.Util.transform(E,[C,M,k,N,j[T],j[T+1]]),[$,q]=i.Util.applyTransform([0,0],V);L.drawImage(x.canvas,$,q)}L.restore(),this.compose()}paintImageMaskXObjectGroup(A){if(!this.contentVisible)return;let C=this.ctx,M=this.current.fillColor,k=this.current.patternFill;for(let N of A){let{data:j,width:L,height:E,transform:x}=N,T=this.cachedCanvases.getCanvas("maskCanvas",L,E),F=T.context;F.save();let V=this.getObject(j,N);_(F,V),F.globalCompositeOperation="source-in",F.fillStyle=k?M.getPattern(F,this,(0,r.getCurrentTransformInverse)(C),s.PathType.FILL):M,F.fillRect(0,0,L,E),F.restore(),C.save(),C.transform(...x),C.scale(1,-1),v(C,T.canvas,0,0,L,E,0,-1,1,1),C.restore()}this.compose()}paintImageXObject(A){if(!this.contentVisible)return;let C=this.getObject(A);if(!C){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(C)}paintImageXObjectRepeat(A,C,M,k){if(!this.contentVisible)return;let N=this.getObject(A);if(!N){(0,i.warn)("Dependent image isn't ready yet");return}let j=N.width,L=N.height,E=[];for(let x=0,T=k.length;x<T;x+=2)E.push({transform:[C,0,0,M,k[x],k[x+1]],x:0,y:0,w:j,h:L});this.paintInlineImageXObjectGroup(N,E)}applyTransferMapsToCanvas(A){return this.current.transferMaps!=="none"&&(A.filter=this.current.transferMaps,A.drawImage(A.canvas,0,0),A.filter="none"),A.canvas}applyTransferMapsToBitmap(A){if(this.current.transferMaps==="none")return A.bitmap;let{bitmap:C,width:M,height:k}=A,N=this.cachedCanvases.getCanvas("inlineImage",M,k),j=N.context;return j.filter=this.current.transferMaps,j.drawImage(C,0,0),j.filter="none",N.canvas}paintInlineImageXObject(A){if(!this.contentVisible)return;let C=A.width,M=A.height,k=this.ctx;if(this.save(),!i.isNodeJS){let{filter:L}=k;L!=="none"&&L!==""&&(k.filter="none")}k.scale(1/C,-1/M);let N;if(A.bitmap)N=this.applyTransferMapsToBitmap(A);else if(typeof HTMLElement=="function"&&A instanceof HTMLElement||!A.data)N=A;else{let E=this.cachedCanvases.getCanvas("inlineImage",C,M).context;m(E,A),N=this.applyTransferMapsToCanvas(E)}let j=this._scaleImage(N,(0,r.getCurrentTransformInverse)(k));k.imageSmoothingEnabled=G((0,r.getCurrentTransform)(k),A.interpolate),v(k,j.img,0,0,j.paintWidth,j.paintHeight,0,-M,C,M),this.compose(),this.restore()}paintInlineImageXObjectGroup(A,C){if(!this.contentVisible)return;let M=this.ctx,k;if(A.bitmap)k=A.bitmap;else{let N=A.width,j=A.height,E=this.cachedCanvases.getCanvas("inlineImage",N,j).context;m(E,A),k=this.applyTransferMapsToCanvas(E)}for(let N of C)M.save(),M.transform(...N.transform),M.scale(1,-1),v(M,k,N.x,N.y,N.w,N.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(A){}markPointProps(A,C){}beginMarkedContent(A){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(A,C){A==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(C)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(A){let C=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(A);let M=this.ctx;this.pendingClip&&(C||(this.pendingClip===U?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let A=(0,r.getCurrentTransform)(this.ctx);if(A[1]===0&&A[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(A[0]),Math.abs(A[3]));else{let C=Math.abs(A[0]*A[3]-A[2]*A[1]),M=Math.hypot(A[0],A[2]),k=Math.hypot(A[1],A[3]);this._cachedGetSinglePixelWidth=Math.max(M,k)/C}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:A}=this.current,{a:C,b:M,c:k,d:N}=this.ctx.getTransform(),j,L;if(M===0&&k===0){let E=Math.abs(C),x=Math.abs(N);if(E===x)if(A===0)j=L=1/E;else{let T=E*A;j=L=T<1?1/T:1}else if(A===0)j=1/E,L=1/x;else{let T=E*A,F=x*A;j=T<1?1/T:1,L=F<1?1/F:1}}else{let E=Math.abs(C*N-M*k),x=Math.hypot(C,M),T=Math.hypot(k,N);if(A===0)j=T/E,L=x/E;else{let F=A*E;j=T>F?T/F:1,L=x>F?x/F:1}}this._cachedScaleForStroking[0]=j,this._cachedScaleForStroking[1]=L}return this._cachedScaleForStroking}rescaleAndStroke(A){let{ctx:C}=this,{lineWidth:M}=this.current,[k,N]=this.getScaleForStroking();if(C.lineWidth=M||1,k===1&&N===1){C.stroke();return}let j=C.getLineDash();if(A&&C.save(),C.scale(k,N),j.length>0){let L=Math.max(k,N);C.setLineDash(j.map(E=>E/L)),C.lineDashOffset/=L}C.stroke(),A&&C.restore()}isContentVisible(){for(let A=this.markedContentStack.length-1;A>=0;A--)if(!this.markedContentStack[A].visible)return!1;return!0}}e.CanvasGraphics=P;for(let b in i.OPS)P.prototype[b]!==void 0&&(P.prototype[i.OPS[b]]=P.prototype[b])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=g;var i=n(1),r=n(6);let s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=s;function a(v,y){if(!y)return;let D=y[2]-y[0],m=y[3]-y[1],_=new Path2D;_.rect(y[0],y[1],D,m),v.clip(_)}class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class f extends u{constructor(y){super(),this._type=y[1],this._bbox=y[2],this._colorStops=y[3],this._p0=y[4],this._p1=y[5],this._r0=y[6],this._r1=y[7],this.matrix=null}_createGradient(y){let D;this._type==="axial"?D=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(D=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let m of this._colorStops)D.addColorStop(m[0],m[1]);return D}getPattern(y,D,m,_){let w;if(_===s.STROKE||_===s.FILL){let S=D.current.getClippedPathBoundingBox(_,(0,r.getCurrentTransform)(y))||[0,0,0,0],I=Math.ceil(S[2]-S[0])||1,R=Math.ceil(S[3]-S[1])||1,O=D.cachedCanvases.getCanvas("pattern",I,R,!0),H=O.context;H.clearRect(0,0,H.canvas.width,H.canvas.height),H.beginPath(),H.rect(0,0,H.canvas.width,H.canvas.height),H.translate(-S[0],-S[1]),m=i.Util.transform(m,[1,0,0,1,S[0],S[1]]),H.transform(...D.baseTransform),this.matrix&&H.transform(...this.matrix),a(H,this._bbox),H.fillStyle=this._createGradient(H),H.fill(),w=y.createPattern(O.canvas,"no-repeat");let z=new DOMMatrix(m);w.setTransform(z)}else a(y,this._bbox),w=this._createGradient(y);return w}}function p(v,y,D,m,_,w,S,I){let R=y.coords,O=y.colors,H=v.data,z=v.width*4,G;R[D+1]>R[m+1]&&(G=D,D=m,m=G,G=w,w=S,S=G),R[m+1]>R[_+1]&&(G=m,m=_,_=G,G=S,S=I,I=G),R[D+1]>R[m+1]&&(G=D,D=m,m=G,G=w,w=S,S=G);let Q=(R[D]+y.offsetX)*y.scaleX,X=(R[D+1]+y.offsetY)*y.scaleY,B=(R[m]+y.offsetX)*y.scaleX,U=(R[m+1]+y.offsetY)*y.scaleY,P=(R[_]+y.offsetX)*y.scaleX,b=(R[_+1]+y.offsetY)*y.scaleY;if(X>=b)return;let A=O[w],C=O[w+1],M=O[w+2],k=O[S],N=O[S+1],j=O[S+2],L=O[I],E=O[I+1],x=O[I+2],T=Math.round(X),F=Math.round(b),V,$,q,ne,Z,W,K,Y;for(let J=T;J<=F;J++){if(J<U){let de=J<X?0:(X-J)/(X-U);V=Q-(Q-B)*de,$=A-(A-k)*de,q=C-(C-N)*de,ne=M-(M-j)*de}else{let de;J>b?de=1:U===b?de=0:de=(U-J)/(U-b),V=B-(B-P)*de,$=k-(k-L)*de,q=N-(N-E)*de,ne=j-(j-x)*de}let ie;J<X?ie=0:J>b?ie=1:ie=(X-J)/(X-b),Z=Q-(Q-P)*ie,W=A-(A-L)*ie,K=C-(C-E)*ie,Y=M-(M-x)*ie;let se=Math.round(Math.min(V,Z)),ae=Math.round(Math.max(V,Z)),ue=z*J+se*4;for(let de=se;de<=ae;de++)ie=(V-de)/(V-Z),ie<0?ie=0:ie>1&&(ie=1),H[ue++]=$-($-W)*ie|0,H[ue++]=q-(q-K)*ie|0,H[ue++]=ne-(ne-Y)*ie|0,H[ue++]=255}}function c(v,y,D){let m=y.coords,_=y.colors,w,S;switch(y.type){case"lattice":let I=y.verticesPerRow,R=Math.floor(m.length/I)-1,O=I-1;for(w=0;w<R;w++){let H=w*I;for(let z=0;z<O;z++,H++)p(v,D,m[H],m[H+1],m[H+I],_[H],_[H+1],_[H+I]),p(v,D,m[H+I+1],m[H+1],m[H+I],_[H+I+1],_[H+1],_[H+I])}break;case"triangles":for(w=0,S=m.length;w<S;w+=3)p(v,D,m[w],m[w+1],m[w+2],_[w],_[w+1],_[w+2]);break;default:throw new Error("illegal figure")}}class o extends u{constructor(y){super(),this._coords=y[2],this._colors=y[3],this._figures=y[4],this._bounds=y[5],this._bbox=y[7],this._background=y[8],this.matrix=null}_createMeshCanvas(y,D,m){let I=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-I,H=Math.ceil(this._bounds[3])-R,z=Math.min(Math.ceil(Math.abs(O*y[0]*1.1)),3e3),G=Math.min(Math.ceil(Math.abs(H*y[1]*1.1)),3e3),Q=O/z,X=H/G,B={coords:this._coords,colors:this._colors,offsetX:-I,offsetY:-R,scaleX:1/Q,scaleY:1/X},U=z+2*2,P=G+2*2,b=m.getCanvas("mesh",U,P,!1),A=b.context,C=A.createImageData(z,G);if(D){let k=C.data;for(let N=0,j=k.length;N<j;N+=4)k[N]=D[0],k[N+1]=D[1],k[N+2]=D[2],k[N+3]=255}for(let k of this._figures)c(C,k,B);return A.putImageData(C,2,2),{canvas:b.canvas,offsetX:I-2*Q,offsetY:R-2*X,scaleX:Q,scaleY:X}}getPattern(y,D,m,_){a(y,this._bbox);let w;if(_===s.SHADING)w=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(y));else if(w=i.Util.singularValueDecompose2dScale(D.baseTransform),this.matrix){let I=i.Util.singularValueDecompose2dScale(this.matrix);w=[w[0]*I[0],w[1]*I[1]]}let S=this._createMeshCanvas(w,_===s.SHADING?null:this._background,D.cachedCanvases);return _!==s.SHADING&&(y.setTransform(...D.baseTransform),this.matrix&&y.transform(...this.matrix)),y.translate(S.offsetX,S.offsetY),y.scale(S.scaleX,S.scaleY),y.createPattern(S.canvas,"no-repeat")}}class l extends u{getPattern(){return"hotpink"}}function g(v){switch(v[0]){case"RadialAxial":return new f(v);case"Mesh":return new o(v);case"Dummy":return new l}throw new Error(`Unknown IR type: ${v[0]}`)}let h={COLORED:1,UNCOLORED:2},d=(()=>{class v{static MAX_PATTERN_SIZE=3e3;constructor(D,m,_,w,S){this.operatorList=D[2],this.matrix=D[3]||[1,0,0,1,0,0],this.bbox=D[4],this.xstep=D[5],this.ystep=D[6],this.paintType=D[7],this.tilingType=D[8],this.color=m,this.ctx=_,this.canvasGraphicsFactory=w,this.baseTransform=S}createPatternCanvas(D){let m=this.operatorList,_=this.bbox,w=this.xstep,S=this.ystep,I=this.paintType,R=this.tilingType,O=this.color,H=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+R);let z=_[0],G=_[1],Q=_[2],X=_[3],B=i.Util.singularValueDecompose2dScale(this.matrix),U=i.Util.singularValueDecompose2dScale(this.baseTransform),P=[B[0]*U[0],B[1]*U[1]],b=this.getSizeAndScale(w,this.ctx.canvas.width,P[0]),A=this.getSizeAndScale(S,this.ctx.canvas.height,P[1]),C=D.cachedCanvases.getCanvas("pattern",b.size,A.size,!0),M=C.context,k=H.createCanvasGraphics(M);k.groupLevel=D.groupLevel,this.setFillAndStrokeStyleToContext(k,I,O);let N=z,j=G,L=Q,E=X;return z<0&&(N=0,L+=Math.abs(z)),G<0&&(j=0,E+=Math.abs(G)),M.translate(-(b.scale*N),-(A.scale*j)),k.transform(b.scale,0,0,A.scale,0,0),M.save(),this.clipBbox(k,N,j,L,E),k.baseTransform=(0,r.getCurrentTransform)(k.ctx),k.executeOperatorList(m),k.endDrawing(),{canvas:C.canvas,scaleX:b.scale,scaleY:A.scale,offsetX:N,offsetY:j}}getSizeAndScale(D,m,_){D=Math.abs(D);let w=Math.max(v.MAX_PATTERN_SIZE,m),S=Math.ceil(D*_);return S>=w?S=w:_=S/D,{scale:_,size:S}}clipBbox(D,m,_,w,S){let I=w-m,R=S-_;D.ctx.rect(m,_,I,R),D.current.updateRectMinMax((0,r.getCurrentTransform)(D.ctx),[m,_,w,S]),D.clip(),D.endPath()}setFillAndStrokeStyleToContext(D,m,_){let w=D.ctx,S=D.current;switch(m){case h.COLORED:let I=this.ctx;w.fillStyle=I.fillStyle,w.strokeStyle=I.strokeStyle,S.fillColor=I.fillStyle,S.strokeColor=I.strokeStyle;break;case h.UNCOLORED:let R=i.Util.makeHexColor(_[0],_[1],_[2]);w.fillStyle=R,w.strokeStyle=R,S.fillColor=R,S.strokeColor=R;break;default:throw new i.FormatError(`Unsupported paint type: ${m}`)}}getPattern(D,m,_,w){let S=_;w!==s.SHADING&&(S=i.Util.transform(S,m.baseTransform),this.matrix&&(S=i.Util.transform(S,this.matrix)));let I=this.createPatternCanvas(m),R=new DOMMatrix(S);R=R.translate(I.offsetX,I.offsetY),R=R.scale(1/I.scaleX,1/I.scaleY);let O=D.createPattern(I.canvas,"repeat");return O.setTransform(R),O}}return v})();e.TilingPattern=d},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=s,e.convertToRGBA=r,e.grayToRGBA=u;var i=n(1);function r(f){switch(f.kind){case i.ImageKind.GRAYSCALE_1BPP:return s(f);case i.ImageKind.RGB_24BPP:return a(f)}return null}function s({src:f,srcPos:p=0,dest:c,width:o,height:l,nonBlackColor:g=4294967295,inverseDecode:h=!1}){let d=i.FeatureTest.isLittleEndian?4278190080:255,[v,y]=h?[g,d]:[d,g],D=o>>3,m=o&7,_=f.length;c=new Uint32Array(c.buffer);let w=0;for(let S=0;S<l;S++){for(let R=p+D;p<R;p++){let O=p<_?f[p]:255;c[w++]=O&128?y:v,c[w++]=O&64?y:v,c[w++]=O&32?y:v,c[w++]=O&16?y:v,c[w++]=O&8?y:v,c[w++]=O&4?y:v,c[w++]=O&2?y:v,c[w++]=O&1?y:v}if(m===0)continue;let I=p<_?f[p++]:255;for(let R=0;R<m;R++)c[w++]=I&1<<7-R?y:v}return{srcPos:p,destPos:w}}function a({src:f,srcPos:p=0,dest:c,destPos:o=0,width:l,height:g}){let h=0,d=f.length>>2,v=new Uint32Array(f.buffer,p,d);if(i.FeatureTest.isLittleEndian){for(;h<d-2;h+=3,o+=4){let y=v[h],D=v[h+1],m=v[h+2];c[o]=y|4278190080,c[o+1]=y>>>24|D<<8|4278190080,c[o+2]=D>>>16|m<<16|4278190080,c[o+3]=m>>>8|4278190080}for(let y=h*4,D=f.length;y<D;y+=3)c[o++]=f[y]|f[y+1]<<8|f[y+2]<<16|4278190080}else{for(;h<d-2;h+=3,o+=4){let y=v[h],D=v[h+1],m=v[h+2];c[o]=y|255,c[o+1]=y<<24|D>>>8|255,c[o+2]=D<<16|m>>>16|255,c[o+3]=m<<8|255}for(let y=h*4,D=f.length;y<D;y+=3)c[o++]=f[y]<<24|f[y+1]<<16|f[y+2]<<8|255}return{srcPos:p,destPos:o}}function u(f,p){if(i.FeatureTest.isLittleEndian)for(let c=0,o=f.length;c<o;c++)p[c]=f[c]*65793|4278190080;else for(let c=0,o=f.length;c<o;c++)p[c]=f[c]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=n(1);let r={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function a(f){switch(f instanceof Error||typeof f=="object"&&f!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new i.AbortException(f.message);case"MissingPDFException":return new i.MissingPDFException(f.message);case"PasswordException":return new i.PasswordException(f.message,f.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(f.message,f.status);case"UnknownErrorException":return new i.UnknownErrorException(f.message,f.details);default:return new i.UnknownErrorException(f.message,f.toString())}}class u{constructor(p,c,o){this.sourceName=p,this.targetName=c,this.comObj=o,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{let g=l.data;if(g.targetName!==this.sourceName)return;if(g.stream){this.#t(g);return}if(g.callback){let d=g.callbackId,v=this.callbackCapabilities[d];if(!v)throw new Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],g.callback===r.DATA)v.resolve(g.data);else if(g.callback===r.ERROR)v.reject(a(g.reason));else throw new Error("Unexpected callback case");return}let h=this.actionHandler[g.action];if(!h)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){let d=this.sourceName,v=g.sourceName;new Promise(function(y){y(h(g.data))}).then(function(y){o.postMessage({sourceName:d,targetName:v,callback:r.DATA,callbackId:g.callbackId,data:y})},function(y){o.postMessage({sourceName:d,targetName:v,callback:r.ERROR,callbackId:g.callbackId,reason:a(y)})});return}if(g.streamId){this.#e(g);return}h(g.data)},o.addEventListener("message",this._onComObjOnMessage)}on(p,c){let o=this.actionHandler;if(o[p])throw new Error(`There is already an actionName called "${p}"`);o[p]=c}send(p,c,o){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:p,data:c},o)}sendWithPromise(p,c,o){let l=this.callbackId++,g=new i.PromiseCapability;this.callbackCapabilities[l]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:p,callbackId:l,data:c},o)}catch(h){g.reject(h)}return g.promise}sendWithStream(p,c,o,l){let g=this.streamId++,h=this.sourceName,d=this.targetName,v=this.comObj;return new ReadableStream({start:y=>{let D=new i.PromiseCapability;return this.streamControllers[g]={controller:y,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:h,targetName:d,action:p,streamId:g,data:c,desiredSize:y.desiredSize},l),D.promise},pull:y=>{let D=new i.PromiseCapability;return this.streamControllers[g].pullCall=D,v.postMessage({sourceName:h,targetName:d,stream:s.PULL,streamId:g,desiredSize:y.desiredSize}),D.promise},cancel:y=>{(0,i.assert)(y instanceof Error,"cancel must have a valid reason");let D=new i.PromiseCapability;return this.streamControllers[g].cancelCall=D,this.streamControllers[g].isClosed=!0,v.postMessage({sourceName:h,targetName:d,stream:s.CANCEL,streamId:g,reason:a(y)}),D.promise}},o)}#e(p){let c=p.streamId,o=this.sourceName,l=p.sourceName,g=this.comObj,h=this,d=this.actionHandler[p.action],v={enqueue(y,D=1,m){if(this.isCancelled)return;let _=this.desiredSize;this.desiredSize-=D,_>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),g.postMessage({sourceName:o,targetName:l,stream:s.ENQUEUE,streamId:c,chunk:y},m)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:o,targetName:l,stream:s.CLOSE,streamId:c}),delete h.streamSinks[c])},error(y){(0,i.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:o,targetName:l,stream:s.ERROR,streamId:c,reason:a(y)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:p.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[c]=v,new Promise(function(y){y(d(p.data,v))}).then(function(){g.postMessage({sourceName:o,targetName:l,stream:s.START_COMPLETE,streamId:c,success:!0})},function(y){g.postMessage({sourceName:o,targetName:l,stream:s.START_COMPLETE,streamId:c,reason:a(y)})})}#t(p){let c=p.streamId,o=this.sourceName,l=p.sourceName,g=this.comObj,h=this.streamControllers[c],d=this.streamSinks[c];switch(p.stream){case s.START_COMPLETE:p.success?h.startCall.resolve():h.startCall.reject(a(p.reason));break;case s.PULL_COMPLETE:p.success?h.pullCall.resolve():h.pullCall.reject(a(p.reason));break;case s.PULL:if(!d){g.postMessage({sourceName:o,targetName:l,stream:s.PULL_COMPLETE,streamId:c,success:!0});break}d.desiredSize<=0&&p.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=p.desiredSize,new Promise(function(v){v(d.onPull?.())}).then(function(){g.postMessage({sourceName:o,targetName:l,stream:s.PULL_COMPLETE,streamId:c,success:!0})},function(v){g.postMessage({sourceName:o,targetName:l,stream:s.PULL_COMPLETE,streamId:c,reason:a(v)})});break;case s.ENQUEUE:if((0,i.assert)(h,"enqueue should have stream controller"),h.isClosed)break;h.controller.enqueue(p.chunk);break;case s.CLOSE:if((0,i.assert)(h,"close should have stream controller"),h.isClosed)break;h.isClosed=!0,h.controller.close(),this.#n(h,c);break;case s.ERROR:(0,i.assert)(h,"error should have stream controller"),h.controller.error(a(p.reason)),this.#n(h,c);break;case s.CANCEL_COMPLETE:p.success?h.cancelCall.resolve():h.cancelCall.reject(a(p.reason)),this.#n(h,c);break;case s.CANCEL:if(!d)break;new Promise(function(v){v(d.onCancel?.(a(p.reason)))}).then(function(){g.postMessage({sourceName:o,targetName:l,stream:s.CANCEL_COMPLETE,streamId:c,success:!0})},function(v){g.postMessage({sourceName:o,targetName:l,stream:s.CANCEL_COMPLETE,streamId:c,reason:a(v)})}),d.sinkCapability.reject(a(p.reason)),d.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}#n(p,c){return oe(this,null,function*(){yield Promise.allSettled([p.startCall?.promise,p.pullCall?.promise,p.cancelCall?.promise]),delete this.streamControllers[c]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=u},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(1);class r{#e;#t;constructor({parsedData:a,rawData:u}){this.#e=a,this.#t=u}getRaw(){return this.#t}get(a){return this.#e.get(a)??null}getAll(){return(0,i.objectFromMap)(this.#e)}has(a){return this.#e.has(a)}}e.Metadata=r},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var i=n(1),r=n(8);let s=Symbol("INTERNAL");class a{#e=!0;constructor(p,c){this.name=p,this.intent=c}get visible(){return this.#e}_setVisible(p,c){p!==s&&(0,i.unreachable)("Internal method `_setVisible` called."),this.#e=c}}class u{#e=null;#t=new Map;#n=null;#i=null;constructor(p){if(this.name=null,this.creator=null,p!==null){this.name=p.name,this.creator=p.creator,this.#i=p.order;for(let c of p.groups)this.#t.set(c.id,new a(c.name,c.intent));if(p.baseState==="OFF")for(let c of this.#t.values())c._setVisible(s,!1);for(let c of p.on)this.#t.get(c)._setVisible(s,!0);for(let c of p.off)this.#t.get(c)._setVisible(s,!1);this.#n=this.getHash()}}#a(p){let c=p.length;if(c<2)return!0;let o=p[0];for(let l=1;l<c;l++){let g=p[l],h;if(Array.isArray(g))h=this.#a(g);else if(this.#t.has(g))h=this.#t.get(g).visible;else return(0,i.warn)(`Optional content group not found: ${g}`),!0;switch(o){case"And":if(!h)return!1;break;case"Or":if(h)return!0;break;case"Not":return!h;default:return!0}}return o==="And"}isVisible(p){if(this.#t.size===0)return!0;if(!p)return(0,i.warn)("Optional content group not defined."),!0;if(p.type==="OCG")return this.#t.has(p.id)?this.#t.get(p.id).visible:((0,i.warn)(`Optional content group not found: ${p.id}`),!0);if(p.type==="OCMD"){if(p.expression)return this.#a(p.expression);if(!p.policy||p.policy==="AnyOn"){for(let c of p.ids){if(!this.#t.has(c))return(0,i.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!0}return!1}else if(p.policy==="AllOn"){for(let c of p.ids){if(!this.#t.has(c))return(0,i.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!1}return!0}else if(p.policy==="AnyOff"){for(let c of p.ids){if(!this.#t.has(c))return(0,i.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!0}return!1}else if(p.policy==="AllOff"){for(let c of p.ids){if(!this.#t.has(c))return(0,i.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${p.policy}.`),!0}return(0,i.warn)(`Unknown group type ${p.type}.`),!0}setVisibility(p,c=!0){if(!this.#t.has(p)){(0,i.warn)(`Optional content group not found: ${p}`);return}this.#t.get(p)._setVisible(s,!!c),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}getGroup(p){return this.#t.get(p)||null}getHash(){if(this.#e!==null)return this.#e;let p=new r.MurmurHash3_64;for(let[c,o]of this.#t)p.update(`${c}:${o.visible}`);return this.#e=p.hexdigest()}}e.OptionalContentConfig=u},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=n(1),r=n(6);class s{constructor({length:p,initialData:c,progressiveDone:o=!1,contentDispositionFilename:l=null,disableRange:g=!1,disableStream:h=!1},d){if((0,i.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,c?.length>0){let v=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!h,this._isRangeSupported=!g,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,y)=>{this._onReceiveData({begin:v,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((v,y)=>{this._onProgress({loaded:v,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:p,chunk:c}){let o=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;if(p===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(o):this._queuedChunks.push(o);else{let l=this._rangeReaders.some(function(g){return g._begin!==p?!1:(g._enqueue(o),!0)});(0,i.assert)(l,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(p){p.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:p.loaded}):this._fullRequestReader?.onProgress?.({loaded:p.loaded,total:p.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(p){let c=this._rangeReaders.indexOf(p);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let p=this._queuedChunks;return this._queuedChunks=null,new a(this,p,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(p,c){if(c<=this._progressiveDataLength)return null;let o=new u(this,p,c);return this._pdfDataRangeTransport.requestDataRange(p,c),this._rangeReaders.push(o),o}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(let c of this._rangeReaders.slice(0))c.cancel(p);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class a{constructor(p,c,o=!1,l=null){this._stream=p,this._done=o||!1,this._filename=(0,r.isPdfFile)(l)?l:null,this._queuedChunks=c||[],this._loaded=0;for(let g of this._queuedChunks)this._loaded+=g.byteLength;this._requests=[],this._headersReady=Promise.resolve(),p._fullRequestReader=this,this.onProgress=null}_enqueue(p){this._done||(this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunks.push(p),this._loaded+=p.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return oe(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let p=new i.PromiseCapability;return this._requests.push(p),p.promise})}cancel(p){this._done=!0;for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class u{constructor(p,c,o){this._stream=p,this._begin=c,this._end=o,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(p){if(!this._done){if(this._requests.length===0)this._queuedChunk=p;else{this._requests.shift().resolve({value:p,done:!1});for(let o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return oe(this,null,function*(){if(this._queuedChunk){let c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};let p=new i.PromiseCapability;return this._requests.push(p),p.promise})}cancel(p){this._done=!0;for(let c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=n(1),r=n(20);function s(o,l,g){return{method:"GET",headers:o,signal:g.signal,mode:"cors",credentials:l?"include":"same-origin",redirect:"follow"}}function a(o){let l=new Headers;for(let g in o){let h=o[g];h!==void 0&&l.append(g,h)}return l}function u(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:((0,i.warn)(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class f{constructor(l){this.source=l,this.isHttp=/^https?:/i.test(l.url),this.httpHeaders=this.isHttp&&l.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new p(this),this._fullRequestReader}getRangeReader(l,g){if(g<=this._progressiveDataLength)return null;let h=new c(this,l,g);return this._rangeRequestReaders.push(h),h}cancelAllRequests(l){this._fullRequestReader?.cancel(l);for(let g of this._rangeRequestReaders.slice(0))g.cancel(l)}}e.PDFFetchStream=f;class p{constructor(l){this._stream=l,this._reader=null,this._loaded=0,this._filename=null;let g=l.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=new i.PromiseCapability,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=a(this._stream.httpHeaders);let h=g.url;fetch(h,s(this._headers,this._withCredentials,this._abortController)).then(d=>{if(!(0,r.validateResponseStatus)(d.status))throw(0,r.createResponseStatusError)(d.status,h);this._reader=d.body.getReader(),this._headersCapability.resolve();let v=m=>d.headers.get(m),{allowRangeRequests:y,suggestedLength:D}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=D||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){yield this._headersCapability.promise;let{value:l,done:g}=yield this._reader.read();return g?{value:l,done:g}:(this._loaded+=l.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:u(l),done:!1})})}cancel(l){this._reader?.cancel(l),this._abortController.abort()}}class c{constructor(l,g,h){this._stream=l,this._reader=null,this._loaded=0;let d=l.source;this._withCredentials=d.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!d.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${g}-${h-1}`);let v=d.url;fetch(v,s(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,r.validateResponseStatus)(y.status))throw(0,r.createResponseStatusError)(y.status,v);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){yield this._readCapability.promise;let{value:l,done:g}=yield this._reader.read();return g?{value:l,done:g}:(this._loaded+=l.byteLength,this.onProgress?.({loaded:this._loaded}),{value:u(l),done:!1})})}cancel(l){this._reader?.cancel(l),this._abortController.abort()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=f,e.extractFilenameFromHeader=u,e.validateRangeRequestCapabilities=a,e.validateResponseStatus=p;var i=n(1),r=n(21),s=n(6);function a({getResponseHeader:c,isHttp:o,rangeChunkSize:l,disableRange:g}){let h={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(c("Content-Length"),10);return!Number.isInteger(d)||(h.suggestedLength=d,d<=2*l)||g||!o||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(h.allowRangeRequests=!0),h}function u(c){let o=c("Content-Disposition");if(o){let l=(0,r.getFilenameFromContentDispositionHeader)(o);if(l.includes("%"))try{l=decodeURIComponent(l)}catch{}if((0,s.isPdfFile)(l))return l}return null}function f(c,o){return c===404||c===0&&o.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+o+'".'):new i.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${o}".`,c)}function p(c){return c===200||c===206}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=r;var i=n(1);function r(s){let a=!0,u=f("filename\\*","i").exec(s);if(u){u=u[1];let d=l(u);return d=unescape(d),d=g(d),d=h(d),c(d)}if(u=o(s),u){let d=h(u);return c(d)}if(u=f("filename","i").exec(s),u){u=u[1];let d=l(u);return d=h(d),c(d)}function f(d,v){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function p(d,v){if(d){if(!/^[\x00-\xFF]+$/.test(v))return v;try{let y=new TextDecoder(d,{fatal:!0}),D=(0,i.stringToBytes)(v);v=y.decode(D),a=!1}catch{}}return v}function c(d){return a&&/[\x80-\xff]/.test(d)&&(d=p("utf-8",d),a&&(d=p("iso-8859-1",d))),d}function o(d){let v=[],y,D=f("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=D.exec(d))!==null;){let[,_,w,S]=y;if(_=parseInt(_,10),_ in v){if(_===0)break;continue}v[_]=[w,S]}let m=[];for(let _=0;_<v.length&&_ in v;++_){let[w,S]=v[_];S=l(S),w&&(S=unescape(S),_===0&&(S=g(S))),m.push(S)}return m.join("")}function l(d){if(d.startsWith('"')){let v=d.slice(1).split('\\"');for(let y=0;y<v.length;++y){let D=v[y].indexOf('"');D!==-1&&(v[y]=v[y].slice(0,D),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}d=v.join('"')}return d}function g(d){let v=d.indexOf("'");if(v===-1)return d;let y=d.slice(0,v),m=d.slice(v+1).replace(/^[^']*'/,"");return p(y,m)}function h(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,D,m){if(D==="q"||D==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,w){return String.fromCharCode(parseInt(w,16))}),p(y,m);try{m=atob(m)}catch{}return p(y,m)})}return""}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=n(1),r=n(20);let s=200,a=206;function u(l){let g=l.response;return typeof g!="string"?g:(0,i.stringToBytes)(g).buffer}class f{constructor(g,h={}){this.url=g,this.isHttp=/^https?:/i.test(g),this.httpHeaders=this.isHttp&&h.httpHeaders||Object.create(null),this.withCredentials=h.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(g,h,d){let v={begin:g,end:h};for(let y in d)v[y]=d[y];return this.request(v)}requestFull(g){return this.request(g)}request(g){let h=new XMLHttpRequest,d=this.currXhrId++,v=this.pendingRequests[d]={xhr:h};h.open("GET",this.url),h.withCredentials=this.withCredentials;for(let y in this.httpHeaders){let D=this.httpHeaders[y];D!==void 0&&h.setRequestHeader(y,D)}return this.isHttp&&"begin"in g&&"end"in g?(h.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),v.expectedStatus=a):v.expectedStatus=s,h.responseType="arraybuffer",g.onError&&(h.onerror=function(y){g.onError(h.status)}),h.onreadystatechange=this.onStateChange.bind(this,d),h.onprogress=this.onProgress.bind(this,d),v.onHeadersReceived=g.onHeadersReceived,v.onDone=g.onDone,v.onError=g.onError,v.onProgress=g.onProgress,h.send(null),d}onProgress(g,h){let d=this.pendingRequests[g];d&&d.onProgress?.(h)}onStateChange(g,h){let d=this.pendingRequests[g];if(!d)return;let v=d.xhr;if(v.readyState>=2&&d.onHeadersReceived&&(d.onHeadersReceived(),delete d.onHeadersReceived),v.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],v.status===0&&this.isHttp){d.onError?.(v.status);return}let y=v.status||s;if(!(y===s&&d.expectedStatus===a)&&y!==d.expectedStatus){d.onError?.(v.status);return}let m=u(v);if(y===a){let _=v.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);d.onDone({begin:parseInt(w[1],10),chunk:m})}else m?d.onDone({begin:0,chunk:m}):d.onError?.(v.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){let h=this.pendingRequests[g].xhr;delete this.pendingRequests[g],h.abort()}}class p{constructor(g){this._source=g,this._manager=new f(g.url,{httpHeaders:g.httpHeaders,withCredentials:g.withCredentials}),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){let h=this._rangeRequestReaders.indexOf(g);h>=0&&this._rangeRequestReaders.splice(h,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(g,h){let d=new o(this._manager,g,h);return d.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(d),d}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(let h of this._rangeRequestReaders.slice(0))h.cancel(g)}}e.PDFNetworkStream=p;class c{constructor(g,h){this._manager=g;let d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=h.url,this._fullRequestId=g.requestFull(d),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=h.disableRange||!1,this._contentLength=h.length,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let g=this._fullRequestId,h=this._manager.getRequestXhr(g),d=D=>h.getResponseHeader(D),{allowRangeRequests:v,suggestedLength:y}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(d),this._isRangeSupported&&this._manager.abortRequest(g),this._headersReceivedCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=(0,r.createResponseStatusError)(g,this._url),this._headersReceivedCapability.reject(this._storedError);for(let h of this._requests)h.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){this.onProgress?.({loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return oe(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let g=new i.PromiseCapability;return this._requests.push(g),g.promise})}cancel(g){this._done=!0,this._headersReceivedCapability.reject(g);for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(g,h,d){this._manager=g;let v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=g.url,this._requestId=g.requestRange(h,d,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(g){let h=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunk=h,this._done=!0;for(let d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError=(0,r.createResponseStatusError)(g,this._url);for(let h of this._requests)h.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){this.isStreamingSupported||this.onProgress?.({loaded:g.loaded})}get isStreamingSupported(){return!1}read(){return oe(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let h=this._queuedChunk;return this._queuedChunk=null,{value:h,done:!1}}if(this._done)return{value:void 0,done:!0};let g=new i.PromiseCapability;return this._requests.push(g),g.promise})}cancel(g){this._done=!0;for(let h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=n(1),r=n(20);let s=/^file:\/\/\/[a-zA-Z]:\//;function a(d){let v=uh(),y=v.parse(d);return y.protocol==="file:"||y.host?y:/^[a-z]:[/\\]/i.test(d)?v.parse(`file:///${d}`):(y.host||(y.protocol="file:"),y)}class u{constructor(v){this.source=v,this.url=a(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new o(this),this._fullRequestReader}getRangeReader(v,y){if(y<=this._progressiveDataLength)return null;let D=this.isFsUrl?new h(this,v,y):new l(this,v,y);return this._rangeRequestReaders.push(D),D}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(let y of this._rangeRequestReaders.slice(0))y.cancel(v)}}e.PDFNodeStream=u;class f{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;let y=v.source;this._contentLength=y.length,this._loaded=0,this._filename=null,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",y=>{this._error(y)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;let y=v.source;this._isStreamingSupported=!y.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return oe(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let v=this._readableStream.read();return v===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=v.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",y=>{this._error(y)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c(d,v){return{protocol:d.protocol,auth:d.auth,host:d.hostname,port:d.port,path:d.path,method:"GET",headers:v}}class o extends f{constructor(v){super(v);let y=D=>{if(D.statusCode===404){let S=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S,this._headersCapability.reject(S);return}this._headersCapability.resolve(),this._setReadableStream(D);let m=S=>this._readableStream.headers[S.toLowerCase()],{allowRangeRequests:_,suggestedLength:w}=(0,r.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=w||this._contentLength,this._filename=(0,r.extractFilenameFromHeader)(m)};if(this._request=null,this._url.protocol==="http:"){let D=Aa();this._request=D.request(c(this._url,v.httpHeaders),y)}else{let D=Ca();this._request=D.request(c(this._url,v.httpHeaders),y)}this._request.on("error",D=>{this._storedError=D,this._headersCapability.reject(D)}),this._request.end()}}class l extends p{constructor(v,y,D){super(v),this._httpHeaders={};for(let _ in v.httpHeaders){let w=v.httpHeaders[_];w!==void 0&&(this._httpHeaders[_]=w)}this._httpHeaders.Range=`bytes=${y}-${D-1}`;let m=_=>{if(_.statusCode===404){let w=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w;return}this._setReadableStream(_)};if(this._request=null,this._url.protocol==="http:"){let _=Aa();this._request=_.request(c(this._url,this._httpHeaders),m)}else{let _=Ca();this._request=_.request(c(this._url,this._httpHeaders),m)}this._request.on("error",_=>{this._storedError=_}),this._request.end()}}class g extends f{constructor(v){super(v);let y=decodeURIComponent(this._url.path);s.test(this._url.href)&&(y=y.replace(/^\//,""));let D=Rr();D.lstat(y,(m,_)=>{if(m){m.code==="ENOENT"&&(m=new i.MissingPDFException(`Missing PDF "${y}".`)),this._storedError=m,this._headersCapability.reject(m);return}this._contentLength=_.size,this._setReadableStream(D.createReadStream(y)),this._headersCapability.resolve()})}}class h extends p{constructor(v,y,D){super(v);let m=decodeURIComponent(this._url.path);s.test(this._url.href)&&(m=m.replace(/^\//,""));let _=Rr();this._setReadableStream(_.createReadStream(m,{start:y,end:D-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(6),r=n(1);let s={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},a="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",f=["butt","round","square"],p=["miter","round","bevel"],c=function(_,w="",S=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!S)return URL.createObjectURL(new Blob([_],{type:w}));let I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",R=`data:${w};base64,`;for(let O=0,H=_.length;O<H;O+=3){let z=_[O]&255,G=_[O+1]&255,Q=_[O+2]&255,X=z>>2,B=(z&3)<<4|G>>4,U=O+1<H?(G&15)<<2|Q>>6:64,P=O+2<H?Q&63:64;R+=I[X]+I[B]+I[U]+I[P]}return R},o=function(){let _=new Uint8Array([137,80,78,71,13,10,26,10]),w=12,S=new Int32Array(256);for(let Q=0;Q<256;Q++){let X=Q;for(let B=0;B<8;B++)X=X&1?3988292384^X>>1&2147483647:X>>1&2147483647;S[Q]=X}function I(Q,X,B){let U=-1;for(let P=X;P<B;P++){let b=(U^Q[P])&255,A=S[b];U=U>>>8^A}return U^-1}function R(Q,X,B,U){let P=U,b=X.length;B[P]=b>>24&255,B[P+1]=b>>16&255,B[P+2]=b>>8&255,B[P+3]=b&255,P+=4,B[P]=Q.charCodeAt(0)&255,B[P+1]=Q.charCodeAt(1)&255,B[P+2]=Q.charCodeAt(2)&255,B[P+3]=Q.charCodeAt(3)&255,P+=4,B.set(X,P),P+=X.length;let A=I(B,U+4,P);B[P]=A>>24&255,B[P+1]=A>>16&255,B[P+2]=A>>8&255,B[P+3]=A&255}function O(Q,X,B){let U=1,P=0;for(let b=X;b<B;++b)U=(U+(Q[b]&255))%65521,P=(P+U)%65521;return P<<16|U}function H(Q){if(!r.isNodeJS)return z(Q);try{let X=parseInt(process.versions.node)>=8?Q:Buffer.from(Q),B=dh().deflateSync(X,{level:9});return B instanceof Uint8Array?B:new Uint8Array(B)}catch(X){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+X)}return z(Q)}function z(Q){let X=Q.length,B=65535,U=Math.ceil(X/B),P=new Uint8Array(2+X+U*5+4),b=0;P[b++]=120,P[b++]=156;let A=0;for(;X>B;)P[b++]=0,P[b++]=255,P[b++]=255,P[b++]=0,P[b++]=0,P.set(Q.subarray(A,A+B),b),b+=B,A+=B,X-=B;P[b++]=1,P[b++]=X&255,P[b++]=X>>8&255,P[b++]=~X&65535&255,P[b++]=(~X&65535)>>8&255,P.set(Q.subarray(A),b),b+=Q.length-A;let C=O(Q,0,Q.length);return P[b++]=C>>24&255,P[b++]=C>>16&255,P[b++]=C>>8&255,P[b++]=C&255,P}function G(Q,X,B,U){let P=Q.width,b=Q.height,A,C,M,k=Q.data;switch(X){case r.ImageKind.GRAYSCALE_1BPP:C=0,A=1,M=P+7>>3;break;case r.ImageKind.RGB_24BPP:C=2,A=8,M=P*3;break;case r.ImageKind.RGBA_32BPP:C=6,A=8,M=P*4;break;default:throw new Error("invalid format")}let N=new Uint8Array((1+M)*b),j=0,L=0;for(let $=0;$<b;++$)N[j++]=0,N.set(k.subarray(L,L+M),j),L+=M,j+=M;if(X===r.ImageKind.GRAYSCALE_1BPP&&U){j=0;for(let $=0;$<b;$++){j++;for(let q=0;q<M;q++)N[j++]^=255}}let E=new Uint8Array([P>>24&255,P>>16&255,P>>8&255,P&255,b>>24&255,b>>16&255,b>>8&255,b&255,A,C,0,0,0]),x=H(N),T=_.length+w*3+E.length+x.length,F=new Uint8Array(T),V=0;return F.set(_,V),V+=_.length,R("IHDR",E,F,V),V+=w+E.length,R("IDATA",x,F,V),V+=w+x.length,R("IEND",new Uint8Array(0),F,V),c(F,"image/png",B)}return function(X,B,U){let P=X.kind===void 0?r.ImageKind.GRAYSCALE_1BPP:X.kind;return G(X,P,B,U)}}();class l{constructor(){this.fontSizeScale=1,this.fontWeight=s.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=s.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,S){this.x=w,this.y=S}}function g(_){let w=[],S=[];for(let I of _){if(I.fn==="save"){w.push({fnId:92,fn:"group",items:[]}),S.push(w),w=w.at(-1).items;continue}I.fn==="restore"?w=S.pop():w.push(I)}return w}function h(_){if(Number.isInteger(_))return _.toString();let w=_.toFixed(10),S=w.length-1;if(w[S]!=="0")return w;do S--;while(w[S]==="0");return w.substring(0,w[S]==="."?S:S+1)}function d(_){if(_[4]===0&&_[5]===0){if(_[1]===0&&_[2]===0)return _[0]===1&&_[3]===1?"":`scale(${h(_[0])} ${h(_[3])})`;if(_[0]===_[3]&&_[1]===-_[2]){let w=Math.acos(_[0])*180/Math.PI;return`rotate(${h(w)})`}}else if(_[0]===1&&_[1]===0&&_[2]===0&&_[3]===1)return`translate(${h(_[4])} ${h(_[5])})`;return`matrix(${h(_[0])} ${h(_[1])} ${h(_[2])} ${h(_[3])} ${h(_[4])} ${h(_[5])})`}let v=0,y=0,D=0;class m{constructor(w,S,I=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new l,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=w,this.objs=S,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!I,this._operatorIdMapping=[];for(let R in r.OPS)this._operatorIdMapping[r.OPS[R]]=R}getObject(w,S=null){return typeof w=="string"?w.startsWith("g_")?this.commonObjs.get(w):this.objs.get(w):S}save(){this.transformStack.push(this.transformMatrix);let w=this.current;this.extraStack.push(w),this.current=w.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(w){this.save(),this.executeOpTree(w),this.restore()}loadDependencies(w){let S=w.fnArray,I=w.argsArray;for(let R=0,O=S.length;R<O;R++)if(S[R]===r.OPS.dependency)for(let H of I[R]){let z=H.startsWith("g_")?this.commonObjs:this.objs,G=new Promise(Q=>{z.get(H,Q)});this.current.dependencies.push(G)}return Promise.all(this.current.dependencies)}transform(w,S,I,R,O,H){let z=[w,S,I,R,O,H];this.transformMatrix=r.Util.transform(this.transformMatrix,z),this.tgrp=null}getSVG(w,S){this.viewport=S;let I=this._initialize(S);return this.loadDependencies(w).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(w)),I))}convertOpList(w){let S=this._operatorIdMapping,I=w.argsArray,R=w.fnArray,O=[];for(let H=0,z=R.length;H<z;H++){let G=R[H];O.push({fnId:G,fn:S[G],args:I[H]})}return g(O)}executeOpTree(w){for(let S of w){let I=S.fn,R=S.fnId,O=S.args;switch(R|0){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(O);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(O[0],O[1]);break;case r.OPS.setFont:this.setFont(O);break;case r.OPS.showText:this.showText(O[0]);break;case r.OPS.showSpacedText:this.showText(O[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(O[0],O[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(O[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(O[0]);break;case r.OPS.setHScale:this.setHScale(O[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(O[0],O[1],O[2],O[3],O[4],O[5]);break;case r.OPS.setTextRise:this.setTextRise(O[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(O[0]);break;case r.OPS.setLineWidth:this.setLineWidth(O[0]);break;case r.OPS.setLineJoin:this.setLineJoin(O[0]);break;case r.OPS.setLineCap:this.setLineCap(O[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(O[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(O[0],O[1],O[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(O[0],O[1],O[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(O);break;case r.OPS.setFillColorN:this.setFillColorN(O);break;case r.OPS.shadingFill:this.shadingFill(O[0]);break;case r.OPS.setDash:this.setDash(O[0],O[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(O[0]);break;case r.OPS.setFlatness:this.setFlatness(O[0]);break;case r.OPS.setGState:this.setGState(O[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(O[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(O[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(O[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(O[0],O[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(O[0],O[1],O[2],O[3],O[4],O[5]);break;case r.OPS.constructPath:this.constructPath(O[0],O[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(S.items);break;default:(0,r.warn)(`Unimplemented operator ${I}`);break}}}setWordSpacing(w){this.current.wordSpacing=w}setCharSpacing(w){this.current.charSpacing=w}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(w,S,I,R,O,H){let z=this.current;z.textMatrix=z.lineMatrix=[w,S,I,R,O,H],z.textMatrixScale=Math.hypot(w,S),z.x=z.lineX=0,z.y=z.lineY=0,z.xcoords=[],z.ycoords=[],z.tspan=this.svgFactory.createElement("svg:tspan"),z.tspan.setAttributeNS(null,"font-family",z.fontFamily),z.tspan.setAttributeNS(null,"font-size",`${h(z.fontSize)}px`),z.tspan.setAttributeNS(null,"y",h(-z.y)),z.txtElement=this.svgFactory.createElement("svg:text"),z.txtElement.append(z.tspan)}beginText(){let w=this.current;w.x=w.lineX=0,w.y=w.lineY=0,w.textMatrix=r.IDENTITY_MATRIX,w.lineMatrix=r.IDENTITY_MATRIX,w.textMatrixScale=1,w.tspan=this.svgFactory.createElement("svg:tspan"),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtgrp=this.svgFactory.createElement("svg:g"),w.xcoords=[],w.ycoords=[]}moveText(w,S){let I=this.current;I.x=I.lineX+=w,I.y=I.lineY+=S,I.xcoords=[],I.ycoords=[],I.tspan=this.svgFactory.createElement("svg:tspan"),I.tspan.setAttributeNS(null,"font-family",I.fontFamily),I.tspan.setAttributeNS(null,"font-size",`${h(I.fontSize)}px`),I.tspan.setAttributeNS(null,"y",h(-I.y))}showText(w){let S=this.current,I=S.font,R=S.fontSize;if(R===0)return;let O=S.fontSizeScale,H=S.charSpacing,z=S.wordSpacing,G=S.fontDirection,Q=S.textHScale*G,X=I.vertical,B=X?1:-1,U=I.defaultVMetrics,P=R*S.fontMatrix[0],b=0;for(let M of w){if(M===null){b+=G*z;continue}else if(typeof M=="number"){b+=B*M*R/1e3;continue}let k=(M.isSpace?z:0)+H,N=M.fontChar,j,L,E=M.width;if(X){let T,F=M.vmetric||U;T=M.vmetric?F[1]:E*.5,T=-T*P;let V=F[2]*P;E=F?-F[0]:E,j=T/O,L=(b+V)/O}else j=b/O,L=0;(M.isInFont||I.missingFile)&&(S.xcoords.push(S.x+j),X&&S.ycoords.push(-S.y+L),S.tspan.textContent+=N);let x=X?E*P-k*G:E*P+k*G;b+=x}S.tspan.setAttributeNS(null,"x",S.xcoords.map(h).join(" ")),X?S.tspan.setAttributeNS(null,"y",S.ycoords.map(h).join(" ")):S.tspan.setAttributeNS(null,"y",h(-S.y)),X?S.y-=b:S.x+=b*Q,S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${h(S.fontSize)}px`),S.fontStyle!==s.fontStyle&&S.tspan.setAttributeNS(null,"font-style",S.fontStyle),S.fontWeight!==s.fontWeight&&S.tspan.setAttributeNS(null,"font-weight",S.fontWeight);let A=S.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(A===r.TextRenderingMode.FILL||A===r.TextRenderingMode.FILL_STROKE?(S.fillColor!==s.fillColor&&S.tspan.setAttributeNS(null,"fill",S.fillColor),S.fillAlpha<1&&S.tspan.setAttributeNS(null,"fill-opacity",S.fillAlpha)):S.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?S.tspan.setAttributeNS(null,"fill","transparent"):S.tspan.setAttributeNS(null,"fill","none"),A===r.TextRenderingMode.STROKE||A===r.TextRenderingMode.FILL_STROKE){let M=1/(S.textMatrixScale||1);this._setStrokeAttributes(S.tspan,M)}let C=S.textMatrix;S.textRise!==0&&(C=C.slice(),C[5]+=S.textRise),S.txtElement.setAttributeNS(null,"transform",`${d(C)} scale(${h(Q)}, -1)`),S.txtElement.setAttributeNS(a,"xml:space","preserve"),S.txtElement.append(S.tspan),S.txtgrp.append(S.txtElement),this._ensureTransformGroup().append(S.txtElement)}setLeadingMoveText(w,S){this.setLeading(-S),this.moveText(w,S)}addFontStyle(w){if(!w.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let S=c(w.data,w.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${w.loadedName}"; src: url(${S}); }
`}setFont(w){let S=this.current,I=this.commonObjs.get(w[0]),R=w[1];S.font=I,this.embedFonts&&!I.missingFile&&!this.embeddedFonts[I.loadedName]&&(this.addFontStyle(I),this.embeddedFonts[I.loadedName]=I),S.fontMatrix=I.fontMatrix||r.FONT_IDENTITY_MATRIX;let O="normal";I.black?O="900":I.bold&&(O="bold");let H=I.italic?"italic":"normal";R<0?(R=-R,S.fontDirection=-1):S.fontDirection=1,S.fontSize=R,S.fontFamily=I.loadedName,S.fontWeight=O,S.fontStyle=H,S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"y",h(-S.y)),S.xcoords=[],S.ycoords=[]}endText(){let w=this.current;w.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&w.txtElement?.hasChildNodes()&&(w.element=w.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(w){w>0&&(this.current.lineWidth=w)}setLineCap(w){this.current.lineCap=f[w]}setLineJoin(w){this.current.lineJoin=p[w]}setMiterLimit(w){this.current.miterLimit=w}setStrokeAlpha(w){this.current.strokeAlpha=w}setStrokeRGBColor(w,S,I){this.current.strokeColor=r.Util.makeHexColor(w,S,I)}setFillAlpha(w){this.current.fillAlpha=w}setFillRGBColor(w,S,I){this.current.fillColor=r.Util.makeHexColor(w,S,I),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(w){this.current.strokeColor=this._makeColorN_Pattern(w)}setFillColorN(w){this.current.fillColor=this._makeColorN_Pattern(w)}shadingFill(w){let{width:S,height:I}=this.viewport,R=r.Util.inverseTransform(this.transformMatrix),[O,H,z,G]=r.Util.getAxialAlignedBoundingBox([0,0,S,I],R),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",O),Q.setAttributeNS(null,"y",H),Q.setAttributeNS(null,"width",z-O),Q.setAttributeNS(null,"height",G-H),Q.setAttributeNS(null,"fill",this._makeShadingPattern(w)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(w){return w[0]==="TilingPattern"?this._makeTilingPattern(w):this._makeShadingPattern(w)}_makeTilingPattern(w){let S=w[1],I=w[2],R=w[3]||r.IDENTITY_MATRIX,[O,H,z,G]=w[4],Q=w[5],X=w[6],B=w[7],U=`shading${D++}`,[P,b,A,C]=r.Util.normalizeRect([...r.Util.applyTransform([O,H],R),...r.Util.applyTransform([z,G],R)]),[M,k]=r.Util.singularValueDecompose2dScale(R),N=Q*M,j=X*k,L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",U),L.setAttributeNS(null,"patternUnits","userSpaceOnUse"),L.setAttributeNS(null,"width",N),L.setAttributeNS(null,"height",j),L.setAttributeNS(null,"x",`${P}`),L.setAttributeNS(null,"y",`${b}`);let E=this.svg,x=this.transformMatrix,T=this.current.fillColor,F=this.current.strokeColor,V=this.svgFactory.create(A-P,C-b);if(this.svg=V,this.transformMatrix=R,B===2){let $=r.Util.makeHexColor(...S);this.current.fillColor=$,this.current.strokeColor=$}return this.executeOpTree(this.convertOpList(I)),this.svg=E,this.transformMatrix=x,this.current.fillColor=T,this.current.strokeColor=F,L.append(V.childNodes[0]),this.defs.append(L),`url(#${U})`}_makeShadingPattern(w){switch(typeof w=="string"&&(w=this.objs.get(w)),w[0]){case"RadialAxial":let S=`shading${D++}`,I=w[3],R;switch(w[1]){case"axial":let O=w[4],H=w[5];R=this.svgFactory.createElement("svg:linearGradient"),R.setAttributeNS(null,"id",S),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"x1",O[0]),R.setAttributeNS(null,"y1",O[1]),R.setAttributeNS(null,"x2",H[0]),R.setAttributeNS(null,"y2",H[1]);break;case"radial":let z=w[4],G=w[5],Q=w[6],X=w[7];R=this.svgFactory.createElement("svg:radialGradient"),R.setAttributeNS(null,"id",S),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"cx",G[0]),R.setAttributeNS(null,"cy",G[1]),R.setAttributeNS(null,"r",X),R.setAttributeNS(null,"fx",z[0]),R.setAttributeNS(null,"fy",z[1]),R.setAttributeNS(null,"fr",Q);break;default:throw new Error(`Unknown RadialAxial type: ${w[1]}`)}for(let O of I){let H=this.svgFactory.createElement("svg:stop");H.setAttributeNS(null,"offset",O[0]),H.setAttributeNS(null,"stop-color",O[1]),R.append(H)}return this.defs.append(R),`url(#${S})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${w[0]}`)}}setDash(w,S){this.current.dashArray=w,this.current.dashPhase=S}constructPath(w,S){let I=this.current,R=I.x,O=I.y,H=[],z=0;for(let G of w)switch(G|0){case r.OPS.rectangle:R=S[z++],O=S[z++];let Q=S[z++],X=S[z++],B=R+Q,U=O+X;H.push("M",h(R),h(O),"L",h(B),h(O),"L",h(B),h(U),"L",h(R),h(U),"Z");break;case r.OPS.moveTo:R=S[z++],O=S[z++],H.push("M",h(R),h(O));break;case r.OPS.lineTo:R=S[z++],O=S[z++],H.push("L",h(R),h(O));break;case r.OPS.curveTo:R=S[z+4],O=S[z+5],H.push("C",h(S[z]),h(S[z+1]),h(S[z+2]),h(S[z+3]),h(R),h(O)),z+=6;break;case r.OPS.curveTo2:H.push("C",h(R),h(O),h(S[z]),h(S[z+1]),h(S[z+2]),h(S[z+3])),R=S[z+2],O=S[z+3],z+=4;break;case r.OPS.curveTo3:R=S[z+2],O=S[z+3],H.push("C",h(S[z]),h(S[z+1]),h(R),h(O),h(R),h(O)),z+=4;break;case r.OPS.closePath:H.push("Z");break}H=H.join(" "),I.path&&w.length>0&&w[0]!==r.OPS.rectangle&&w[0]!==r.OPS.moveTo?H=I.path.getAttributeNS(null,"d")+H:(I.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(I.path)),I.path.setAttributeNS(null,"d",H),I.path.setAttributeNS(null,"fill","none"),I.element=I.path,I.setCurrentPoint(R,O)}endPath(){let w=this.current;if(w.path=null,!this.pendingClip)return;if(!w.element){this.pendingClip=null;return}let S=`clippath${v++}`,I=this.svgFactory.createElement("svg:clipPath");I.setAttributeNS(null,"id",S),I.setAttributeNS(null,"transform",d(this.transformMatrix));let R=w.element.cloneNode(!0);if(this.pendingClip==="evenodd"?R.setAttributeNS(null,"clip-rule","evenodd"):R.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,I.append(R),this.defs.append(I),w.activeClipUrl){w.clipGroup=null;for(let O of this.extraStack)O.clipGroup=null;I.setAttributeNS(null,"clip-path",w.activeClipUrl)}w.activeClipUrl=`url(#${S})`,this.tgrp=null}clip(w){this.pendingClip=w}closePath(){let w=this.current;if(w.path){let S=`${w.path.getAttributeNS(null,"d")}Z`;w.path.setAttributeNS(null,"d",S)}}setLeading(w){this.current.leading=-w}setTextRise(w){this.current.textRise=w}setTextRenderingMode(w){this.current.textRenderingMode=w}setHScale(w){this.current.textHScale=w/100}setRenderingIntent(w){}setFlatness(w){}setGState(w){for(let[S,I]of w)switch(S){case"LW":this.setLineWidth(I);break;case"LC":this.setLineCap(I);break;case"LJ":this.setLineJoin(I);break;case"ML":this.setMiterLimit(I);break;case"D":this.setDash(I[0],I[1]);break;case"RI":this.setRenderingIntent(I);break;case"FL":this.setFlatness(I);break;case"Font":this.setFont(I);break;case"CA":this.setStrokeAlpha(I);break;case"ca":this.setFillAlpha(I);break;default:(0,r.warn)(`Unimplemented graphic state operator ${S}`);break}}fill(){let w=this.current;w.element&&(w.element.setAttributeNS(null,"fill",w.fillColor),w.element.setAttributeNS(null,"fill-opacity",w.fillAlpha),this.endPath())}stroke(){let w=this.current;w.element&&(this._setStrokeAttributes(w.element),w.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(w,S=1){let I=this.current,R=I.dashArray;S!==1&&R.length>0&&(R=R.map(function(O){return S*O})),w.setAttributeNS(null,"stroke",I.strokeColor),w.setAttributeNS(null,"stroke-opacity",I.strokeAlpha),w.setAttributeNS(null,"stroke-miterlimit",h(I.miterLimit)),w.setAttributeNS(null,"stroke-linecap",I.lineCap),w.setAttributeNS(null,"stroke-linejoin",I.lineJoin),w.setAttributeNS(null,"stroke-width",h(S*I.lineWidth)+"px"),w.setAttributeNS(null,"stroke-dasharray",R.map(h).join(" ")),w.setAttributeNS(null,"stroke-dashoffset",h(S*I.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width","1px"),w.setAttributeNS(null,"height","1px"),w.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(w)}paintImageXObject(w){let S=this.getObject(w);if(!S){(0,r.warn)(`Dependent image with object ID ${w} is not ready yet`);return}this.paintInlineImageXObject(S)}paintInlineImageXObject(w,S){let I=w.width,R=w.height,O=o(w,this.forceDataSchema,!!S),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",h(I)),H.setAttributeNS(null,"height",h(R)),this.current.element=H,this.clip("nonzero");let z=this.svgFactory.createElement("svg:image");z.setAttributeNS(u,"xlink:href",O),z.setAttributeNS(null,"x","0"),z.setAttributeNS(null,"y",h(-R)),z.setAttributeNS(null,"width",h(I)+"px"),z.setAttributeNS(null,"height",h(R)+"px"),z.setAttributeNS(null,"transform",`scale(${h(1/I)} ${h(-1/R)})`),S?S.append(z):this._ensureTransformGroup().append(z)}paintImageMaskXObject(w){let S=this.getObject(w.data,w);if(S.bitmap){(0,r.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}let I=this.current,R=S.width,O=S.height,H=I.fillColor;I.maskId=`mask${y++}`;let z=this.svgFactory.createElement("svg:mask");z.setAttributeNS(null,"id",I.maskId);let G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",h(R)),G.setAttributeNS(null,"height",h(O)),G.setAttributeNS(null,"fill",H),G.setAttributeNS(null,"mask",`url(#${I.maskId})`),this.defs.append(z),this._ensureTransformGroup().append(G),this.paintInlineImageXObject(S,z)}paintFormXObjectBegin(w,S){if(Array.isArray(w)&&w.length===6&&this.transform(w[0],w[1],w[2],w[3],w[4],w[5]),S){let I=S[2]-S[0],R=S[3]-S[1],O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x",S[0]),O.setAttributeNS(null,"y",S[1]),O.setAttributeNS(null,"width",h(I)),O.setAttributeNS(null,"height",h(R)),this.current.element=O,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(w){let S=this.svgFactory.create(w.width,w.height),I=this.svgFactory.createElement("svg:defs");S.append(I),this.defs=I;let R=this.svgFactory.createElement("svg:g");return R.setAttributeNS(null,"transform",d(w.transform)),S.append(R),this.svg=R,S}_ensureClipGroup(){if(!this.current.clipGroup){let w=this.svgFactory.createElement("svg:g");w.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(w),this.current.clipGroup=w}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",d(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=m},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(r){let s=[],a={items:s,styles:Object.create(null)};function u(f){if(!f)return;let p=null,c=f.name;if(c==="#text")p=f.value;else if(n.shouldBuildText(c))f?.attributes?.textContent?p=f.attributes.textContent:f.value&&(p=f.value);else return;if(p!==null&&s.push({str:p}),!!f.children)for(let o of f.children)u(o)}return u(r),a}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=d,e.updateTextLayer=v;var i=n(1),r=n(6);let s=1e5,a=30,u=.8,f=new Map;function p(y,D){let m;if(D&&i.FeatureTest.isOffscreenCanvasSupported)m=new OffscreenCanvas(y,y).getContext("2d",{alpha:!1});else{let _=document.createElement("canvas");_.width=_.height=y,m=_.getContext("2d",{alpha:!1})}return m}function c(y,D){let m=f.get(y);if(m)return m;let _=p(a,D);_.font=`${a}px ${y}`;let w=_.measureText(""),S=w.fontBoundingBoxAscent,I=Math.abs(w.fontBoundingBoxDescent);if(S){let O=S/(S+I);return f.set(y,O),_.canvas.width=_.canvas.height=0,O}_.strokeStyle="red",_.clearRect(0,0,a,a),_.strokeText("g",0,0);let R=_.getImageData(0,0,a,a).data;I=0;for(let O=R.length-1-3;O>=0;O-=4)if(R[O]>0){I=Math.ceil(O/4/a);break}_.clearRect(0,0,a,a),_.strokeText("A",0,a),R=_.getImageData(0,0,a,a).data,S=0;for(let O=0,H=R.length;O<H;O+=4)if(R[O]>0){S=a-Math.floor(O/4/a);break}if(_.canvas.width=_.canvas.height=0,S){let O=S/(S+I);return f.set(y,O),O}return f.set(y,u),u}function o(y,D,m){let _=document.createElement("span"),w={angle:0,canvasWidth:0,hasText:D.str!=="",hasEOL:D.hasEOL,fontSize:0};y._textDivs.push(_);let S=i.Util.transform(y._transform,D.transform),I=Math.atan2(S[1],S[0]),R=m[D.fontName];R.vertical&&(I+=Math.PI/2);let O=Math.hypot(S[2],S[3]),H=O*c(R.fontFamily,y._isOffscreenCanvasSupported),z,G;I===0?(z=S[4],G=S[5]-H):(z=S[4]+H*Math.sin(I),G=S[5]-H*Math.cos(I));let Q="calc(var(--scale-factor)*",X=_.style;y._container===y._rootContainer?(X.left=`${(100*z/y._pageWidth).toFixed(2)}%`,X.top=`${(100*G/y._pageHeight).toFixed(2)}%`):(X.left=`${Q}${z.toFixed(2)}px)`,X.top=`${Q}${G.toFixed(2)}px)`),X.fontSize=`${Q}${O.toFixed(2)}px)`,X.fontFamily=R.fontFamily,w.fontSize=O,_.setAttribute("role","presentation"),_.textContent=D.str,_.dir=D.dir,y._fontInspectorEnabled&&(_.dataset.fontName=D.fontName),I!==0&&(w.angle=I*(180/Math.PI));let B=!1;if(D.str.length>1)B=!0;else if(D.str!==" "&&D.transform[0]!==D.transform[3]){let U=Math.abs(D.transform[0]),P=Math.abs(D.transform[3]);U!==P&&Math.max(U,P)/Math.min(U,P)>1.5&&(B=!0)}B&&(w.canvasWidth=R.vertical?D.height:D.width),y._textDivProperties.set(_,w),y._isReadableStream&&y._layoutText(_)}function l(y){let{div:D,scale:m,properties:_,ctx:w,prevFontSize:S,prevFontFamily:I}=y,{style:R}=D,O="";if(_.canvasWidth!==0&&_.hasText){let{fontFamily:H}=R,{canvasWidth:z,fontSize:G}=_;(S!==G||I!==H)&&(w.font=`${G*m}px ${H}`,y.prevFontSize=G,y.prevFontFamily=H);let{width:Q}=w.measureText(D.textContent);Q>0&&(O=`scaleX(${z*m/Q})`)}_.angle!==0&&(O=`rotate(${_.angle}deg) ${O}`),O.length>0&&(R.transform=O)}function g(y){if(y._canceled)return;let D=y._textDivs,m=y._capability;if(D.length>s){m.resolve();return}if(!y._isReadableStream)for(let w of D)y._layoutText(w);m.resolve()}class h{constructor({textContentSource:D,container:m,viewport:_,textDivs:w,textDivProperties:S,textContentItemsStr:I,isOffscreenCanvasSupported:R}){this._textContentSource=D,this._isReadableStream=D instanceof ReadableStream,this._container=this._rootContainer=m,this._textDivs=w||[],this._textContentItemsStr=I||[],this._isOffscreenCanvasSupported=R,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=S||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:_.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:p(0,R)};let{pageWidth:O,pageHeight:H,pageX:z,pageY:G}=_.rawDims;this._transform=[1,0,0,-1,-z,G+H],this._pageWidth=O,this._pageHeight=H,(0,r.setLayerDimensions)(m,_),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(D,m){for(let _ of D){if(_.str===void 0){if(_.type==="beginMarkedContentProps"||_.type==="beginMarkedContent"){let w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_.id!==null&&this._container.setAttribute("id",`${_.id}`),w.append(this._container)}else _.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(_.str),o(this,_,m)}}_layoutText(D){let m=this._layoutTextParams.properties=this._textDivProperties.get(D);if(this._layoutTextParams.div=D,l(this._layoutTextParams),m.hasText&&this._container.append(D),m.hasEOL){let _=document.createElement("br");_.setAttribute("role","presentation"),this._container.append(_)}}_render(){let D=new i.PromiseCapability,m=Object.create(null);if(this._isReadableStream){let _=()=>{this._reader.read().then(({value:w,done:S})=>{if(S){D.resolve();return}Object.assign(m,w.styles),this._processItems(w.items,m),_()},D.reject)};this._reader=this._textContentSource.getReader(),_()}else if(this._textContentSource){let{items:_,styles:w}=this._textContentSource;this._processItems(_,w),D.resolve()}else throw new Error('No "textContentSource" parameter specified.');D.promise.then(()=>{m=null,g(this)},this._capability.reject)}}e.TextLayerRenderTask=h;function d(y){!y.textContentSource&&(y.textContent||y.textContentStream)&&((0,r.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),y.textContentSource=y.textContent||y.textContentStream);let{container:D,viewport:m}=y,_=getComputedStyle(D),w=_.getPropertyValue("visibility"),S=parseFloat(_.getPropertyValue("--scale-factor"));w==="visible"&&(!S||Math.abs(S-m.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");let I=new h(y);return I._render(),I}function v({container:y,viewport:D,textDivs:m,textDivProperties:_,isOffscreenCanvasSupported:w,mustRotate:S=!0,mustRescale:I=!0}){if(S&&(0,r.setLayerDimensions)(y,{rotation:D.rotation}),I){let R=p(0,w),H={prevFontSize:null,prevFontFamily:null,div:null,scale:D.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:R};for(let z of m)H.properties=_.get(z),H.div=z,l(H)}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var i=n(1),r=n(4),s=n(28),a=n(33),u=n(6),f=n(34);let p=(()=>{class c{#e;#t=!1;#n=null;#i=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#s=new Map;#o=!1;#l=!1;#c=!1;#r;static _initialized=!1;constructor({uiManager:l,pageIndex:g,div:h,accessibilityManager:d,annotationLayer:v,viewport:y,l10n:D}){let m=[s.FreeTextEditor,a.InkEditor,f.StampEditor];if(!c._initialized){c._initialized=!0;for(let _ of m)_.initialize(D)}l.registerEditorTypes(m),this.#r=l,this.pageIndex=g,this.div=h,this.#e=d,this.#n=v,this.viewport=y,this.#r.addLayer(this)}get isEmpty(){return this.#s.size===0}updateToolbar(l){this.#r.updateToolbar(l)}updateMode(l=this.#r.getMode()){this.#p(),l===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),l!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",l===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",l===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",l===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(l){if(!l&&this.#r.getMode()!==i.AnnotationEditorType.INK)return;if(!l){for(let h of this.#s.values())if(h.isEmpty()){h.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(l){this.#r.setEditingState(l)}addCommands(l){this.#r.addCommands(l)}enable(){this.div.style.pointerEvents="auto";let l=new Set;for(let h of this.#s.values())h.enableEditing(),h.annotationElementId&&l.add(h.annotationElementId);if(!this.#n)return;let g=this.#n.getEditableAnnotations();for(let h of g){if(h.hide(),this.#r.isDeletedAnnotationElement(h.data.id)||l.has(h.data.id))continue;let d=this.deserialize(h);d&&(this.addOrRebuild(d),d.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";let l=new Set;for(let g of this.#s.values()){if(g.disableEditing(),!g.annotationElementId||g.serialize()!==null){l.add(g.annotationElementId);continue}this.getEditableAnnotation(g.annotationElementId)?.show(),g.remove()}if(this.#n){let g=this.#n.getEditableAnnotations();for(let h of g){let{id:d}=h.data;l.has(d)||this.#r.isDeletedAnnotationElement(d)||h.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(l){return this.#n?.getEditableAnnotation(l)||null}setActiveEditor(l){this.#r.getActive()!==l&&this.#r.setActiveEditor(l)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#i)}attach(l){this.#s.set(l.id,l);let{annotationElementId:g}=l;g&&this.#r.isDeletedAnnotationElement(g)&&this.#r.removeDeletedAnnotationElement(l)}detach(l){this.#s.delete(l.id),this.#e?.removePointerInTextLayer(l.contentDiv),!this.#c&&l.annotationElementId&&this.#r.addDeletedAnnotationElement(l)}remove(l){this.detach(l),this.#r.removeEditor(l),l.div.contains(document.activeElement)&&setTimeout(()=>{this.#r.focusMainContainer()},0),l.div.remove(),l.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(l){l.parent!==this&&(l.annotationElementId&&(this.#r.addDeletedAnnotationElement(l.annotationElementId),r.AnnotationEditor.deleteAnnotationElement(l),l.annotationElementId=null),this.attach(l),l.parent?.detach(l),l.setParent(this),l.div&&l.isAttachedToDOM&&(l.div.remove(),this.div.append(l.div)))}add(l){if(this.changeParent(l),this.#r.addEditor(l),this.attach(l),!l.isAttachedToDOM){let g=l.render();this.div.append(g),l.isAttachedToDOM=!0}l.fixAndSetPosition(),l.onceAdded(),this.#r.addToAnnotationStorage(l)}moveEditorInDOM(l){if(!l.isAttachedToDOM)return;let{activeElement:g}=document;l.div.contains(g)&&(l._focusEventsAllowed=!1,setTimeout(()=>{l.div.contains(document.activeElement)?l._focusEventsAllowed=!0:(l.div.addEventListener("focusin",()=>{l._focusEventsAllowed=!0},{once:!0}),g.focus())},0)),l._structTreeParentId=this.#e?.moveElementInDOM(this.div,l.div,l.contentDiv,!0)}addOrRebuild(l){l.needsToBeRebuilt()?l.rebuild():this.add(l)}addUndoableEditor(l){let g=()=>l._uiManager.rebuild(l),h=()=>{l.remove()};this.addCommands({cmd:g,undo:h,mustExec:!1})}getNextId(){return this.#r.getId()}#u(l){switch(this.#r.getMode()){case i.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(l);case i.AnnotationEditorType.INK:return new a.InkEditor(l);case i.AnnotationEditorType.STAMP:return new f.StampEditor(l)}return null}pasteEditor(l,g){this.#r.updateToolbar(l),this.#r.updateMode(l);let{offsetX:h,offsetY:d}=this.#f(),v=this.getNextId(),y=this.#u(Ve({parent:this,id:v,x:h,y:d,uiManager:this.#r,isCentered:!0},g));y&&this.add(y)}deserialize(l){switch(l.annotationType??l.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(l,this,this.#r);case i.AnnotationEditorType.INK:return a.InkEditor.deserialize(l,this,this.#r);case i.AnnotationEditorType.STAMP:return f.StampEditor.deserialize(l,this,this.#r)}return null}#d(l,g){let h=this.getNextId(),d=this.#u({parent:this,id:h,x:l.offsetX,y:l.offsetY,uiManager:this.#r,isCentered:g});return d&&this.add(d),d}#f(){let{x:l,y:g,width:h,height:d}=this.div.getBoundingClientRect(),v=Math.max(0,l),y=Math.max(0,g),D=Math.min(window.innerWidth,l+h),m=Math.min(window.innerHeight,g+d),_=(v+D)/2-l,w=(y+m)/2-g,[S,I]=this.viewport.rotation%180===0?[_,w]:[w,_];return{offsetX:S,offsetY:I}}addNewEditor(){this.#d(this.#f(),!0)}setSelected(l){this.#r.setSelected(l)}toggleSelected(l){this.#r.toggleSelected(l)}isSelected(l){return this.#r.isSelected(l)}unselect(l){this.#r.unselect(l)}pointerup(l){let{isMac:g}=i.FeatureTest.platform;if(!(l.button!==0||l.ctrlKey&&g)&&l.target===this.div&&this.#o){if(this.#o=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===i.AnnotationEditorType.STAMP){this.#r.unselectAll();return}this.#d(l,!1)}}pointerdown(l){if(this.#o){this.#o=!1;return}let{isMac:g}=i.FeatureTest.platform;if(l.button!==0||l.ctrlKey&&g||l.target!==this.div)return;this.#o=!0;let h=this.#r.getActive();this.#t=!h||h.isEmpty()}findNewParent(l,g,h){let d=this.#r.findParent(g,h);return d===null||d===this?!1:(d.changeParent(l),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null));for(let l of this.#s.values())this.#e?.removePointerInTextLayer(l.contentDiv),l.setParent(null),l.isAttachedToDOM=!1,l.div.remove();this.div=null,this.#s.clear(),this.#r.removeLayer(this)}#p(){this.#l=!0;for(let l of this.#s.values())l.isEmpty()&&l.remove();this.#l=!1}render({viewport:l}){this.viewport=l,(0,u.setLayerDimensions)(this.div,l);for(let g of this.#r.getEditors(this.pageIndex))this.add(g);this.updateMode()}update({viewport:l}){this.#r.commitOrRemove(),this.viewport=l,(0,u.setLayerDimensions)(this.div,{rotation:l.rotation}),this.updateMode()}get pageDimensions(){let{pageWidth:l,pageHeight:g}=this.viewport.rawDims;return[l,g]}}return c})();e.AnnotationEditorLayer=p},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var i=n(1),r=n(5),s=n(4),a=n(29);let u=(()=>{class f extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#a;#s="";#o=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let c=f.prototype,o=h=>h.isEmpty(),l=r.AnnotationEditorUIManager.TRANSLATE_SMALL,g=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new r.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],c.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],c.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],c._translateEmpty,{args:[-l,0],checker:o}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],c._translateEmpty,{args:[-g,0],checker:o}],[["ArrowRight","mac+ArrowRight"],c._translateEmpty,{args:[l,0],checker:o}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],c._translateEmpty,{args:[g,0],checker:o}],[["ArrowUp","mac+ArrowUp"],c._translateEmpty,{args:[0,-l],checker:o}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],c._translateEmpty,{args:[0,-g],checker:o}],[["ArrowDown","mac+ArrowDown"],c._translateEmpty,{args:[0,l],checker:o}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],c._translateEmpty,{args:[0,g],checker:o}]]))}static _type="freetext";constructor(c){super(Ke(Ve({},c),{name:"freeTextEditor"})),this.#a=c.color||f._defaultColor||s.AnnotationEditor._defaultLineColor,this.#l=c.fontSize||f._defaultFontSize}static initialize(c){s.AnnotationEditor.initialize(c,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});let o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(c,o){switch(c){case i.AnnotationEditorParamsType.FREETEXT_SIZE:f._defaultFontSize=o;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:f._defaultColor=o;break}}updateParams(c,o){switch(c){case i.AnnotationEditorParamsType.FREETEXT_SIZE:this.#r(o);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:this.#u(o);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,f._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,f._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[i.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#r(c){let o=g=>{this.editorDiv.style.fontSize=`calc(${g}px * var(--scale-factor))`,this.translate(0,-(g-this.#l)*this.parentScale),this.#l=g,this.#f()},l=this.#l;this.addCommands({cmd:()=>{o(c)},undo:()=>{o(l)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(c){let o=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=c},undo:()=>{this.#a=this.editorDiv.style.color=o},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(c,o){this._uiManager.translateSelectedEditors(c,o,!0)}getInitialTranslation(){let c=this.parentScale;return[-f._internalPadding*c,-(f._internalPadding+this.#l)*c]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(c){this._focusEventsAllowed&&(super.focusin(c),c.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){let c=this.editorDiv.getElementsByTagName("div");if(c.length===0)return this.editorDiv.innerText;let o=[];for(let l of c)o.push(l.innerText.replace(/\r\n?|\n/,""));return o.join(`
`)}#f(){let[c,o]=this.parentDimensions,l;if(this.isAttachedToDOM)l=this.div.getBoundingClientRect();else{let{currentLayer:g,div:h}=this,d=h.style.display;h.style.display="hidden",g.div.append(this.div),l=h.getBoundingClientRect(),h.remove(),h.style.display=d}this.rotation%180===this.parentRotation%180?(this.width=l.width/c,this.height=l.height/o):(this.width=l.height/c,this.height=l.width/o),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let c=this.#s,o=this.#s=this.#d().trimEnd();if(c===o)return;let l=g=>{if(this.#s=g,!g){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#f()};this.addCommands({cmd:()=>{l(o)},undo:()=>{l(c)},mustExec:!1}),this.#f()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(c){this.enterInEditMode()}keydown(c){c.target===this.div&&c.key==="Enter"&&(this.enterInEditMode(),c.preventDefault())}editorDivKeydown(c){f._keyboardManager.exec(this,c)}editorDivFocus(c){this.isEditing=!0}editorDivBlur(c){this.isEditing=!1}editorDivInput(c){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let c,o;this.width&&(c=this.x,o=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.enableEditing(),s.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(g=>this.editorDiv?.setAttribute("aria-label",g)),s.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(g=>this.editorDiv?.setAttribute("default-content",g)),this.editorDiv.contentEditable=!0;let{style:l}=this.editorDiv;if(l.fontSize=`calc(${this.#l}px * var(--scale-factor))`,l.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,r.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[g,h]=this.parentDimensions;if(this.annotationElementId){let{position:d}=this.#c,[v,y]=this.getInitialTranslation();[v,y]=this.pageTranslationToScreen(v,y);let[D,m]=this.pageDimensions,[_,w]=this.pageTranslation,S,I;switch(this.rotation){case 0:S=c+(d[0]-_)/D,I=o+this.height-(d[1]-w)/m;break;case 90:S=c+(d[0]-_)/D,I=o-(d[1]-w)/m,[v,y]=[y,-v];break;case 180:S=c-this.width+(d[0]-_)/D,I=o-(d[1]-w)/m,[v,y]=[-v,-y];break;case 270:S=c+(d[0]-_-this.height*m)/D,I=o+(d[1]-w-this.width*D)/m,[v,y]=[-y,v];break}this.setAt(S*g,I*h,v,y)}else this.setAt(c*g,o*h,this.width*g,this.height*h);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#s)for(let c of this.#s.split(`
`)){let o=document.createElement("div");o.append(c?document.createTextNode(c):document.createElement("br")),this.editorDiv.append(o)}}get contentDiv(){return this.editorDiv}static deserialize(c,o,l){let g=null;if(c instanceof a.FreeTextAnnotationElement){let{data:{defaultAppearanceData:{fontSize:d,fontColor:v},rect:y,rotation:D,id:m},textContent:_,textPosition:w,parent:{page:{pageNumber:S}}}=c;if(!_||_.length===0)return null;g=c={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(v),fontSize:d,value:_.join(`
`),position:w,pageIndex:S-1,rect:y,rotation:D,id:m,deleted:!1}}let h=super.deserialize(c,o,l);return h.#l=c.fontSize,h.#a=i.Util.makeHexColor(...c.color),h.#s=c.value,h.annotationElementId=c.id||null,h.#c=g,h}serialize(c=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let o=f._internalPadding*this.parentScale,l=this.getRect(o,o),g=s.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),h={annotationType:i.AnnotationEditorType.FREETEXT,color:g,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return c?h:this.annotationElementId&&!this.#g(h)?null:(h.id=this.annotationElementId,h)}#g(c){let{value:o,fontSize:l,color:g,rect:h,pageIndex:d}=this.#c;return c.value!==o||c.fontSize!==l||c.rect.some((v,y)=>Math.abs(v-h[y])>=1)||c.color.some((v,y)=>v!==g[y])||c.pageIndex!==d}#m(c=!1){if(!this.annotationElementId)return;if(this.#f(),!c&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}let o=f._internalPadding*this.parentScale;this.#c.rect=this.getRect(o,o)}}return f})();e.FreeTextEditor=u},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var i=n(1),r=n(6),s=n(3),a=n(30),u=n(31),f=n(32);let p=1e3,c=9,o=new WeakSet;function l(L){return{width:L[2]-L[0],height:L[3]-L[1]}}class g{static create(E){switch(E.data.annotationType){case i.AnnotationType.LINK:return new d(E);case i.AnnotationType.TEXT:return new v(E);case i.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new D(E);case"Btn":return E.data.radioButton?new w(E):E.data.checkBox?new _(E):new S(E);case"Ch":return new I(E);case"Sig":return new m(E)}return new y(E);case i.AnnotationType.POPUP:return new R(E);case i.AnnotationType.FREETEXT:return new H(E);case i.AnnotationType.LINE:return new z(E);case i.AnnotationType.SQUARE:return new G(E);case i.AnnotationType.CIRCLE:return new Q(E);case i.AnnotationType.POLYLINE:return new X(E);case i.AnnotationType.CARET:return new U(E);case i.AnnotationType.INK:return new P(E);case i.AnnotationType.POLYGON:return new B(E);case i.AnnotationType.HIGHLIGHT:return new b(E);case i.AnnotationType.UNDERLINE:return new A(E);case i.AnnotationType.SQUIGGLY:return new C(E);case i.AnnotationType.STRIKEOUT:return new M(E);case i.AnnotationType.STAMP:return new k(E);case i.AnnotationType.FILEATTACHMENT:return new N(E);default:return new h(E)}}}class h{#e=!1;constructor(E,{isRenderable:x=!1,ignoreBorder:T=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=x,this.data=E.data,this.layer=E.layer,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this.parent=E.parent,x&&(this.container=this._createContainer(T)),F&&this._createQuadrilaterals()}static _hasPopupData({titleObj:E,contentsObj:x,richText:T}){return!!(E?.str||x?.str||T?.str)}get hasPopupData(){return h._hasPopupData(this.data)}_createContainer(E){let{data:x,parent:{page:T,viewport:F}}=this,V=document.createElement("section");V.setAttribute("data-annotation-id",x.id),this instanceof y||(V.tabIndex=p),V.style.zIndex=this.parent.zIndex++,this.data.popupRef&&V.setAttribute("aria-haspopup","dialog"),x.noRotate&&V.classList.add("norotate");let{pageWidth:$,pageHeight:q,pageX:ne,pageY:Z}=F.rawDims;if(!x.rect||this instanceof R){let{rotation:ie}=x;return!x.hasOwnCanvas&&ie!==0&&this.setRotation(ie,V),V}let{width:W,height:K}=l(x.rect),Y=i.Util.normalizeRect([x.rect[0],T.view[3]-x.rect[1]+T.view[1],x.rect[2],T.view[3]-x.rect[3]+T.view[1]]);if(!E&&x.borderStyle.width>0){V.style.borderWidth=`${x.borderStyle.width}px`;let ie=x.borderStyle.horizontalCornerRadius,se=x.borderStyle.verticalCornerRadius;if(ie>0||se>0){let ue=`calc(${ie}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`;V.style.borderRadius=ue}else if(this instanceof w){let ue=`calc(${W}px * var(--scale-factor)) / calc(${K}px * var(--scale-factor))`;V.style.borderRadius=ue}switch(x.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:V.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:V.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:V.style.borderBottomStyle="solid";break;default:break}let ae=x.borderColor||null;ae?(this.#e=!0,V.style.borderColor=i.Util.makeHexColor(ae[0]|0,ae[1]|0,ae[2]|0)):V.style.borderWidth=0}V.style.left=`${100*(Y[0]-ne)/$}%`,V.style.top=`${100*(Y[1]-Z)/q}%`;let{rotation:J}=x;return x.hasOwnCanvas||J===0?(V.style.width=`${100*W/$}%`,V.style.height=`${100*K/q}%`):this.setRotation(J,V),V}setRotation(E,x=this.container){if(!this.data.rect)return;let{pageWidth:T,pageHeight:F}=this.parent.viewport.rawDims,{width:V,height:$}=l(this.data.rect),q,ne;E%180===0?(q=100*V/T,ne=100*$/F):(q=100*$/T,ne=100*V/F),x.style.width=`${q}%`,x.style.height=`${ne}%`,x.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){let E=(x,T,F)=>{let V=F.detail[x],$=V[0],q=V.slice(1);F.target.style[T]=a.ColorConverters[`${$}_HTML`](q),this.annotationStorage.setValue(this.data.id,{[T]:a.ColorConverters[`${$}_rgb`](q)})};return(0,i.shadow)(this,"_commonActions",{display:x=>{let{display:T}=x.detail,F=T%2===1;this.container.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:F,noPrint:T===1||T===2})},print:x=>{this.annotationStorage.setValue(this.data.id,{noPrint:!x.detail.print})},hidden:x=>{let{hidden:T}=x.detail;this.container.style.visibility=T?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:T,noView:T})},focus:x=>{setTimeout(()=>x.target.focus({preventScroll:!1}),0)},userName:x=>{x.target.title=x.detail.userName},readonly:x=>{x.target.disabled=x.detail.readonly},required:x=>{this._setRequired(x.target,x.detail.required)},bgColor:x=>{E("bgColor","backgroundColor",x)},fillColor:x=>{E("fillColor","backgroundColor",x)},fgColor:x=>{E("fgColor","color",x)},textColor:x=>{E("textColor","color",x)},borderColor:x=>{E("borderColor","borderColor",x)},strokeColor:x=>{E("strokeColor","borderColor",x)},rotation:x=>{let T=x.detail.rotation;this.setRotation(T),this.annotationStorage.setValue(this.data.id,{rotation:T})}})}_dispatchEventFromSandbox(E,x){let T=this._commonActions;for(let F of Object.keys(x.detail))(E[F]||T[F])?.(x)}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;let x=this.annotationStorage.getRawValue(this.data.id);if(!x)return;let T=this._commonActions;for(let[F,V]of Object.entries(x)){let $=T[F];if($){let q={detail:{[F]:V},target:E};$(q),delete x[F]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:E}=this.data;if(!E)return;let[x,T,F,V]=this.data.rect;if(E.length===1){let[,{x:se,y:ae},{x:ue,y:de}]=E[0];if(F===se&&V===ae&&x===ue&&T===de)return}let{style:$}=this.container,q;if(this.#e){let{borderColor:se,borderWidth:ae}=$;$.borderWidth=0,q=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${se}" stroke-width="${ae}">`],this.container.classList.add("hasBorder")}let ne=F-x,Z=V-T,{svgFactory:W}=this,K=W.createElement("svg");K.classList.add("quadrilateralsContainer"),K.setAttribute("width",0),K.setAttribute("height",0);let Y=W.createElement("defs");K.append(Y);let J=W.createElement("clipPath"),ie=`clippath_${this.data.id}`;J.setAttribute("id",ie),J.setAttribute("clipPathUnits","objectBoundingBox"),Y.append(J);for(let[,{x:se,y:ae},{x:ue,y:de}]of E){let he=W.createElement("rect"),ye=(ue-x)/ne,We=(V-ae)/Z,Oe=(se-ue)/ne,et=(ae-de)/Z;he.setAttribute("x",ye),he.setAttribute("y",We),he.setAttribute("width",Oe),he.setAttribute("height",et),J.append(he),q?.push(`<rect vector-effect="non-scaling-stroke" x="${ye}" y="${We}" width="${Oe}" height="${et}"/>`)}this.#e&&(q.push("</g></svg>')"),$.backgroundImage=q.join("")),this.container.append(K),this.container.style.clipPath=`url(#${ie})`}_createPopup(){let{container:E,data:x}=this;E.setAttribute("aria-haspopup","dialog");let T=new R({data:{color:x.color,titleObj:x.titleObj,modificationDate:x.modificationDate,contentsObj:x.contentsObj,richText:x.richText,parentRect:x.rect,borderStyle:0,id:`popup_${x.id}`,rotation:x.rotation},parent:this.parent,elements:[this]});this.parent.div.append(T.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E,x=null){let T=[];if(this._fieldObjects){let F=this._fieldObjects[E];if(F)for(let{page:V,id:$,exportValues:q}of F){if(V===-1||$===x)continue;let ne=typeof q=="string"?q:null,Z=document.querySelector(`[data-element-id="${$}"]`);if(Z&&!o.has(Z)){(0,i.warn)(`_getElementsByName - element not allowed: ${$}`);continue}T.push({id:$,exportValue:ne,domElement:Z})}return T}for(let F of document.getElementsByName(E)){let{exportValue:V}=F,$=F.getAttribute("data-element-id");$!==x&&o.has(F)&&T.push({id:$,exportValue:V,domElement:F})}return T}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let E=this.getElementsToTriggerPopup();if(Array.isArray(E))for(let x of E)x.classList.add("highlightArea");else E.classList.add("highlightArea")}_editOnDoubleClick(){let{annotationEditorType:E,data:{id:x}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:E,editId:x})})}}class d extends h{constructor(E,x=null){super(E,{isRenderable:!0,ignoreBorder:!!x?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){let{data:E,linkService:x}=this,T=document.createElement("a");T.setAttribute("data-element-id",E.id);let F=!1;return E.url?(x.addLinkAttributes(T,E.url,E.newWindow),F=!0):E.action?(this._bindNamedAction(T,E.action),F=!0):E.attachment?(this._bindAttachment(T,E.attachment),F=!0):E.setOCGState?(this.#t(T,E.setOCGState),F=!0):E.dest?(this._bindLink(T,E.dest),F=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(T,E),F=!0),E.resetForm?(this._bindResetFormAction(T,E.resetForm),F=!0):this.isTooltipOnly&&!F&&(this._bindLink(T,""),F=!0)),this.container.classList.add("linkAnnotation"),F&&this.container.append(T),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(E,x){E.href=this.linkService.getDestinationHash(x),E.onclick=()=>(x&&this.linkService.goToDestination(x),!1),(x||x==="")&&this.#e()}_bindNamedAction(E,x){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(x),!1),this.#e()}_bindAttachment(E,x){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,x.content,x.filename),!1),this.#e()}#t(E,x){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeSetOCGState(x),!1),this.#e()}_bindJSAction(E,x){E.href=this.linkService.getAnchorUrl("");let T=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let F of Object.keys(x.actions)){let V=T.get(F);V&&(E[V]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x.id,name:F}}),!1))}E.onclick||(E.onclick=()=>!1),this.#e()}_bindResetFormAction(E,x){let T=E.onclick;if(T||(E.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),T||(E.onclick=()=>!1);return}E.onclick=()=>{T?.();let{fields:F,refs:V,include:$}=x,q=[];if(F.length!==0||V.length!==0){let W=new Set(V);for(let K of F){let Y=this._fieldObjects[K]||[];for(let{id:J}of Y)W.add(J)}for(let K of Object.values(this._fieldObjects))for(let Y of K)W.has(Y.id)===$&&q.push(Y)}else for(let W of Object.values(this._fieldObjects))q.push(...W);let ne=this.annotationStorage,Z=[];for(let W of q){let{id:K}=W;switch(Z.push(K),W.type){case"text":{let J=W.defaultValue||"";ne.setValue(K,{value:J});break}case"checkbox":case"radiobutton":{let J=W.defaultValue===W.exportValues;ne.setValue(K,{value:J});break}case"combobox":case"listbox":{let J=W.defaultValue||"";ne.setValue(K,{value:J});break}default:continue}let Y=document.querySelector(`[data-element-id="${K}"]`);if(Y){if(!o.has(Y)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${K}`);continue}}else continue;Y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Z,name:"ResetForm"}}),!1}}}class v extends h{constructor(E){super(E,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.alt="[{{type}} Annotation]",E.dataset.l10nId="text_annotation_type",E.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(E),this.container}}class y extends h{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(E){this.data.hasOwnCanvas&&(E.previousSibling?.nodeName==="CANVAS"&&(E.previousSibling.hidden=!0),E.hidden=!1)}_getKeyModifier(E){let{isWin:x,isMac:T}=i.FeatureTest.platform;return x&&E.ctrlKey||T&&E.metaKey}_setEventListener(E,x,T,F,V){T.includes("mouse")?E.addEventListener(T,$=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:V($),shift:$.shiftKey,modifier:this._getKeyModifier($)}})}):E.addEventListener(T,$=>{if(T==="blur"){if(!x.focused||!$.relatedTarget)return;x.focused=!1}else if(T==="focus"){if(x.focused)return;x.focused=!0}V&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:F,value:V($)}})})}_setEventListeners(E,x,T,F){for(let[V,$]of T)($==="Action"||this.data.actions?.[$])&&(($==="Focus"||$==="Blur")&&(x||={focused:!1}),this._setEventListener(E,x,V,$,F),$==="Focus"&&!this.data.actions?.Blur?this._setEventListener(E,x,"blur","Blur",null):$==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(E,x,"focus","Focus",null))}_setBackgroundColor(E){let x=this.data.backgroundColor||null;E.style.backgroundColor=x===null?"transparent":i.Util.makeHexColor(x[0],x[1],x[2])}_setTextStyle(E){let x=["left","center","right"],{fontColor:T}=this.data.defaultAppearanceData,F=this.data.defaultAppearanceData.fontSize||c,V=E.style,$,q=2,ne=Z=>Math.round(10*Z)/10;if(this.data.multiLine){let Z=Math.abs(this.data.rect[3]-this.data.rect[1]-q),W=Math.round(Z/(i.LINE_FACTOR*F))||1,K=Z/W;$=Math.min(F,ne(K/i.LINE_FACTOR))}else{let Z=Math.abs(this.data.rect[3]-this.data.rect[1]-q);$=Math.min(F,ne(Z/i.LINE_FACTOR))}V.fontSize=`calc(${$}px * var(--scale-factor))`,V.color=i.Util.makeHexColor(T[0],T[1],T[2]),this.data.textAlignment!==null&&(V.textAlign=x[this.data.textAlignment])}_setRequired(E,x){x?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",x)}}class D extends y{constructor(E){let x=E.renderForms||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:x})}setPropertyOnSiblings(E,x,T,F){let V=this.annotationStorage;for(let $ of this._getElementsByName(E.name,E.id))$.domElement&&($.domElement[x]=T),V.setValue($.id,{[F]:T})}render(){let E=this.annotationStorage,x=this.data.id;this.container.classList.add("textWidgetAnnotation");let T=null;if(this.renderForms){let F=E.getValue(x,{value:this.data.fieldValue}),V=F.value||"",$=E.getValue(x,{charLimit:this.data.maxLen}).charLimit;$&&V.length>$&&(V=V.slice(0,$));let q=F.formattedValue||this.data.textContent?.join(`
`)||null;q&&this.data.comb&&(q=q.replaceAll(/\s+/g,""));let ne={userValue:V,formattedValue:q,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(T=document.createElement("textarea"),T.textContent=q??V,this.data.doNotScroll&&(T.style.overflowY="hidden")):(T=document.createElement("input"),T.type="text",T.setAttribute("value",q??V),this.data.doNotScroll&&(T.style.overflowX="hidden")),this.data.hasOwnCanvas&&(T.hidden=!0),o.add(T),T.setAttribute("data-element-id",x),T.disabled=this.data.readOnly,T.name=this.data.fieldName,T.tabIndex=p,this._setRequired(T,this.data.required),$&&(T.maxLength=$),T.addEventListener("input",W=>{E.setValue(x,{value:W.target.value}),this.setPropertyOnSiblings(T,"value",W.target.value,"value"),ne.formattedValue=null}),T.addEventListener("resetform",W=>{let K=this.data.defaultFieldValue??"";T.value=ne.userValue=K,ne.formattedValue=null});let Z=W=>{let{formattedValue:K}=ne;K!=null&&(W.target.value=K),W.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){T.addEventListener("focus",K=>{if(ne.focused)return;let{target:Y}=K;ne.userValue&&(Y.value=ne.userValue),ne.lastCommittedValue=Y.value,ne.commitKey=1,ne.focused=!0}),T.addEventListener("updatefromsandbox",K=>{this.showElementAndHideCanvas(K.target);let Y={value(J){ne.userValue=J.detail.value??"",E.setValue(x,{value:ne.userValue.toString()}),J.target.value=ne.userValue},formattedValue(J){let{formattedValue:ie}=J.detail;ne.formattedValue=ie,ie!=null&&J.target!==document.activeElement&&(J.target.value=ie),E.setValue(x,{formattedValue:ie})},selRange(J){J.target.setSelectionRange(...J.detail.selRange)},charLimit:J=>{let{charLimit:ie}=J.detail,{target:se}=J;if(ie===0){se.removeAttribute("maxLength");return}se.setAttribute("maxLength",ie);let ae=ne.userValue;!ae||ae.length<=ie||(ae=ae.slice(0,ie),se.value=ne.userValue=ae,E.setValue(x,{value:ae}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ae,willCommit:!0,commitKey:1,selStart:se.selectionStart,selEnd:se.selectionEnd}}))}};this._dispatchEventFromSandbox(Y,K)}),T.addEventListener("keydown",K=>{ne.commitKey=1;let Y=-1;if(K.key==="Escape"?Y=0:K.key==="Enter"&&!this.data.multiLine?Y=2:K.key==="Tab"&&(ne.commitKey=3),Y===-1)return;let{value:J}=K.target;ne.lastCommittedValue!==J&&(ne.lastCommittedValue=J,ne.userValue=J,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:J,willCommit:!0,commitKey:Y,selStart:K.target.selectionStart,selEnd:K.target.selectionEnd}}))});let W=Z;Z=null,T.addEventListener("blur",K=>{if(!ne.focused||!K.relatedTarget)return;ne.focused=!1;let{value:Y}=K.target;ne.userValue=Y,ne.lastCommittedValue!==Y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:Y,willCommit:!0,commitKey:ne.commitKey,selStart:K.target.selectionStart,selEnd:K.target.selectionEnd}}),W(K)}),this.data.actions?.Keystroke&&T.addEventListener("beforeinput",K=>{ne.lastCommittedValue=null;let{data:Y,target:J}=K,{value:ie,selectionStart:se,selectionEnd:ae}=J,ue=se,de=ae;switch(K.inputType){case"deleteWordBackward":{let he=ie.substring(0,se).match(/\w*[^\w]*$/);he&&(ue-=he[0].length);break}case"deleteWordForward":{let he=ie.substring(se).match(/^[^\w]*\w*/);he&&(de+=he[0].length);break}case"deleteContentBackward":se===ae&&(ue-=1);break;case"deleteContentForward":se===ae&&(de+=1);break}K.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ie,change:Y||"",willCommit:!1,selStart:ue,selEnd:de}})}),this._setEventListeners(T,ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.value)}if(Z&&T.addEventListener("blur",Z),this.data.comb){let K=(this.data.rect[2]-this.data.rect[0])/$;T.classList.add("comb"),T.style.letterSpacing=`calc(${K}px * var(--scale-factor) - 1ch)`}}else T=document.createElement("div"),T.textContent=this.data.fieldValue,T.style.verticalAlign="middle",T.style.display="table-cell";return this._setTextStyle(T),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.append(T),this.container}}class m extends y{constructor(E){super(E,{isRenderable:!!E.data.hasOwnCanvas})}}class _ extends y{constructor(E){super(E,{isRenderable:E.renderForms})}render(){let E=this.annotationStorage,x=this.data,T=x.id,F=E.getValue(T,{value:x.exportValue===x.fieldValue}).value;typeof F=="string"&&(F=F!=="Off",E.setValue(T,{value:F})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let V=document.createElement("input");return o.add(V),V.setAttribute("data-element-id",T),V.disabled=x.readOnly,this._setRequired(V,this.data.required),V.type="checkbox",V.name=x.fieldName,F&&V.setAttribute("checked",!0),V.setAttribute("exportValue",x.exportValue),V.tabIndex=p,V.addEventListener("change",$=>{let{name:q,checked:ne}=$.target;for(let Z of this._getElementsByName(q,T)){let W=ne&&Z.exportValue===x.exportValue;Z.domElement&&(Z.domElement.checked=W),E.setValue(Z.id,{value:W})}E.setValue(T,{value:ne})}),V.addEventListener("resetform",$=>{let q=x.defaultFieldValue||"Off";$.target.checked=q===x.exportValue}),this.enableScripting&&this.hasJSActions&&(V.addEventListener("updatefromsandbox",$=>{let q={value(ne){ne.target.checked=ne.detail.value!=="Off",E.setValue(T,{value:ne.target.checked})}};this._dispatchEventFromSandbox(q,$)}),this._setEventListeners(V,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.checked)),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class w extends y{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let E=this.annotationStorage,x=this.data,T=x.id,F=E.getValue(T,{value:x.fieldValue===x.buttonValue}).value;typeof F=="string"&&(F=F!==x.buttonValue,E.setValue(T,{value:F}));let V=document.createElement("input");if(o.add(V),V.setAttribute("data-element-id",T),V.disabled=x.readOnly,this._setRequired(V,this.data.required),V.type="radio",V.name=x.fieldName,F&&V.setAttribute("checked",!0),V.tabIndex=p,V.addEventListener("change",$=>{let{name:q,checked:ne}=$.target;for(let Z of this._getElementsByName(q,T))E.setValue(Z.id,{value:!1});E.setValue(T,{value:ne})}),V.addEventListener("resetform",$=>{let q=x.defaultFieldValue;$.target.checked=q!=null&&q===x.buttonValue}),this.enableScripting&&this.hasJSActions){let $=x.buttonValue;V.addEventListener("updatefromsandbox",q=>{let ne={value:Z=>{let W=$===Z.detail.value;for(let K of this._getElementsByName(Z.target.name)){let Y=W&&K.id===T;K.domElement&&(K.domElement.checked=Y),E.setValue(K.id,{value:Y})}}};this._dispatchEventFromSandbox(ne,q)}),this._setEventListeners(V,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class S extends d{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){let E=super.render();E.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(E.title=this.data.alternativeText);let x=E.lastChild;return this.enableScripting&&this.hasJSActions&&x&&(this._setDefaultPropertiesFromJS(x),x.addEventListener("updatefromsandbox",T=>{this._dispatchEventFromSandbox({},T)})),E}}class I extends y{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let E=this.annotationStorage,x=this.data.id,T=E.getValue(x,{value:this.data.fieldValue}),F=document.createElement("select");o.add(F),F.setAttribute("data-element-id",x),F.disabled=this.data.readOnly,this._setRequired(F,this.data.required),F.name=this.data.fieldName,F.tabIndex=p;let V=this.data.combo&&this.data.options.length>0;this.data.combo||(F.size=this.data.options.length,this.data.multiSelect&&(F.multiple=!0)),F.addEventListener("resetform",W=>{let K=this.data.defaultFieldValue;for(let Y of F.options)Y.selected=Y.value===K});for(let W of this.data.options){let K=document.createElement("option");K.textContent=W.displayValue,K.value=W.exportValue,T.value.includes(W.exportValue)&&(K.setAttribute("selected",!0),V=!1),F.append(K)}let $=null;if(V){let W=document.createElement("option");W.value=" ",W.setAttribute("hidden",!0),W.setAttribute("selected",!0),F.prepend(W),$=()=>{W.remove(),F.removeEventListener("input",$),$=null},F.addEventListener("input",$)}let q=W=>{let K=W?"value":"textContent",{options:Y,multiple:J}=F;return J?Array.prototype.filter.call(Y,ie=>ie.selected).map(ie=>ie[K]):Y.selectedIndex===-1?null:Y[Y.selectedIndex][K]},ne=q(!1),Z=W=>{let K=W.target.options;return Array.prototype.map.call(K,Y=>({displayValue:Y.textContent,exportValue:Y.value}))};return this.enableScripting&&this.hasJSActions?(F.addEventListener("updatefromsandbox",W=>{let K={value(Y){$?.();let J=Y.detail.value,ie=new Set(Array.isArray(J)?J:[J]);for(let se of F.options)se.selected=ie.has(se.value);E.setValue(x,{value:q(!0)}),ne=q(!1)},multipleSelection(Y){F.multiple=!0},remove(Y){let J=F.options,ie=Y.detail.remove;J[ie].selected=!1,F.remove(ie),J.length>0&&Array.prototype.findIndex.call(J,ae=>ae.selected)===-1&&(J[0].selected=!0),E.setValue(x,{value:q(!0),items:Z(Y)}),ne=q(!1)},clear(Y){for(;F.length!==0;)F.remove(0);E.setValue(x,{value:null,items:[]}),ne=q(!1)},insert(Y){let{index:J,displayValue:ie,exportValue:se}=Y.detail.insert,ae=F.children[J],ue=document.createElement("option");ue.textContent=ie,ue.value=se,ae?ae.before(ue):F.append(ue),E.setValue(x,{value:q(!0),items:Z(Y)}),ne=q(!1)},items(Y){let{items:J}=Y.detail;for(;F.length!==0;)F.remove(0);for(let ie of J){let{displayValue:se,exportValue:ae}=ie,ue=document.createElement("option");ue.textContent=se,ue.value=ae,F.append(ue)}F.options.length>0&&(F.options[0].selected=!0),E.setValue(x,{value:q(!0),items:Z(Y)}),ne=q(!1)},indices(Y){let J=new Set(Y.detail.indices);for(let ie of Y.target.options)ie.selected=J.has(ie.index);E.setValue(x,{value:q(!0)}),ne=q(!1)},editable(Y){Y.target.disabled=!Y.detail.editable}};this._dispatchEventFromSandbox(K,W)}),F.addEventListener("input",W=>{let K=q(!0);E.setValue(x,{value:K}),W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ne,changeEx:K,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(F,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],W=>W.target.value)):F.addEventListener("input",function(W){E.setValue(x,{value:q(!0)})}),this.data.combo&&this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class R extends h{constructor(E){let{data:x,elements:T}=E;super(E,{isRenderable:h._hasPopupData(x)}),this.elements=T}render(){this.container.classList.add("popupAnnotation");let E=new O({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),x=[];for(let T of this.elements)T.popup=E,x.push(T.data.id),T.addHighlightArea();return this.container.setAttribute("aria-controls",x.map(T=>`${i.AnnotationPrefix}${T}`).join(",")),this.container}}class O{#e=null;#t=this.#h.bind(this);#n=this.#b.bind(this);#i=this.#C.bind(this);#a=this.#v.bind(this);#s=null;#o=null;#l=null;#c=null;#r=null;#u=null;#d=!1;#f=null;#p=null;#g=null;#m=null;#y=!1;constructor({container:E,color:x,elements:T,titleObj:F,modificationDate:V,contentsObj:$,richText:q,parent:ne,rect:Z,parentRect:W,open:K}){this.#o=E,this.#m=F,this.#l=$,this.#g=q,this.#r=ne,this.#s=x,this.#p=Z,this.#u=W,this.#c=T;let Y=r.PDFDateString.toDateObject(V);Y&&(this.#e=ne.l10n.get("annotation_date_string",{date:Y.toLocaleDateString(),time:Y.toLocaleTimeString()})),this.trigger=T.flatMap(J=>J.getElementsToTriggerPopup());for(let J of this.trigger)J.addEventListener("click",this.#a),J.addEventListener("mouseenter",this.#i),J.addEventListener("mouseleave",this.#n),J.classList.add("popupTriggerArea");for(let J of T)J.container?.addEventListener("keydown",this.#t);this.#o.hidden=!0,K&&this.#v()}render(){if(this.#f)return;let{page:{view:E},viewport:{rawDims:{pageWidth:x,pageHeight:T,pageX:F,pageY:V}}}=this.#r,$=this.#f=document.createElement("div");if($.className="popup",this.#s){let he=$.style.outlineColor=i.Util.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${he} 30%, white)`:$.style.backgroundColor=i.Util.makeHexColor(...this.#s.map(We=>Math.floor(.7*(255-We)+We)))}let q=document.createElement("span");q.className="header";let ne=document.createElement("h1");if(q.append(ne),{dir:ne.dir,str:ne.textContent}=this.#m,$.append(q),this.#e){let he=document.createElement("span");he.classList.add("popupDate"),this.#e.then(ye=>{he.textContent=ye}),q.append(he)}let Z=this.#l,W=this.#g;if(W?.str&&(!Z?.str||Z.str===W.str))f.XfaLayer.render({xfaHtml:W.html,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{let he=this._formatContents(Z);$.append(he)}let K=!!this.#u,Y=K?this.#u:this.#p;for(let he of this.#c)if(!Y||i.Util.intersect(he.data.rect,Y)!==null){Y=he.data.rect,K=!0;break}let J=i.Util.normalizeRect([Y[0],E[3]-Y[1]+E[1],Y[2],E[3]-Y[3]+E[1]]),se=K?Y[2]-Y[0]+5:0,ae=J[0]+se,ue=J[1],{style:de}=this.#o;de.left=`${100*(ae-F)/x}%`,de.top=`${100*(ue-V)/T}%`,this.#o.append($)}_formatContents({str:E,dir:x}){let T=document.createElement("p");T.classList.add("popupContent"),T.dir=x;let F=E.split(/(?:\r\n?|\n)/);for(let V=0,$=F.length;V<$;++V){let q=F[V];T.append(document.createTextNode(q)),V<$-1&&T.append(document.createElement("br"))}return T}#h(E){E.altKey||E.shiftKey||E.ctrlKey||E.metaKey||(E.key==="Enter"||E.key==="Escape"&&this.#d)&&this.#v()}#v(){this.#d=!this.#d,this.#d?(this.#C(),this.#o.addEventListener("click",this.#a),this.#o.addEventListener("keydown",this.#t)):(this.#b(),this.#o.removeEventListener("click",this.#a),this.#o.removeEventListener("keydown",this.#t))}#C(){this.#f||this.render(),this.isVisible?this.#d&&this.#o.classList.add("focused"):(this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#b(){this.#o.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#o.hidden=!0)}maybeShow(){this.#y&&(this.#y=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}}class H extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.textContent=E.data.textContent,this.textPosition=E.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let E=document.createElement("div");E.classList.add("annotationTextContent"),E.setAttribute("role","comment");for(let x of this.textContent){let T=document.createElement("span");T.textContent=x,E.append(T)}this.container.append(E)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=H;class z extends h{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let E=this.data,{width:x,height:T}=l(E.rect),F=this.svgFactory.create(x,T,!0),V=this.#e=this.svgFactory.createElement("svg:line");return V.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),V.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),V.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),V.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),V.setAttribute("stroke-width",E.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),F.append(V),this.container.append(F),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class G extends h{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let E=this.data,{width:x,height:T}=l(E.rect),F=this.svgFactory.create(x,T,!0),V=E.borderStyle.width,$=this.#e=this.svgFactory.createElement("svg:rect");return $.setAttribute("x",V/2),$.setAttribute("y",V/2),$.setAttribute("width",x-V),$.setAttribute("height",T-V),$.setAttribute("stroke-width",V||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),F.append($),this.container.append(F),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Q extends h{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let E=this.data,{width:x,height:T}=l(E.rect),F=this.svgFactory.create(x,T,!0),V=E.borderStyle.width,$=this.#e=this.svgFactory.createElement("svg:ellipse");return $.setAttribute("cx",x/2),$.setAttribute("cy",T/2),$.setAttribute("rx",x/2-V/2),$.setAttribute("ry",T/2-V/2),$.setAttribute("stroke-width",V||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),F.append($),this.container.append(F),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class X extends h{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let E=this.data,{width:x,height:T}=l(E.rect),F=this.svgFactory.create(x,T,!0),V=[];for(let q of E.vertices){let ne=q.x-E.rect[0],Z=E.rect[3]-q.y;V.push(ne+","+Z)}V=V.join(" ");let $=this.#e=this.svgFactory.createElement(this.svgElementName);return $.setAttribute("points",V),$.setAttribute("stroke-width",E.borderStyle.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),F.append($),this.container.append(F),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class B extends X{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class U extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class P extends h{#e=[];constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);let E=this.data,{width:x,height:T}=l(E.rect),F=this.svgFactory.create(x,T,!0);for(let V of E.inkLists){let $=[];for(let ne of V){let Z=ne.x-E.rect[0],W=E.rect[3]-ne.y;$.push(`${Z},${W}`)}$=$.join(" ");let q=this.svgFactory.createElement(this.svgElementName);this.#e.push(q),q.setAttribute("points",$),q.setAttribute("stroke-width",E.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),!E.popupRef&&this.hasPopupData&&this._createPopup(),F.append(q)}return this.container.append(F),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}e.InkAnnotationElement=P;class b extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class A extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class C extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class M extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class k extends h{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=k;class N extends h{#e=null;constructor(E){super(E,{isRenderable:!0});let{filename:x,content:T}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(x,!0),this.content=T,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:x,content:T})}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:E,data:x}=this,T;x.hasAppearance||x.fillAlpha===0?T=document.createElement("div"):(T=document.createElement("img"),T.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(x.name)?"paperclip":"pushpin"}.svg`,x.fillAlpha&&x.fillAlpha<1&&(T.style=`filter: opacity(${Math.round(x.fillAlpha*100)}%);`)),T.addEventListener("dblclick",this.#t.bind(this)),this.#e=T;let{isMac:F}=i.FeatureTest.platform;return E.addEventListener("keydown",V=>{V.key==="Enter"&&(F?V.metaKey:V.ctrlKey)&&this.#t()}),!x.popupRef&&this.hasPopupData?this._createPopup():T.classList.add("popupTriggerArea"),E.append(T),E}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class j{#e=null;#t=null;#n=new Map;constructor({div:E,accessibilityManager:x,annotationCanvasMap:T,l10n:F,page:V,viewport:$}){this.div=E,this.#e=x,this.#t=T,this.l10n=F,this.page=V,this.viewport=$,this.zIndex=0,this.l10n||=u.NullL10n}#i(E,x){let T=E.firstChild||E;T.id=`${i.AnnotationPrefix}${x}`,this.div.append(E),this.#e?.moveElementInDOM(this.div,E,T,!1)}render(E){return oe(this,null,function*(){let{annotations:x}=E,T=this.div;(0,r.setLayerDimensions)(T,this.viewport);let F=new Map,V={data:null,layer:T,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new r.DOMSVGFactory,annotationStorage:E.annotationStorage||new s.AnnotationStorage,enableScripting:E.enableScripting===!0,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,parent:this,elements:null};for(let $ of x){if($.noHTML)continue;let q=$.annotationType===i.AnnotationType.POPUP;if(q){let W=F.get($.id);if(!W)continue;V.elements=W}else{let{width:W,height:K}=l($.rect);if(W<=0||K<=0)continue}V.data=$;let ne=g.create(V);if(!ne.isRenderable)continue;if(!q&&$.popupRef){let W=F.get($.popupRef);W?W.push(ne):F.set($.popupRef,[ne])}ne.annotationEditorType>0&&this.#n.set(ne.data.id,ne);let Z=ne.render();$.hidden&&(Z.style.visibility="hidden"),this.#i(Z,$.id)}this.#a(),yield this.l10n.translate(T)})}update({viewport:E}){let x=this.div;this.viewport=E,(0,r.setLayerDimensions)(x,{rotation:E.rotation}),this.#a(),x.hidden=!1}#a(){if(!this.#t)return;let E=this.div;for(let[x,T]of this.#t){let F=E.querySelector(`[data-annotation-id="${x}"]`);if(!F)continue;let{firstChild:V}=F;V?V.nodeName==="CANVAS"?V.replaceWith(T):V.before(T):F.append(T)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(E){return this.#n.get(E)}}e.AnnotationLayer=j},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function n(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function i(s){return Math.max(0,Math.min(255,255*s))}class r{static CMYK_G([a,u,f,p]){return["G",1-Math.min(1,.3*a+.59*f+.11*u+p)]}static G_CMYK([a]){return["CMYK",0,0,0,1-a]}static G_RGB([a]){return["RGB",a,a,a]}static G_rgb([a]){return a=i(a),[a,a,a]}static G_HTML([a]){let u=n(a);return`#${u}${u}${u}`}static RGB_G([a,u,f]){return["G",.3*a+.59*u+.11*f]}static RGB_rgb(a){return a.map(i)}static RGB_HTML(a){return`#${a.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([a,u,f,p]){return["RGB",1-Math.min(1,a+p),1-Math.min(1,f+p),1-Math.min(1,u+p)]}static CMYK_rgb([a,u,f,p]){return[i(1-Math.min(1,a+p)),i(1-Math.min(1,f+p)),i(1-Math.min(1,u+p))]}static CMYK_HTML(a){let u=this.CMYK_RGB(a).slice(1);return this.RGB_HTML(u)}static RGB_CMYK([a,u,f]){let p=1-a,c=1-u,o=1-f,l=Math.min(p,c,o);return["CMYK",p,c,o,l]}}e.ColorConverters=r},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=i;let n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function i(u,f){switch(u){case"find_match_count":u=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":u=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return n[u]||""}function r(u,f){return f?u.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(p,c)=>c in f?f[c]:"{{"+c+"}}"):u}let s={getLanguage(){return oe(this,null,function*(){return"en-us"})},getDirection(){return oe(this,null,function*(){return"ltr"})},get(c){return oe(this,arguments,function*(u,f=null,p=i(u,f)){return r(p,f)})},translate(u){return oe(this,null,function*(){})}};e.NullL10n=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var i=n(25);class r{static setupStorage(a,u,f,p,c){let o=p.getValue(u,{value:null});switch(f.name){case"textarea":if(o.value!==null&&(a.textContent=o.value),c==="print")break;a.addEventListener("input",l=>{p.setValue(u,{value:l.target.value})});break;case"input":if(f.attributes.type==="radio"||f.attributes.type==="checkbox"){if(o.value===f.attributes.xfaOn?a.setAttribute("checked",!0):o.value===f.attributes.xfaOff&&a.removeAttribute("checked"),c==="print")break;a.addEventListener("change",l=>{p.setValue(u,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&a.setAttribute("value",o.value),c==="print")break;a.addEventListener("input",l=>{p.setValue(u,{value:l.target.value})})}break;case"select":if(o.value!==null){a.setAttribute("value",o.value);for(let l of f.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}a.addEventListener("input",l=>{let g=l.target.options,h=g.selectedIndex===-1?"":g[g.selectedIndex].value;p.setValue(u,{value:h})});break}}static setAttributes({html:a,element:u,storage:f=null,intent:p,linkService:c}){let{attributes:o}=u,l=a instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${p}`);for(let[g,h]of Object.entries(o))if(h!=null)switch(g){case"class":h.length&&a.setAttribute(g,h.join(" "));break;case"dataId":break;case"id":a.setAttribute("data-element-id",h);break;case"style":Object.assign(a.style,h);break;case"textContent":a.textContent=h;break;default:(!l||g!=="href"&&g!=="newWindow")&&a.setAttribute(g,h)}l&&c.addLinkAttributes(a,o.href,o.newWindow),f&&o.dataId&&this.setupStorage(a,o.dataId,u,f)}static render(a){let u=a.annotationStorage,f=a.linkService,p=a.xfaHtml,c=a.intent||"display",o=document.createElement(p.name);p.attributes&&this.setAttributes({html:o,element:p,intent:c,linkService:f});let l=[[p,-1,o]],g=a.div;if(g.append(o),a.viewport){let d=`matrix(${a.viewport.transform.join(",")})`;g.style.transform=d}c!=="richText"&&g.setAttribute("class","xfaLayer xfaFont");let h=[];for(;l.length>0;){let[d,v,y]=l.at(-1);if(v+1===d.children.length){l.pop();continue}let D=d.children[++l.at(-1)[1]];if(D===null)continue;let{name:m}=D;if(m==="#text"){let w=document.createTextNode(D.value);h.push(w),y.append(w);continue}let _=D?.attributes?.xmlns?document.createElementNS(D.attributes.xmlns,m):document.createElement(m);if(y.append(_),D.attributes&&this.setAttributes({html:_,element:D,storage:u,intent:c,linkService:f}),D.children&&D.children.length>0)l.push([D,-1,_]);else if(D.value){let w=document.createTextNode(D.value);i.XfaText.shouldBuildText(m)&&h.push(w),_.append(w)}}for(let d of g.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:h}}static update(a){let u=`matrix(${a.viewport.transform.join(",")})`;a.div.style.transform=u,a.div.hidden=!1}}e.XfaLayer=r},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var i=n(1),r=n(4),s=n(29),a=n(6),u=n(5);let f=(()=>{class p extends r.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#o=new Path2D;#l=!1;#c=!1;#r=!1;#u=null;#d=0;#f=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(o){super(Ke(Ve({},o),{name:"inkEditor"})),this.color=o.color||null,this.thickness=o.thickness||null,this.opacity=o.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(o){r.AnnotationEditor.initialize(o,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(o,l){switch(o){case i.AnnotationEditorParamsType.INK_THICKNESS:p._defaultThickness=l;break;case i.AnnotationEditorParamsType.INK_COLOR:p._defaultColor=l;break;case i.AnnotationEditorParamsType.INK_OPACITY:p._defaultOpacity=l/100;break}}updateParams(o,l){switch(o){case i.AnnotationEditorParamsType.INK_THICKNESS:this.#g(l);break;case i.AnnotationEditorParamsType.INK_COLOR:this.#m(l);break;case i.AnnotationEditorParamsType.INK_OPACITY:this.#y(l);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,p._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,p._defaultColor||r.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(p._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||p._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||p._defaultColor||r.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??p._defaultOpacity))]]}#g(o){let l=this.thickness;this.addCommands({cmd:()=>{this.thickness=o,this.#P()},undo:()=>{this.thickness=l,this.#P()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(o){let l=this.color;this.addCommands({cmd:()=>{this.color=o,this.#_()},undo:()=>{this.color=l,this.#_()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#y(o){o/=100;let l=this.opacity;this.addCommands({cmd:()=>{this.opacity=o,this.#_()},undo:()=>{this.opacity=l,this.#_()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#M(),this.#x()),this.isAttachedToDOM||(this.parent.add(this),this.#A()),this.#P()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#u.disconnect(),this.#u=null,super.remove())}setParent(o){!this.parent&&o?this._uiManager.removeShouldRescale(this):this.parent&&o===null&&this._uiManager.addShouldRescale(this),super.setParent(o)}onScaleChanging(){let[o,l]=this.parentDimensions,g=this.width*o,h=this.height*l;this.setDimensions(g,h)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#h(){let{parentRotation:o,parentDimensions:[l,g]}=this;switch(o){case 90:return[0,g,g,l];case 180:return[l,g,l,g];case 270:return[l,0,g,l];default:return[0,0,l,g]}}#v(){let{ctx:o,color:l,opacity:g,thickness:h,parentScale:d,scaleFactor:v}=this;o.lineWidth=h*d/v,o.lineCap="round",o.lineJoin="round",o.miterLimit=10,o.strokeStyle=`${l}${(0,u.opacityToHex)(g)}`}#C(o,l){this.canvas.addEventListener("contextmenu",a.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#r||(this.#r=!0,this.#A(),this.thickness||=p._defaultThickness,this.color||=p._defaultColor||r.AnnotationEditor._defaultLineColor,this.opacity??=p._defaultOpacity),this.currentPath.push([o,l]),this.#c=!1,this.#v(),this.#p=()=>{this.#O(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#b(o,l){let[g,h]=this.currentPath.at(-1);if(this.currentPath.length>1&&o===g&&l===h)return;let d=this.currentPath,v=this.#o;if(d.push([o,l]),this.#c=!0,d.length<=2){v.moveTo(...d[0]),v.lineTo(o,l);return}d.length===3&&(this.#o=v=new Path2D,v.moveTo(...d[0])),this.#R(v,...d.at(-3),...d.at(-2),o,l)}#E(){if(this.currentPath.length===0)return;let o=this.currentPath.at(-1);this.#o.lineTo(...o)}#w(o,l){this.#p=null,o=Math.min(Math.max(o,0),this.canvas.width),l=Math.min(Math.max(l,0),this.canvas.height),this.#b(o,l),this.#E();let g;if(this.currentPath.length!==1)g=this.#N();else{let D=[o,l];g=[[D,D.slice(),D.slice(),D]]}let h=this.#o,d=this.currentPath;this.currentPath=[],this.#o=new Path2D;let v=()=>{this.allRawPaths.push(d),this.paths.push(g),this.bezierPath2D.push(h),this.rebuild()},y=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#M(),this.#x()),this.#P())};this.addCommands({cmd:v,undo:y,mustExec:!0})}#O(){if(!this.#c)return;this.#c=!1;let o=Math.ceil(this.thickness*this.parentScale),l=this.currentPath.slice(-3),g=l.map(_=>_[0]),h=l.map(_=>_[1]),d=Math.min(...g)-o,v=Math.max(...g)+o,y=Math.min(...h)-o,D=Math.max(...h)+o,{ctx:m}=this;m.save(),m.clearRect(0,0,this.canvas.width,this.canvas.height);for(let _ of this.bezierPath2D)m.stroke(_);m.stroke(this.#o),m.restore()}#R(o,l,g,h,d,v,y){let D=(l+h)/2,m=(g+d)/2,_=(h+v)/2,w=(d+y)/2;o.bezierCurveTo(D+2*(h-D)/3,m+2*(d-m)/3,_+2*(h-_)/3,w+2*(d-w)/3,_,w)}#N(){let o=this.currentPath;if(o.length<=2)return[[o[0],o[0],o.at(-1),o.at(-1)]];let l=[],g,[h,d]=o[0];for(g=1;g<o.length-2;g++){let[S,I]=o[g],[R,O]=o[g+1],H=(S+R)/2,z=(I+O)/2,G=[h+2*(S-h)/3,d+2*(I-d)/3],Q=[H+2*(S-H)/3,z+2*(I-z)/3];l.push([[h,d],G,Q,[H,z]]),[h,d]=[H,z]}let[v,y]=o[g],[D,m]=o[g+1],_=[h+2*(v-h)/3,d+2*(y-d)/3],w=[D+2*(v-D)/3,m+2*(y-m)/3];return l.push([[h,d],_,w,[D,m]]),l}#_(){if(this.isEmpty()){this.#T();return}this.#v();let{canvas:o,ctx:l}=this;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,o.width,o.height),this.#T();for(let g of this.bezierPath2D)l.stroke(g)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#P(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(o){this._focusEventsAllowed&&(super.focusin(o),this.enableEditMode())}canvasPointerdown(o){o.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),o.preventDefault(),o.type!=="mouse"&&this.div.focus(),this.#C(o.offsetX,o.offsetY))}canvasPointermove(o){o.preventDefault(),this.#b(o.offsetX,o.offsetY)}canvasPointerup(o){o.preventDefault(),this.#I(o)}canvasPointerleave(o){this.#I(o)}#I(o){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",a.noContextMenu)},10),this.#w(o.offsetX,o.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#M(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",r.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(o=>this.canvas?.setAttribute("aria-label",o)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#x(){this.#u=new ResizeObserver(o=>{let l=o[0].contentRect;l.width&&l.height&&this.setDimensions(l.width,l.height)}),this.#u.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let o,l;this.width&&(o=this.x,l=this.y),super.render(),r.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(y=>this.div?.setAttribute("aria-label",y));let[g,h,d,v]=this.#h();if(this.setAt(g,h,0,0),this.setDims(d,v),this.#M(),this.width){let[y,D]=this.parentDimensions;this.setAspectRatio(this.width*y,this.height*D),this.setAt(o*y,l*D,this.width*y,this.height*D),this.#r=!0,this.#A(),this.setDims(this.width*y,this.height*D),this.#_(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#x(),this.div}#A(){if(!this.#r)return;let[o,l]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*o),this.canvas.height=Math.ceil(this.height*l),this.#T()}setDimensions(o,l){let g=Math.round(o),h=Math.round(l);if(this.#d===g&&this.#f===h)return;this.#d=g,this.#f=h,this.canvas.style.visibility="hidden";let[d,v]=this.parentDimensions;this.width=o/d,this.height=l/v,this.fixAndSetPosition(),this.#l&&this.#S(o,l),this.#A(),this.#_(),this.canvas.style.visibility="visible",this.fixDims()}#S(o,l){let g=this.#k(),h=(o-g)/this.#t,d=(l-g)/this.#e;this.scaleFactor=Math.min(h,d)}#T(){let o=this.#k()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+o,this.translationY*this.scaleFactor+o)}static#L(o){let l=new Path2D;for(let g=0,h=o.length;g<h;g++){let[d,v,y,D]=o[g];g===0&&l.moveTo(...d),l.bezierCurveTo(v[0],v[1],y[0],y[1],D[0],D[1])}return l}static#B(o,l,g){let[h,d,v,y]=l;switch(g){case 0:for(let D=0,m=o.length;D<m;D+=2)o[D]+=h,o[D+1]=y-o[D+1];break;case 90:for(let D=0,m=o.length;D<m;D+=2){let _=o[D];o[D]=o[D+1]+h,o[D+1]=_+d}break;case 180:for(let D=0,m=o.length;D<m;D+=2)o[D]=v-o[D],o[D+1]+=d;break;case 270:for(let D=0,m=o.length;D<m;D+=2){let _=o[D];o[D]=v-o[D+1],o[D+1]=y-_}break;default:throw new Error("Invalid rotation")}return o}static#V(o,l,g){let[h,d,v,y]=l;switch(g){case 0:for(let D=0,m=o.length;D<m;D+=2)o[D]-=h,o[D+1]=y-o[D+1];break;case 90:for(let D=0,m=o.length;D<m;D+=2){let _=o[D];o[D]=o[D+1]-d,o[D+1]=_-h}break;case 180:for(let D=0,m=o.length;D<m;D+=2)o[D]=v-o[D],o[D+1]-=d;break;case 270:for(let D=0,m=o.length;D<m;D+=2){let _=o[D];o[D]=y-o[D+1],o[D+1]=v-_}break;default:throw new Error("Invalid rotation")}return o}#j(o,l,g,h){let d=[],v=this.thickness/2,y=o*l+v,D=o*g+v;for(let m of this.paths){let _=[],w=[];for(let S=0,I=m.length;S<I;S++){let[R,O,H,z]=m[S],G=o*R[0]+y,Q=o*R[1]+D,X=o*O[0]+y,B=o*O[1]+D,U=o*H[0]+y,P=o*H[1]+D,b=o*z[0]+y,A=o*z[1]+D;S===0&&(_.push(G,Q),w.push(G,Q)),_.push(X,B,U,P,b,A),w.push(X,B),S===I-1&&w.push(b,A)}d.push({bezier:p.#B(_,h,this.rotation),points:p.#B(w,h,this.rotation)})}return d}#F(){let o=1/0,l=-1/0,g=1/0,h=-1/0;for(let d of this.paths)for(let[v,y,D,m]of d){let _=i.Util.bezierBoundingBox(...v,...y,...D,...m);o=Math.min(o,_[0]),g=Math.min(g,_[1]),l=Math.max(l,_[2]),h=Math.max(h,_[3])}return[o,g,l,h]}#k(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#P(o=!1){if(this.isEmpty())return;if(!this.#l){this.#_();return}let l=this.#F(),g=this.#k();this.#t=Math.max(r.AnnotationEditor.MIN_SIZE,l[2]-l[0]),this.#e=Math.max(r.AnnotationEditor.MIN_SIZE,l[3]-l[1]);let h=Math.ceil(g+this.#t*this.scaleFactor),d=Math.ceil(g+this.#e*this.scaleFactor),[v,y]=this.parentDimensions;this.width=h/v,this.height=d/y,this.setAspectRatio(h,d);let D=this.translationX,m=this.translationY;this.translationX=-l[0],this.translationY=-l[1],this.#A(),this.#_(),this.#d=h,this.#f=d,this.setDims(h,d);let _=o?g/this.scaleFactor/2:0;this.translate(D-this.translationX-_,m-this.translationY-_)}static deserialize(o,l,g){if(o instanceof s.InkAnnotationElement)return null;let h=super.deserialize(o,l,g);h.thickness=o.thickness,h.color=i.Util.makeHexColor(...o.color),h.opacity=o.opacity;let[d,v]=h.pageDimensions,y=h.width*d,D=h.height*v,m=h.parentScale,_=o.thickness/2;h.#l=!0,h.#d=Math.round(y),h.#f=Math.round(D);let{paths:w,rect:S,rotation:I}=o;for(let{bezier:O}of w){O=p.#V(O,S,I);let H=[];h.paths.push(H);let z=m*(O[0]-_),G=m*(O[1]-_);for(let X=2,B=O.length;X<B;X+=6){let U=m*(O[X]-_),P=m*(O[X+1]-_),b=m*(O[X+2]-_),A=m*(O[X+3]-_),C=m*(O[X+4]-_),M=m*(O[X+5]-_);H.push([[z,G],[U,P],[b,A],[C,M]]),z=C,G=M}let Q=this.#L(H);h.bezierPath2D.push(Q)}let R=h.#F();return h.#t=Math.max(r.AnnotationEditor.MIN_SIZE,R[2]-R[0]),h.#e=Math.max(r.AnnotationEditor.MIN_SIZE,R[3]-R[1]),h.#S(y,D),h}serialize(){if(this.isEmpty())return null;let o=this.getRect(0,0),l=r.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:l,thickness:this.thickness,opacity:this.opacity,paths:this.#j(this.scaleFactor/this.parentScale,this.translationX,this.translationY,o),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return p})();e.InkEditor=f},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var i=n(1),r=n(4),s=n(6),a=n(29);let u=(()=>{class f extends r.AnnotationEditor{#e=null;#t=null;#n=null;#i=null;#a=null;#s=null;#o=null;#l=null;#c=!1;#r=!1;static _type="stamp";constructor(c){super(Ke(Ve({},c),{name:"stampEditor"})),this.#i=c.bitmapUrl,this.#a=c.bitmapFile}static initialize(c){r.AnnotationEditor.initialize(c)}static get supportedTypes(){let c=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",c.map(o=>`image/${o}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(c){return this.supportedTypes.includes(c)}static paste(c,o){o.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:c.getAsFile()})}#u(c,o=!1){if(!c){this.remove();return}this.#e=c.bitmap,o||(this.#t=c.id,this.#c=c.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#f(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(o=>this.#u(o,!0)).finally(()=>this.#d());return}if(this.#i){let o=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(o).then(l=>this.#u(l)).finally(()=>this.#d());return}if(this.#a){let o=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(o).then(l=>this.#u(l)).finally(()=>this.#d());return}let c=document.createElement("input");c.type="file",c.accept=f.supportedTypesStr,this.#n=new Promise(o=>{c.addEventListener("change",()=>oe(this,null,function*(){if(!c.files||c.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let l=yield this._uiManager.imageManager.getFromFile(c.files[0]);this.#u(l)}o()})),c.addEventListener("cancel",()=>{this.remove(),o()})}).finally(()=>this.#d()),c.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#o?.disconnect(),this.#o=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#f();return}super.rebuild(),this.div!==null&&(this.#t&&this.#f(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let c,o;if(this.width&&(c=this.x,o=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#f(),this.width){let[l,g]=this.parentDimensions;this.setAt(c*l,o*g,this.width*l,this.height*g)}return this.div}#p(){let{div:c}=this,{width:o,height:l}=this.#e,[g,h]=this.pageDimensions,d=.75;if(this.width)o=this.width*g,l=this.height*h;else if(o>d*g||l>d*h){let m=Math.min(d*g/o,d*h/l);o*=m,l*=m}let[v,y]=this.parentDimensions;this.setDims(o*v/g,l*y/h),this._uiManager.enableWaiting(!1);let D=this.#s=document.createElement("canvas");c.append(D),c.hidden=!1,this.#y(o,l),this.#v(),this.#r||(this.parent.addUndoableEditor(this),this.#r=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#g(c,o){let[l,g]=this.parentDimensions;this.width=c/l,this.height=o/g,this.setDims(c,o),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);let h=200;this.#l=setTimeout(()=>{this.#l=null,this.#y(c,o)},h)}#m(c,o){let{width:l,height:g}=this.#e,h=l,d=g,v=this.#e;for(;h>2*c||d>2*o;){let y=h,D=d;h>2*c&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2)),d>2*o&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));let m=new OffscreenCanvas(h,d);m.getContext("2d").drawImage(v,0,0,y,D,0,0,h,d),v=m.transferToImageBitmap()}return v}#y(c,o){c=Math.ceil(c),o=Math.ceil(o);let l=this.#s;if(!l||l.width===c&&l.height===o)return;l.width=c,l.height=o;let g=this.#c?this.#e:this.#m(c,o),h=l.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(g,0,0,g.width,g.height,0,0,c,o)}#h(c){if(c){if(this.#c){let g=this._uiManager.imageManager.getSvgUrl(this.#t);if(g)return g}let o=document.createElement("canvas");return{width:o.width,height:o.height}=this.#e,o.getContext("2d").drawImage(this.#e,0,0),o.toDataURL()}if(this.#c){let[o,l]=this.pageDimensions,g=Math.round(this.width*o*s.PixelsPerInch.PDF_TO_CSS_UNITS),h=Math.round(this.height*l*s.PixelsPerInch.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(g,h);return d.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,g,h),d.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#o=new ResizeObserver(c=>{let o=c[0].contentRect;o.width&&o.height&&this.#g(o.width,o.height)}),this.#o.observe(this.div)}static deserialize(c,o,l){if(c instanceof a.StampAnnotationElement)return null;let g=super.deserialize(c,o,l),{rect:h,bitmapUrl:d,bitmapId:v,isSvg:y,accessibilityData:D}=c;v&&l.imageManager.isValidId(v)?g.#t=v:g.#i=d,g.#c=y;let[m,_]=g.pageDimensions;return g.width=(h[2]-h[0])/m,g.height=(h[3]-h[1])/_,D&&(g.altTextData=D),g}serialize(c=!1,o=null){if(this.isEmpty())return null;let l={annotationType:i.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(c)return l.bitmapUrl=this.#h(!0),l.accessibilityData=this.altTextData,l;let{decorative:g,altText:h}=this.altTextData;if(!g&&h&&(l.accessibilityData={type:"Figure",alt:h}),o===null)return l;o.stamps||=new Map;let d=this.#c?(l.rect[2]-l.rect[0])*(l.rect[3]-l.rect[1]):null;if(!o.stamps.has(this.#t))o.stamps.set(this.#t,{area:d,serialized:l}),l.bitmap=this.#h(!1);else if(this.#c){let v=o.stamps.get(this.#t);d>v.area&&(v.area=d,v.serialized.bitmap.close(),v.serialized.bitmap=this.#h(!1))}return l}}return f})();e.StampEditor=u}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return s.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return a.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return u.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return f.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return p.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return r.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return r.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),r=__w_pdfjs_require__(26),s=__w_pdfjs_require__(27),a=__w_pdfjs_require__(5),u=__w_pdfjs_require__(29),f=__w_pdfjs_require__(14),p=__w_pdfjs_require__(32);let c="3.11.174",o="ce8716743"})(),__webpack_exports__})())});var fh=ft((Or,Da)=>{"use strict";(function(e,n){typeof Or=="object"&&typeof Da=="object"?Da.exports=e.pdfjsViewer=n():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],()=>e.pdfjsViewer=n()):typeof Or=="object"?Or["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=n():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=n()})(globalThis,()=>(()=>{"use strict";var t=[,(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var u=a(2),f=a(3),p=a(4);let c={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=c;let o=250,l=-50,g=-400,h={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),v,y=new RegExp("\\p{M}+","gu"),D=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),m=new RegExp("([^\\p{M}])\\p{M}*$","u"),_=new RegExp("^\\p{M}*([^\\p{M}])","u"),w=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,S=new Map,I="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",R=new Map,O=null,H=null;function z(X){let B=[],U;for(;(U=w.exec(X))!==null;){let{index:x}=U;for(let T of U[0]){let F=S.get(T);F||(F=T.normalize("NFD").length,S.set(T,F)),B.push([F,x++])}}let P;if(B.length===0&&O)P=O;else if(B.length>0&&H)P=H;else{let x=Object.keys(h).join(""),T=(0,f.getNormalizeWithNFKC)(),$=`([${x}])|([${T}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;B.length===0?P=O=new RegExp($+"|(\\u0000)","gum"):P=H=new RegExp($+`|(${I})`,"gum")}let b=[];for(;(U=y.exec(X))!==null;)b.push([U[0].length,U.index]);let A=X.normalize("NFD"),C=[[0,0]],M=0,k=0,N=0,j=0,L=0,E=!1;return A=A.replace(P,(x,T,F,V,$,q,ne,Z,W,K)=>{if(K-=j,T){let Y=h[T],J=Y.length;for(let ie=1;ie<J;ie++)C.push([K-N+ie,N-ie]);return N-=J-1,Y}if(F){let Y=R.get(F);Y||(Y=F.normalize("NFKC"),R.set(F,Y));let J=Y.length;for(let ie=1;ie<J;ie++)C.push([K-N+ie,N-ie]);return N-=J-1,Y}if(V)return E=!0,K+L===b[M]?.[1]?++M:(C.push([K-1-N+1,N-1]),N-=1,j+=1),C.push([K-N+1,N]),j+=1,L+=1,V.charAt(0);if($){let Y=$.endsWith(`
`),J=Y?$.length-2:$.length;E=!0;let ie=J;K+L===b[M]?.[1]&&(ie-=b[M][0],++M);for(let se=1;se<=ie;se++)C.push([K-1-N+se,N-se]);return N-=ie,j+=ie,Y?(K+=J-1,C.push([K-N+1,1+N]),N+=1,j+=1,L+=1,$.slice(0,J)):$}if(q){let Y=q.length-2;return C.push([K-N+Y,1+N]),N+=1,j+=1,L+=1,q.slice(0,-2)}if(ne){let Y=ne.length-1;return C.push([K-N+Y,N]),j+=1,L+=1,ne.slice(0,-1)}if(Z)return C.push([K-N+1,N-1]),N-=1,j+=1,L+=1," ";if(K+L===B[k]?.[1]){let Y=B[k][0]-1;++k;for(let J=1;J<=Y;J++)C.push([K-(N-J),N-J]);N-=Y,j+=Y}return W}),C.push([A.length,N]),[A,C,E]}function G(X,B,U){if(!X)return[B,U];let P=B,b=B+U-1,A=(0,u.binarySearchFirstItem)(X,j=>j[0]>=P);X[A][0]>P&&--A;let C=(0,u.binarySearchFirstItem)(X,j=>j[0]>=b,A);X[C][0]>b&&--C;let M=P+X[A][1],N=b+X[C][1]+1-M;return[M,N]}class Q{#e=null;#t=!0;#n=0;constructor({linkService:B,eventBus:U,updateMatchesCountOnProgress:P=!0}){this._linkService=B,this._eventBus=U,this.#t=P,this.onIsPageVisible=null,this.#a(),U._on("find",this.#i.bind(this)),U._on("findbarclose",this.#C.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(B){this._pdfDocument&&this.#a(),B&&(this._pdfDocument=B,this._firstPageCapability.resolve())}#i(B){if(!B)return;B.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof B.query=="string"&&(B.query=B.query.match(/\S+/g)));let U=this._pdfDocument,{type:P}=B;(this.#e===null||this.#o(B))&&(this._dirtyMatch=!0),this.#e=B,P!=="highlightallchange"&&this.#w(c.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||U&&this._pdfDocument!==U)return;this.#d();let b=!this._highlightMatches,A=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),P?this._dirtyMatch?this.#g():P==="again"?(this.#g(),b&&this.#e.highlightAll&&this.#p()):P==="highlightallchange"?(A?this.#g():this._highlightMatches=!0,this.#p()):this.#g():this._findTimeout=setTimeout(()=>{this.#g(),this._findTimeout=null},o)})}scrollMatchIntoView({element:B=null,selectedLeft:U=0,pageIndex:P=-1,matchIndex:b=-1}){if(!this._scrollMatches||!B)return;if(b===-1||b!==this._selected.matchIdx)return;if(P===-1||P!==this._selected.pageIdx)return;this._scrollMatches=!1;let A={top:l,left:U+g};(0,u.scrollIntoView)(B,A,!0)}#a(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new p.PromiseCapability}get#s(){let{query:B}=this.#e;return typeof B=="string"?(B!==this._rawQuery&&(this._rawQuery=B,[this._normalizedQuery]=z(B)),this._normalizedQuery):(B||[]).filter(U=>!!U).map(U=>z(U)[0])}#o(B){let U=B.query,P=this.#e.query,b=typeof U;if(b!==typeof P)return!0;if(b==="string"){if(U!==P)return!0}else if(JSON.stringify(U)!==JSON.stringify(P))return!0;switch(B.type){case"again":let C=this._selected.pageIdx+1,M=this._linkService;return C>=1&&C<=M.pagesCount&&C!==M.page&&!(this.onIsPageVisible?.(C)??!0);case"highlightallchange":return!1}return!0}#l(B,U,P){let b=B.slice(0,U).match(m);if(b){let A=B.charCodeAt(U),C=b[1].charCodeAt(0);if((0,f.getCharacterType)(A)===(0,f.getCharacterType)(C))return!1}if(b=B.slice(U+P).match(_),b){let A=B.charCodeAt(U+P-1),C=b[1].charCodeAt(0);if((0,f.getCharacterType)(A)===(0,f.getCharacterType)(C))return!1}return!0}#c(B,U,P,b){let A=this._pageMatches[P]=[],C=this._pageMatchesLength[P]=[];if(!B)return;let M=this._pageDiffs[P],k;for(;(k=B.exec(b))!==null;){if(U&&!this.#l(b,k.index,k[0].length))continue;let[N,j]=G(M,k.index,k[0].length);j&&(A.push(N),C.push(j))}}#r(B,U){let{matchDiacritics:P}=this.#e,b=!1;B=B.replaceAll(D,(C,M,k,N,j,L)=>M?`[ ]*\\${M}[ ]*`:k?`[ ]*${k}[ ]*`:N?"[ ]+":P?j||L:j?d.has(j.charCodeAt(0))?j:"":U?(b=!0,`${L}\\p{M}*`):L);let A="[ ]*";return B.endsWith(A)&&(B=B.slice(0,B.length-A.length)),P&&U&&(v||=String.fromCharCode(...d),b=!0,B=`${B}(?=[${v}]|[^\\p{M}]|$)`),[b,B]}#u(B){let U=this.#s;if(U.length===0)return;let{caseSensitive:P,entireWord:b}=this.#e,A=this._pageContents[B],C=this._hasDiacritics[B],M=!1;typeof U=="string"?[M,U]=this.#r(U,C):U=U.sort().reverse().map(j=>{let[L,E]=this.#r(j,C);return M||=L,`(${E})`}).join("|");let k=`g${M?"u":""}${P?"":"i"}`;U=U?new RegExp(U,k):null,this.#c(U,b,B,A),this.#e.highlightAll&&this.#f(B),this._resumePageIdx===B&&(this._resumePageIdx=null,this.#y());let N=this._pageMatches[B].length;this._matchesCountTotal+=N,this.#t?N>0&&this.#E():++this.#n===this._linkService.pagesCount&&this.#E()}#d(){if(this._extractTextPromises.length>0)return;let B=Promise.resolve(),U={disableNormalization:!0};for(let P=0,b=this._linkService.pagesCount;P<b;P++){let A=new p.PromiseCapability;this._extractTextPromises[P]=A.promise,B=B.then(()=>this._pdfDocument.getPage(P+1).then(C=>C.getTextContent(U)).then(C=>{let M=[];for(let k of C.items)M.push(k.str),k.hasEOL&&M.push(`
`);[this._pageContents[P],this._pageDiffs[P],this._hasDiacritics[P]]=z(M.join("")),A.resolve()},C=>{console.error(`Unable to get text content for page ${P+1}`,C),this._pageContents[P]="",this._pageDiffs[P]=null,this._hasDiacritics[P]=!1,A.resolve()}))}}#f(B){this._scrollMatches&&this._selected.pageIdx===B&&(this._linkService.page=B+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:B})}#p(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#g(){let B=this.#e.findPrevious,U=this._linkService.page-1,P=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=U,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#p();for(let C=0;C<P;C++)this._pendingFindMatches.has(C)||(this._pendingFindMatches.add(C),this._extractTextPromises[C].then(()=>{this._pendingFindMatches.delete(C),this.#u(C)}))}if(this.#s.length===0){this.#w(c.FOUND);return}if(this._resumePageIdx)return;let A=this._offset;if(this._pagesToSearch=P,A.matchIdx!==null){let C=this._pageMatches[A.pageIdx].length;if(!B&&A.matchIdx+1<C||B&&A.matchIdx>0){A.matchIdx=B?A.matchIdx-1:A.matchIdx+1,this.#v(!0);return}this.#h(B)}this.#y()}#m(B){let U=this._offset,P=B.length,b=this.#e.findPrevious;return P?(U.matchIdx=b?P-1:0,this.#v(!0),!0):(this.#h(b),U.wrapped&&(U.matchIdx=null,this._pagesToSearch<0)?(this.#v(!1),!0):!1)}#y(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let B=null;do{let U=this._offset.pageIdx;if(B=this._pageMatches[U],!B){this._resumePageIdx=U;break}}while(!this.#m(B))}#h(B){let U=this._offset,P=this._linkService.pagesCount;U.pageIdx=B?U.pageIdx-1:U.pageIdx+1,U.matchIdx=null,this._pagesToSearch--,(U.pageIdx>=P||U.pageIdx<0)&&(U.pageIdx=B?P-1:0,U.wrapped=!0)}#v(B=!1){let U=c.NOT_FOUND,P=this._offset.wrapped;if(this._offset.wrapped=!1,B){let b=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,U=P?c.WRAPPED:c.FOUND,b!==-1&&b!==this._selected.pageIdx&&this.#f(b)}this.#w(U,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#f(this._selected.pageIdx))}#C(B){let U=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||U&&this._pdfDocument!==U||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#w(c.FOUND),this._highlightMatches=!1,this.#p())})}#b(){let{pageIdx:B,matchIdx:U}=this._selected,P=0,b=this._matchesCountTotal;if(U!==-1){for(let A=0;A<B;A++)P+=this._pageMatches[A]?.length||0;P+=U+1}return(P<1||P>b)&&(P=b=0),{current:P,total:b}}#E(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#b()})}#w(B,U=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||B===c.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:B,previous:U,matchesCount:this.#b(),rawQuery:this.#e?.query??null})}}s.PDFFindController=Q},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.CursorTool=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=V,s.apiPageModeToSidebarView=$,s.approximateFraction=X,s.backtrackBeforeAllVisibleElements=P,s.binarySearchFirstItem=Q,s.docStyle=void 0,s.getActiveOrFocusedElement=F,s.getPageSizeInches=U,s.getVisibleElements=b,s.isPortraitOrientation=j,s.isValidRotation=M,s.isValidScrollMode=k,s.isValidSpreadMode=N,s.normalizeWheelEventDelta=C,s.normalizeWheelEventDirection=A,s.parseQueryString=H,s.removeNullCharacters=G,s.roundToDivide=B,s.scrollIntoView=R,s.toggleCheckedBtn=q,s.toggleExpandedBtn=ne,s.watchScroll=O;let a="auto";s.DEFAULT_SCALE_VALUE=a;let u=1;s.DEFAULT_SCALE=u;let f=1.1;s.DEFAULT_SCALE_DELTA=f;let p=.1;s.MIN_SCALE=p;let c=10;s.MAX_SCALE=c;let o=0;s.UNKNOWN_SCALE=o;let l=1.25;s.MAX_AUTO_SCALE=l;let g=40;s.SCROLLBAR_PADDING=g;let h=5;s.VERTICAL_PADDING=h;let d={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=d;let v={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=v;let y={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=y;let D={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};s.TextLayerMode=D;let m={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=m;let _={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=_;let w={SELECT:0,HAND:1,ZOOM:2};s.CursorTool=w;let S=/\bprint\s*\(/;s.AutoPrintRegExp=S;class I{constructor(){let W=window.devicePixelRatio||1;this.sx=W,this.sy=W}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=I;function R(Z,W,K=!1){let Y=Z.offsetParent;if(!Y){console.error("offsetParent is not set -- cannot scroll");return}let J=Z.offsetTop+Z.clientTop,ie=Z.offsetLeft+Z.clientLeft;for(;Y.clientHeight===Y.scrollHeight&&Y.clientWidth===Y.scrollWidth||K&&(Y.classList.contains("markedContent")||getComputedStyle(Y).overflow==="hidden");)if(J+=Y.offsetTop,ie+=Y.offsetLeft,Y=Y.offsetParent,!Y)return;W&&(W.top!==void 0&&(J+=W.top),W.left!==void 0&&(ie+=W.left,Y.scrollLeft=ie)),Y.scrollTop=J}function O(Z,W){let K=function(ie){J||(J=window.requestAnimationFrame(function(){J=null;let ae=Z.scrollLeft,ue=Y.lastX;ae!==ue&&(Y.right=ae>ue),Y.lastX=ae;let de=Z.scrollTop,he=Y.lastY;de!==he&&(Y.down=de>he),Y.lastY=de,W(Y)}))},Y={right:!0,down:!0,lastX:Z.scrollLeft,lastY:Z.scrollTop,_eventHandler:K},J=null;return Z.addEventListener("scroll",K,!0),Y}function H(Z){let W=new Map;for(let[K,Y]of new URLSearchParams(Z))W.set(K.toLowerCase(),Y);return W}let z=/[\x01-\x1F]/g;function G(Z,W=!1){return typeof Z!="string"?(console.error("The argument must be a string."),Z):(W&&(Z=Z.replaceAll(z," ")),Z.replaceAll("\0",""))}function Q(Z,W,K=0){let Y=K,J=Z.length-1;if(J<0||!W(Z[J]))return Z.length;if(W(Z[Y]))return Y;for(;Y<J;){let ie=Y+J>>1,se=Z[ie];W(se)?J=ie:Y=ie+1}return Y}function X(Z){if(Math.floor(Z)===Z)return[Z,1];let W=1/Z,K=8;if(W>K)return[1,K];if(Math.floor(W)===W)return[1,W];let Y=Z>1?W:Z,J=0,ie=1,se=1,ae=1;for(;;){let de=J+se,he=ie+ae;if(he>K)break;Y<=de/he?(se=de,ae=he):(J=de,ie=he)}let ue;return Y-J/ie<se/ae-Y?ue=Y===Z?[J,ie]:[ie,J]:ue=Y===Z?[se,ae]:[ae,se],ue}function B(Z,W){let K=Z%W;return K===0?Z:Math.round(Z-K+W)}function U({view:Z,userUnit:W,rotate:K}){let[Y,J,ie,se]=Z,ae=K%180!==0,ue=(ie-Y)/72*W,de=(se-J)/72*W;return{width:ae?de:ue,height:ae?ue:de}}function P(Z,W,K){if(Z<2)return Z;let Y=W[Z].div,J=Y.offsetTop+Y.clientTop;J>=K&&(Y=W[Z-1].div,J=Y.offsetTop+Y.clientTop);for(let ie=Z-2;ie>=0&&(Y=W[ie].div,!(Y.offsetTop+Y.clientTop+Y.clientHeight<=J));--ie)Z=ie;return Z}function b({scrollEl:Z,views:W,sortByVisibility:K=!1,horizontal:Y=!1,rtl:J=!1}){let ie=Z.scrollTop,se=ie+Z.clientHeight,ae=Z.scrollLeft,ue=ae+Z.clientWidth;function de(tt){let Le=tt.div;return Le.offsetTop+Le.clientTop+Le.clientHeight>ie}function he(tt){let Le=tt.div,re=Le.offsetLeft+Le.clientLeft,te=re+Le.clientWidth;return J?re<ue:te>ae}let ye=[],We=new Set,Oe=W.length,et=Q(W,Y?he:de);et>0&&et<Oe&&!Y&&(et=P(et,W,ie));let Re=Y?ue:-1;for(let tt=et;tt<Oe;tt++){let Le=W[tt],re=Le.div,te=re.offsetLeft+re.clientLeft,ee=re.offsetTop+re.clientTop,ce=re.clientWidth,ve=re.clientHeight,Me=te+ce,Ie=ee+ve;if(Re===-1)Ie>=se&&(Re=Ie);else if((Y?te:ee)>Re)break;if(Ie<=ie||ee>=se||Me<=ae||te>=ue)continue;let Ft=Math.max(0,ie-ee)+Math.max(0,Ie-se),kt=Math.max(0,ae-te)+Math.max(0,Me-ue),At=(ve-Ft)/ve,Be=(ce-kt)/ce,Lt=At*Be*100|0;ye.push({id:Le.id,x:te,y:ee,view:Le,percent:Lt,widthPercent:Be*100|0}),We.add(Le.id)}let st=ye[0],kn=ye.at(-1);return K&&ye.sort(function(tt,Le){let re=tt.percent-Le.percent;return Math.abs(re)>.001?-re:tt.id-Le.id}),{first:st,last:kn,views:ye,ids:We}}function A(Z){let W=Math.hypot(Z.deltaX,Z.deltaY),K=Math.atan2(Z.deltaY,Z.deltaX);return-.25*Math.PI<K&&K<.75*Math.PI&&(W=-W),W}function C(Z){let W=Z.deltaMode,K=A(Z),Y=30,J=30;return W===WheelEvent.DOM_DELTA_PIXEL?K/=Y*J:W===WheelEvent.DOM_DELTA_LINE&&(K/=J),K}function M(Z){return Number.isInteger(Z)&&Z%90===0}function k(Z){return Number.isInteger(Z)&&Object.values(m).includes(Z)&&Z!==m.UNKNOWN}function N(Z){return Number.isInteger(Z)&&Object.values(_).includes(Z)&&Z!==_.UNKNOWN}function j(Z){return Z.width<=Z.height}let L=new Promise(function(Z){window.requestAnimationFrame(Z)});s.animationStarted=L;let E=document.documentElement.style;s.docStyle=E;function x(Z,W,K){return Math.min(Math.max(Z,W),K)}class T{#e=null;#t=null;#n=0;#i=null;#a=!0;constructor(W){this.#e=W.classList,this.#i=W.style}get percent(){return this.#n}set percent(W){if(this.#n=x(W,0,100),isNaN(W)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(W){if(!W)return;let Y=W.parentNode.offsetWidth-W.offsetWidth;Y>0&&this.#i.setProperty("--progressBar-end-offset",`${Y}px`)}setDisableAutoFetch(W=5e3){isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},W))}hide(){this.#a&&(this.#a=!1,this.#e.add("hidden"))}show(){this.#a||(this.#a=!0,this.#e.remove("hidden"))}}s.ProgressBar=T;function F(){let Z=document,W=Z.activeElement||Z.querySelector(":focus");for(;W?.shadowRoot;)Z=W.shadowRoot,W=Z.activeElement||Z.querySelector(":focus");return W}function V(Z){let W=m.VERTICAL,K=_.NONE;switch(Z){case"SinglePage":W=m.PAGE;break;case"OneColumn":break;case"TwoPageLeft":W=m.PAGE;case"TwoColumnLeft":K=_.ODD;break;case"TwoPageRight":W=m.PAGE;case"TwoColumnRight":K=_.EVEN;break}return{scrollMode:W,spreadMode:K}}function $(Z){switch(Z){case"UseNone":return y.NONE;case"UseThumbs":return y.THUMBS;case"UseOutlines":return y.OUTLINE;case"UseAttachments":return y.ATTACHMENTS;case"UseOC":return y.LAYERS}return y.NONE}function q(Z,W,K=null){Z.classList.toggle("toggled",W),Z.setAttribute("aria-checked",W),K?.classList.toggle("hidden",!W)}function ne(Z,W,K=null){Z.classList.toggle("toggled",W),Z.setAttribute("aria-expanded",W),K?.classList.toggle("hidden",!W)}},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=y,s.getNormalizeWithNFKC=m;let a={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=a;function u(_){return _<11904}function f(_){return(_&65408)===0}function p(_){return _>=97&&_<=122||_>=65&&_<=90}function c(_){return _>=48&&_<=57}function o(_){return _===32||_===9||_===13||_===10}function l(_){return _>=13312&&_<=40959||_>=63744&&_<=64255}function g(_){return _>=12448&&_<=12543}function h(_){return _>=12352&&_<=12447}function d(_){return _>=65376&&_<=65439}function v(_){return(_&65408)===3584}function y(_){return u(_)?f(_)?o(_)?a.SPACE:p(_)||c(_)||_===95?a.ALPHA_LETTER:a.PUNCT:v(_)?a.THAI_LETTER:_===160?a.SPACE:a.ALPHA_LETTER:l(_)?a.HAN_LETTER:g(_)?a.KATAKANA_LETTER:h(_)?a.HIRAGANA_LETTER:d(_)?a.HALFWIDTH_KATAKANA_LETTER:a.ALPHA_LETTER}let D;function m(){return D||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",D}},r=>{r.exports=globalThis.pdfjsLib},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var u=a(2);let f="noopener noreferrer nofollow",p={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=p;function c(g,{url:h,target:d,rel:v,enabled:y=!0}={}){if(!h||typeof h!="string")throw new Error('A valid "url" parameter must provided.');y?g.href=g.title=h:(g.href="",g.title=`Disabled: ${h}`,g.onclick=()=>!1);let D="";switch(d){case p.NONE:break;case p.SELF:D="_self";break;case p.BLANK:D="_blank";break;case p.PARENT:D="_parent";break;case p.TOP:D="_top";break}g.target=D,g.rel=typeof v=="string"?v:f}class o{#e=new Map;constructor({eventBus:h,externalLinkTarget:d=null,externalLinkRel:v=null,ignoreDestinationZoom:y=!1}={}){this.eventBus=h,this.externalLinkTarget=d,this.externalLinkRel=v,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=y,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(h,d=null){this.baseUrl=d,this.pdfDocument=h,this.#e.clear()}setViewer(h){this.pdfViewer=h}setHistory(h){this.pdfHistory=h}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(h){this.pdfViewer.currentPageNumber=h}get rotation(){return this.pdfViewer.pagesRotation}set rotation(h){this.pdfViewer.pagesRotation=h}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}#t(h,d=null,v){let y=v[0],D;if(typeof y=="object"&&y!==null){if(D=this._cachedPageNumber(y),!D){this.pdfDocument.getPageIndex(y).then(m=>{this.cachePageRef(m+1,y),this.#t(h,d,v)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${y}" is not a valid page reference, for dest="${h}".`)});return}}else if(Number.isInteger(y))D=y+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${y}" is not a valid destination reference, for dest="${h}".`);return}if(!D||D<1||D>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${D}" is not a valid page number, for dest="${h}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:d,explicitDest:v,pageNumber:D})),this.pdfViewer.scrollPageIntoView({pageNumber:D,destArray:v,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(h){return oe(this,null,function*(){if(!this.pdfDocument)return;let d,v;if(typeof h=="string"?(d=h,v=yield this.pdfDocument.getDestination(h)):(d=null,v=yield h),!Array.isArray(v)){console.error(`PDFLinkService.goToDestination: "${v}" is not a valid destination array, for dest="${h}".`);return}this.#t(h,d,v)})}goToPage(h){if(!this.pdfDocument)return;let d=typeof h=="string"&&this.pdfViewer.pageLabelToPageNumber(h)||h|0;if(!(Number.isInteger(d)&&d>0&&d<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${h}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(d)),this.pdfViewer.scrollPageIntoView({pageNumber:d})}addLinkAttributes(h,d,v=!1){c(h,{url:d,target:v?p.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(h){if(typeof h=="string"){if(h.length>0)return this.getAnchorUrl("#"+escape(h))}else if(Array.isArray(h)){let d=JSON.stringify(h);if(d.length>0)return this.getAnchorUrl("#"+escape(d))}return this.getAnchorUrl("")}getAnchorUrl(h){return this.baseUrl?this.baseUrl+h:h}setHash(h){if(!this.pdfDocument)return;let d,v;if(h.includes("=")){let y=(0,u.parseQueryString)(h);if(y.has("search")){let D=y.get("search").replaceAll('"',""),m=y.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:m?D:D.match(/\S+/g)})}if(y.has("page")&&(d=y.get("page")|0||1),y.has("zoom")){let D=y.get("zoom").split(","),m=D[0],_=parseFloat(m);m.includes("Fit")?m==="Fit"||m==="FitB"?v=[null,{name:m}]:m==="FitH"||m==="FitBH"||m==="FitV"||m==="FitBV"?v=[null,{name:m},D.length>1?D[1]|0:null]:m==="FitR"?D.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):v=[null,{name:m},D[1]|0,D[2]|0,D[3]|0,D[4]|0]:console.error(`PDFLinkService.setHash: "${m}" is not a valid zoom value.`):v=[null,{name:"XYZ"},D.length>1?D[1]|0:null,D.length>2?D[2]|0:null,_?_/100:m]}v?this.pdfViewer.scrollPageIntoView({pageNumber:d||this.page,destArray:v,allowNegativeOffset:!0}):d&&(this.page=d),y.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:y.get("pagemode")}),y.has("nameddest")&&this.goToDestination(y.get("nameddest"))}else{v=unescape(h);try{v=JSON.parse(v),Array.isArray(v)||(v=v.toString())}catch{}if(typeof v=="string"||o.#n(v)){this.goToDestination(v);return}console.error(`PDFLinkService.setHash: "${unescape(h)}" is not a valid destination.`)}}executeNamedAction(h){switch(h){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:h})}executeSetOCGState(h){return oe(this,null,function*(){let d=this.pdfDocument,v=yield this.pdfViewer.optionalContentConfigPromise;if(d!==this.pdfDocument)return;let y;for(let D of h.state){switch(D){case"ON":case"OFF":case"Toggle":y=D;continue}switch(y){case"ON":v.setVisibility(D,!0);break;case"OFF":v.setVisibility(D,!1);break;case"Toggle":let m=v.getGroup(D);m&&v.setVisibility(D,!m.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(v)})}cachePageRef(h,d){if(!d)return;let v=d.gen===0?`${d.num}R`:`${d.num}R${d.gen}`;this.#e.set(v,h)}_cachedPageNumber(h){if(!h)return null;let d=h.gen===0?`${h.num}R`:`${h.num}R${h.gen}`;return this.#e.get(d)||null}static#n(h){if(!Array.isArray(h))return!1;let d=h.length;if(d<2)return!1;let v=h[0];if(!(typeof v=="object"&&Number.isInteger(v.num)&&Number.isInteger(v.gen))&&!(Number.isInteger(v)&&v>=0))return!1;let y=h[1];if(!(typeof y=="object"&&typeof y.name=="string"))return!1;let D=!0;switch(y.name){case"XYZ":if(d!==5)return!1;break;case"Fit":case"FitB":return d===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(d!==3)return!1;break;case"FitR":if(d!==6)return!1;D=!1;break;default:return!1}for(let m=2;m<d;m++){let _=h[m];if(!(typeof _=="number"||D&&_===null))return!1}return!0}}s.PDFLinkService=o;class l{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(h){}get rotation(){return 0}set rotation(h){}get isInPresentationMode(){return!1}goToDestination(h){return oe(this,null,function*(){})}goToPage(h){}addLinkAttributes(h,d,v=!1){c(h,{url:d,enabled:this.externalLinkEnabled})}getDestinationHash(h){return"#"}getAnchorUrl(h){return"#"}setHash(h){}executeNamedAction(h){}executeSetOCGState(h){}cachePageRef(h,d){}}s.SimpleLinkService=l},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var u=a(4),f=a(7),p=a(2);class c{#e=null;constructor({pageDiv:l,pdfPage:g,linkService:h,downloadManager:d,annotationStorage:v=null,imageResourcesPath:y="",renderForms:D=!0,l10n:m=f.NullL10n,enableScripting:_=!1,hasJSActionsPromise:w=null,fieldObjectsPromise:S=null,annotationCanvasMap:I=null,accessibilityManager:R=null}){this.pageDiv=l,this.pdfPage=g,this.linkService=h,this.downloadManager=d,this.imageResourcesPath=y,this.renderForms=D,this.l10n=m,this.annotationStorage=v,this.enableScripting=_,this._hasJSActionsPromise=w||Promise.resolve(!1),this._fieldObjectsPromise=S||Promise.resolve(null),this._annotationCanvasMap=I,this._accessibilityManager=R,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=h.eventBus}render(l,g="display"){return oe(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:l.clone({dontFlip:!0})});return}let[h,d,v]=yield Promise.all([this.pdfPage.getAnnotations({intent:g}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let y=this.div=document.createElement("div");if(y.className="annotationLayer",this.pageDiv.append(y),h.length===0){this.hide();return}this.annotationLayer=new u.AnnotationLayer({div:y,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:l.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:h,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:d,fieldObjects:v}),this.linkService.isInPresentationMode&&this.#t(p.PresentationModeState.FULLSCREEN),this.#e||(this.#e=D=>{this.#t(D.state)},this._eventBus?._on("presentationmodechanged",this.#e))})}cancel(){this._cancelled=!0,this.#e&&(this._eventBus?._off("presentationmodechanged",this.#e),this.#e=null)}hide(){this.div&&(this.div.hidden=!0)}#t(l){if(!this.div)return;let g=!1;switch(l){case p.PresentationModeState.FULLSCREEN:g=!0;break;case p.PresentationModeState.NORMAL:break;default:return}for(let h of this.div.childNodes)h.hasAttribute("data-internal-link")||(h.inert=g)}}s.AnnotationLayerBuilder=c},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=u;let a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};a.print_progress_percent="{{progress}}%";function u(o,l){switch(o){case"find_match_count":o=`find_match_count[${l.total===1?"one":"other"}]`;break;case"find_match_count_limit":o=`find_match_count_limit[${l.limit===1?"one":"other"}]`;break}return a[o]||""}function f(o,l){return l?o.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,h)=>h in l?l[h]:"{{"+h+"}}"):o}let p={getLanguage(){return oe(this,null,function*(){return"en-us"})},getDirection(){return oe(this,null,function*(){return"ltr"})},get(h){return oe(this,arguments,function*(o,l=null,g=u(o,l)){return f(g,l)})},translate(o){return oe(this,null,function*(){})}};s.NullL10n=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var u=a(4);function f(c,o){let l=document.createElement("a");if(!l.click)throw new Error('DownloadManager: "a.click()" is not supported.');l.href=c,l.target="_parent","download"in l&&(l.download=o),(document.body||document.documentElement).append(l),l.click(),l.remove()}class p{#e=new WeakMap;downloadUrl(o,l,g){if(!(0,u.createValidAbsoluteUrl)(o,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${o}`);return}f(o+"#pdfjs.action=download",l)}downloadData(o,l,g){let h=URL.createObjectURL(new Blob([o],{type:g}));f(h,l)}openOrDownloadData(o,l,g){let d=(0,u.isPdfFile)(g)?"application/pdf":"";return this.downloadData(l,g,d),!1}download(o,l,g,h){let d=URL.createObjectURL(o);f(d,g)}}s.DownloadManager=p},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=u;let a={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=a;function u({target:c,name:o,delay:l=0}){return new Promise(function(g,h){if(typeof c!="object"||!(o&&typeof o=="string")||!(Number.isInteger(l)&&l>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function d(m){c instanceof f?c._off(o,v):c.removeEventListener(o,v),D&&clearTimeout(D),g(m)}let v=d.bind(null,a.EVENT);c instanceof f?c._on(o,v):c.addEventListener(o,v);let y=d.bind(null,a.TIMEOUT),D=setTimeout(y,l)})}class f{#e=Object.create(null);on(o,l,g=null){this._on(o,l,{external:!0,once:g?.once})}off(o,l,g=null){this._off(o,l,{external:!0,once:g?.once})}dispatch(o,l){let g=this.#e[o];if(!g||g.length===0)return;let h;for(let{listener:d,external:v,once:y}of g.slice(0)){if(y&&this._off(o,d),v){(h||=[]).push(d);continue}d(l)}if(h){for(let d of h)d(l);h=null}}_on(o,l,g=null){(this.#e[o]||=[]).push({listener:l,external:g?.external===!0,once:g?.once===!0})}_off(o,l,g=null){let h=this.#e[o];if(h){for(let d=0,v=h.length;d<v;d++)if(h[d].listener===l){h.splice(d,1);return}}}}s.EventBus=f;class p extends f{dispatch(o,l){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,a(11);var u=a(7);let f={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function p(o){return f[o?.toLowerCase()]||o}class c{constructor(l){let{webL10n:g}=document;this._lang=l,this._ready=new Promise((h,d)=>{g.setLanguage(p(l),()=>{h(g)})})}getLanguage(){return oe(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return oe(this,null,function*(){return(yield this._ready).getDirection()})}get(d){return oe(this,arguments,function*(l,g=null,h=(0,u.getL10nFallback)(l,g)){return(yield this._ready).get(l,g,h)})}translate(l){return oe(this,null,function*(){return(yield this._ready).translate(l)})}}s.GenericL10n=c},()=>{document.webL10n=function(r,s){var a={},u="",f="textContent",p="",c={},o="loading",l=!0;function g(){return s.querySelectorAll('link[type="application/l10n"]')}function h(){var G=s.querySelector('script[type="application/l10n"]');return G?JSON.parse(G.innerHTML):null}function d(G){return G?G.querySelectorAll("*[data-l10n-id]"):[]}function v(G){if(!G)return{};var Q=G.getAttribute("data-l10n-id"),X=G.getAttribute("data-l10n-args"),B={};if(X)try{B=JSON.parse(X)}catch{console.warn("could not parse arguments for #"+Q)}return{id:Q,args:B}}function y(G,Q,X){Q=Q||function(P){},X=X||function(){};var B=new XMLHttpRequest;B.open("GET",G,l),B.overrideMimeType&&B.overrideMimeType("text/plain; charset=utf-8"),B.onreadystatechange=function(){B.readyState==4&&(B.status==200||B.status===0?Q(B.responseText):X())},B.onerror=X,B.ontimeout=X;try{B.send(null)}catch{X()}}function D(G,Q,X,B){var U=G.replace(/[^\/]*$/,"")||"./";function P(A){return A.lastIndexOf("\\")<0?A:A.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function b(A,C){var M={},k=/^\s*|\s*$/,N=/^\s*#|^\s*$/,j=/^\s*\[(.*)\]\s*$/,L=/^\s*@import\s+url\((.*)\)\s*$/i,E=/^([^=\s]*)\s*=\s*(.+)$/;function x(F,V,$){var q=F.replace(k,"").split(/[\r\n]+/),ne="*",Z=Q.split("-",1)[0],W=!1,K="";function Y(){for(;;){if(!q.length){$();return}var J=q.shift();if(!N.test(J)){if(V){if(K=j.exec(J),K){ne=K[1].toLowerCase(),W=ne!=="*"&&ne!==Q&&ne!==Z;continue}else if(W)continue;if(K=L.exec(J),K){T(U+K[1],Y);return}}var ie=J.match(E);ie&&ie.length==3&&(M[ie[1]]=P(ie[2]))}}}Y()}function T(F,V){y(F,function($){x($,!1,V)},function(){console.warn(F+" not found."),V()})}x(A,!0,function(){C(M)})}y(G,function(A){u+=A,b(A,function(C){for(var M in C){var k,N,j=M.lastIndexOf(".");j>0?(k=M.substring(0,j),N=M.substring(j+1)):(k=M,N=f),a[k]||(a[k]={}),a[k][N]=C[M]}X&&X()})},B)}function m(G,Q){G&&(G=G.toLowerCase()),Q=Q||function(){},_(),p=G;var X=g(),B=X.length;if(B===0){var U=h();if(U&&U.locales&&U.default_locale){if(console.log("using the embedded JSON directory, early way out"),a=U.locales[G],!a){var P=U.default_locale.toLowerCase();for(var b in U.locales)if(b=b.toLowerCase(),b===G){a=U.locales[G];break}else b===P&&(a=U.locales[P])}Q()}else console.log("no resource to load, early way out");o="complete";return}var A=null,C=0;A=function(){C++,C>=B&&(Q(),o="complete")};function M(j){var L=j.href;this.load=function(E,x){D(L,E,x,function(){console.warn(L+" not found."),console.warn('"'+E+'" resource not found'),p="",x()})}}for(var k=0;k<B;k++){var N=new M(X[k]);N.load(G,A)}}function _(){a={},u="",p=""}function w(G){var Q={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function X(b,A){return A.indexOf(b)!==-1}function B(b,A,C){return A<=b&&b<=C}var U={0:function(b){return"other"},1:function(b){return B(b%100,3,10)?"few":b===0?"zero":B(b%100,11,99)?"many":b==2?"two":b==1?"one":"other"},2:function(b){return b!==0&&b%10===0?"many":b==2?"two":b==1?"one":"other"},3:function(b){return b==1?"one":"other"},4:function(b){return B(b,0,1)?"one":"other"},5:function(b){return B(b,0,2)&&b!=2?"one":"other"},6:function(b){return b===0?"zero":b%10==1&&b%100!=11?"one":"other"},7:function(b){return b==2?"two":b==1?"one":"other"},8:function(b){return B(b,3,6)?"few":B(b,7,10)?"many":b==2?"two":b==1?"one":"other"},9:function(b){return b===0||b!=1&&B(b%100,1,19)?"few":b==1?"one":"other"},10:function(b){return B(b%10,2,9)&&!B(b%100,11,19)?"few":b%10==1&&!B(b%100,11,19)?"one":"other"},11:function(b){return B(b%10,2,4)&&!B(b%100,12,14)?"few":b%10===0||B(b%10,5,9)||B(b%100,11,14)?"many":b%10==1&&b%100!=11?"one":"other"},12:function(b){return B(b,2,4)?"few":b==1?"one":"other"},13:function(b){return B(b%10,2,4)&&!B(b%100,12,14)?"few":b!=1&&B(b%10,0,1)||B(b%10,5,9)||B(b%100,12,14)?"many":b==1?"one":"other"},14:function(b){return B(b%100,3,4)?"few":b%100==2?"two":b%100==1?"one":"other"},15:function(b){return b===0||B(b%100,2,10)?"few":B(b%100,11,19)?"many":b==1?"one":"other"},16:function(b){return b%10==1&&b!=11?"one":"other"},17:function(b){return b==3?"few":b===0?"zero":b==6?"many":b==2?"two":b==1?"one":"other"},18:function(b){return b===0?"zero":B(b,0,2)&&b!==0&&b!=2?"one":"other"},19:function(b){return B(b,2,10)?"few":B(b,0,1)?"one":"other"},20:function(b){return(B(b%10,3,4)||b%10==9)&&!(B(b%100,10,19)||B(b%100,70,79)||B(b%100,90,99))?"few":b%1e6===0&&b!==0?"many":b%10==2&&!X(b%100,[12,72,92])?"two":b%10==1&&!X(b%100,[11,71,91])?"one":"other"},21:function(b){return b===0?"zero":b==1?"one":"other"},22:function(b){return B(b,0,1)||B(b,11,99)?"one":"other"},23:function(b){return B(b%10,1,2)||b%20===0?"one":"other"},24:function(b){return B(b,3,10)||B(b,13,19)?"few":X(b,[2,12])?"two":X(b,[1,11])?"one":"other"}},P=Q[G.replace(/-.*$/,"")];return P in U?U[P]:(console.warn("plural form unknown for ["+G+"]"),function(){return"other"})}c.plural=function(G,Q,X,B){var U=parseFloat(Q);if(isNaN(U)||B!=f)return G;c._pluralRules||(c._pluralRules=w(p));var P="["+c._pluralRules(U)+"]";return U===0&&X+"[zero]"in a?G=a[X+"[zero]"][B]:U==1&&X+"[one]"in a?G=a[X+"[one]"][B]:U==2&&X+"[two]"in a?G=a[X+"[two]"][B]:X+P in a?G=a[X+P][B]:X+"[other]"in a&&(G=a[X+"[other]"][B]),G};function S(G,Q,X){var B=a[G];if(!B){if(console.warn("#"+G+" is undefined."),!X)return null;B=X}var U={};for(var P in B){var b=B[P];b=I(b,Q,G,P),b=R(b,Q,G),U[P]=b}return U}function I(G,Q,X,B){var U=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,P=U.exec(G);if(!P||!P.length)return G;var b=P[1],A=P[2],C;if(Q&&A in Q?C=Q[A]:A in a&&(C=a[A]),b in c){var M=c[b];G=M(G,C,X,B)}return G}function R(G,Q,X){var B=/\{\{\s*(.+?)\s*\}\}/g;return G.replace(B,function(U,P){return Q&&P in Q?Q[P]:P in a?a[P]:(console.log("argument {{"+P+"}} for #"+X+" is undefined."),U)})}function O(G){var Q=v(G);if(Q.id){var X=S(Q.id,Q.args);if(!X){console.warn("#"+Q.id+" is undefined.");return}if(X[f]){if(H(G)===0)G[f]=X[f];else{for(var B=G.childNodes,U=!1,P=0,b=B.length;P<b;P++)B[P].nodeType===3&&/\S/.test(B[P].nodeValue)&&(U?B[P].nodeValue="":(B[P].nodeValue=X[f],U=!0));if(!U){var A=s.createTextNode(X[f]);G.prepend(A)}}delete X[f]}for(var C in X)G[C]=X[C]}}function H(G){if(G.children)return G.children.length;if(typeof G.childElementCount<"u")return G.childElementCount;for(var Q=0,X=0;X<G.childNodes.length;X++)Q+=G.nodeType===1?1:0;return Q}function z(G){G=G||s.documentElement;for(var Q=d(G),X=Q.length,B=0;B<X;B++)O(Q[B]);O(G)}return{get:function(G,Q,X){var B=G.lastIndexOf("."),U=f;B>0&&(U=G.substring(B+1),G=G.substring(0,B));var P;X&&(P={},P[U]=X);var b=S(G,Q,P);return b&&U in b?b[U]:"{{"+G+"}}"},getData:function(){return a},getText:function(){return u},getLanguage:function(){return p},setLanguage:function(G,Q){m(G,function(){Q&&Q()})},getDirection:function(){var G=["ar","he","fa","ps","ur"],Q=p.split("-",1)[0];return G.indexOf(Q)>=0?"rtl":"ltr"},translate:z,getReadyState:function(){return o},ready:function(G){if(G)o=="complete"||o=="interactive"?r.setTimeout(function(){G()}):s.addEventListener&&s.addEventListener("localized",function Q(){s.removeEventListener("localized",Q),G()});else return}}}(window,document)},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=d,s.isDestHashesEqual=h;var u=a(2),f=a(9);let p=1e3,c=50,o=1e3;function l(){return document.location.hash}class g{constructor({linkService:y,eventBus:D}){this.linkService=y,this.eventBus=D,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",m=>{this._isPagesLoaded=!!m.pagesCount},{once:!0})})}initialize({fingerprint:y,resetHistory:D=!1,updateUrl:m=!1}){if(!y||typeof y!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let _=this._fingerprint!==""&&this._fingerprint!==y;this._fingerprint=y,this._updateUrl=m===!0,this._initialized=!0,this._bindEvents();let w=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=l(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(w,!0)||D){let{hash:I,page:R,rotation:O}=this._parseCurrentHash(!0);if(!I||_||D){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:I,page:R,rotation:O},!0);return}let S=w.destination;this._updateInternalState(S,w.uid,!0),S.rotation!==void 0&&(this._initialRotation=S.rotation),S.dest?(this._initialBookmark=JSON.stringify(S.dest),this._destination.page=null):S.hash?this._initialBookmark=S.hash:S.page&&(this._initialBookmark=`page=${S.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:y=null,explicitDest:D,pageNumber:m}){if(!this._initialized)return;if(y&&typeof y!="string"){console.error(`PDFHistory.push: "${y}" is not a valid namedDest parameter.`);return}else if(Array.isArray(D)){if(!this._isValidPage(m)&&(m!==null||this._destination)){console.error(`PDFHistory.push: "${m}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${D}" is not a valid explicitDest parameter.`);return}let _=y||JSON.stringify(D);if(!_)return;let w=!1;if(this._destination&&(h(this._destination.hash,_)||d(this._destination.dest,D))){if(this._destination.page)return;w=!0}this._popStateInProgress&&!w||(this._pushOrReplaceState({dest:D,hash:_,page:m,rotation:this.linkService.rotation},w),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(y){if(this._initialized){if(!this._isValidPage(y)){console.error(`PDFHistory.pushPage: "${y}" is not a valid page number.`);return}this._destination?.page!==y&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${y}`,page:y,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let y=window.history.state;this._isValidState(y)&&y.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let y=window.history.state;this._isValidState(y)&&y.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(y,D=!1){let m=D||!this._destination,_={fingerprint:this._fingerprint,uid:m?this._uid:this._uid+1,destination:y};this._updateInternalState(y,_.uid);let w;if(this._updateUrl&&y?.hash){let S=document.location.href.split("#")[0];S.startsWith("file://")||(w=`${S}#${y.hash}`)}m?window.history.replaceState(_,"",w):window.history.pushState(_,"",w)}_tryPushCurrentPosition(y=!1){if(!this._position)return;let D=this._position;if(y&&(D=Object.assign(Object.create(null),this._position),D.temporary=!0),!this._destination){this._pushOrReplaceState(D);return}if(this._destination.temporary){this._pushOrReplaceState(D,!0);return}if(this._destination.hash===D.hash||!this._destination.page&&(c<=0||this._numPositionUpdates<=c))return;let m=!1;if(this._destination.page>=D.first&&this._destination.page<=D.page){if(this._destination.dest!==void 0||!this._destination.first)return;m=!0}this._pushOrReplaceState(D,m)}_isValidPage(y){return Number.isInteger(y)&&y>0&&y<=this.linkService.pagesCount}_isValidState(y,D=!1){if(!y)return!1;if(y.fingerprint!==this._fingerprint)if(D){if(typeof y.fingerprint!="string"||y.fingerprint.length!==this._fingerprint.length)return!1;let[m]=performance.getEntriesByType("navigation");if(m?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(y.uid)||y.uid<0||y.destination===null||typeof y.destination!="object")}_updateInternalState(y,D,m=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),m&&y?.temporary&&delete y.temporary,this._destination=y,this._uid=D,this._maxUid=Math.max(this._maxUid,D),this._numPositionUpdates=0}_parseCurrentHash(y=!1){let D=unescape(l()).substring(1),m=(0,u.parseQueryString)(D),_=m.get("nameddest")||"",w=m.get("page")|0;return(!this._isValidPage(w)||y&&_.length>0)&&(w=null),{hash:D,page:w,rotation:this.linkService.rotation}}_updateViewarea({location:y}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:y.pdfOpenParams.substring(1),page:this.linkService.page,first:y.pageNumber,rotation:y.rotation},!this._popStateInProgress&&(c>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,o>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},o)))}_popState({state:y}){let D=l(),m=this._currentHash!==D;if(this._currentHash=D,!y){this._uid++;let{hash:w,page:S,rotation:I}=this._parseCurrentHash();this._pushOrReplaceState({hash:w,page:S,rotation:I},!0);return}if(!this._isValidState(y))return;this._popStateInProgress=!0,m&&(this._blockHashChange++,(0,f.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:p}).then(()=>{this._blockHashChange--}));let _=y.destination;this._updateInternalState(_,y.uid,!0),(0,u.isValidRotation)(_.rotation)&&(this.linkService.rotation=_.rotation),_.dest?this.linkService.goToDestination(_.dest):_.hash?this.linkService.setHash(_.hash):_.page&&(this.linkService.page=_.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=g;function h(v,y){return typeof v!="string"||typeof y!="string"?!1:v===y||(0,u.parseQueryString)(v).get("nameddest")===y}function d(v,y){function D(m,_){if(typeof m!=typeof _||Array.isArray(m)||Array.isArray(_))return!1;if(m!==null&&typeof m=="object"&&_!==null){if(Object.keys(m).length!==Object.keys(_).length)return!1;for(let w in m)if(!D(m[w],_[w]))return!1;return!0}return m===_||Number.isNaN(m)&&Number.isNaN(_)}if(!(Array.isArray(v)&&Array.isArray(y))||v.length!==y.length)return!1;for(let m=0,_=v.length;m<_;m++)if(!D(v[m],y[m]))return!1;return!0}},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var u=a(4),f=a(2),p=a(14),c=a(6),o=a(15),l=a(7),g=a(5),h=a(16),d=a(17),v=a(18),y=a(19),D=a(20);let m=o.compatibilityParams.maxCanvasPixels||16777216,_=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new g.SimpleLinkService}});class w{#e=u.AnnotationMode.ENABLE_FORMS;#t=!1;#n=null;#i=null;#a=null;#s=null;#o=f.RenderingStates.INITIAL;#l=f.TextLayerMode.ENABLE;#c={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#r=new WeakMap;constructor(I){let R=I.container,O=I.defaultViewport;this.id=I.id,this.renderingId="page"+this.id,this.#n=I.layerProperties||_,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=I.scale||f.DEFAULT_SCALE,this.viewport=O,this.pdfPageRotate=O.rotation,this._optionalContentConfigPromise=I.optionalContentConfigPromise||null,this.#l=I.textLayerMode??f.TextLayerMode.ENABLE,this.#e=I.annotationMode??u.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=I.imageResourcesPath||"",this.isOffscreenCanvasSupported=I.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=I.maxCanvasPixels??m,this.pageColors=I.pageColors||null,this.eventBus=I.eventBus,this.renderingQueue=I.renderingQueue,this.l10n=I.l10n||l.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=R,I.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let H=document.createElement("div");if(H.className="page",H.setAttribute("data-page-number",this.id),H.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(z=>{H.setAttribute("aria-label",z)}),this.div=H,this.#u(),R?.append(H),this._isStandalone){R?.style.setProperty("--scale-factor",this.scale*u.PixelsPerInch.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:z}=I;z&&z.then(G=>{z===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=G.hasInitialVisibility)})}}get renderingState(){return this.#o}set renderingState(I){if(I!==this.#o)switch(this.#o=I,this.#i&&(clearTimeout(this.#i),this.#i=null),I){case f.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case f.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case f.RenderingStates.INITIAL:case f.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#u(){let{viewport:I}=this;if(this.pdfPage){if(this.#a===I.rotation)return;this.#a=I.rotation}(0,u.setLayerDimensions)(this.div,I,!0,!1)}setPdfPage(I){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this._container?.style.setProperty("--hcm-highligh-filter",I.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=I,this.pdfPageRotate=I.rotate;let R=(this.rotation+this.pdfPageRotate)%360;this.viewport=I.getViewport({scale:this.scale*u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:R}),this.#u(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,u.shadow)(this,"_textHighlighter",new v.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#n().findController}))}#d(){return oe(this,null,function*(){let I=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(R){console.error(`#renderAnnotationLayer: "${R}".`),I=R}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:I})}})}#f(){return oe(this,null,function*(){let I=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(R){console.error(`#renderAnnotationEditorLayer: "${R}".`),I=R}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:I})}})}#p(){return oe(this,null,function*(){let I=null;try{let R=yield this.xfaLayer.render(this.viewport,"display");R?.textDivs&&this._textHighlighter&&this.#y(R.textDivs)}catch(R){console.error(`#renderXfaLayer: "${R}".`),I=R}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:I})}})}#g(){return oe(this,null,function*(){let{pdfPage:I,textLayer:R,viewport:O}=this;if(!R)return;let H=null;try{if(!R.renderingDone){let z=I.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});R.setTextContentSource(z)}yield R.render(O)}catch(z){if(z instanceof u.AbortException)return;console.error(`#renderTextLayer: "${z}".`),H=z}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:R.numTextDivs,error:H}),this.#m()})}#m(){return oe(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new h.StructTreeLayerBuilder;let I=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),R=this.structTreeLayer?.render(I);R&&this.canvas?.append(R),this.structTreeLayer?.show()})}#y(I){return oe(this,null,function*(){let R=yield this.pdfPage.getTextContent(),O=[];for(let H of R.items)O.push(H.str);this._textHighlighter.setTextMapping(I,O),this._textHighlighter.enable()})}_resetZoomLayer(I=!1){if(!this.zoomLayer)return;let R=this.zoomLayer.firstChild;this.#r.delete(R),R.width=0,R.height=0,I&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:I=!1,keepAnnotationLayer:R=!1,keepAnnotationEditorLayer:O=!1,keepXfaLayer:H=!1,keepTextLayer:z=!1}={}){this.cancelRendering({keepAnnotationLayer:R,keepAnnotationEditorLayer:O,keepXfaLayer:H,keepTextLayer:z}),this.renderingState=f.RenderingStates.INITIAL;let G=this.div,Q=G.childNodes,X=I&&this.zoomLayer||null,B=R&&this.annotationLayer?.div||null,U=O&&this.annotationEditorLayer?.div||null,P=H&&this.xfaLayer?.div||null,b=z&&this.textLayer?.div||null;for(let A=Q.length-1;A>=0;A--){let C=Q[A];switch(C){case X:case B:case U:case P:case b:continue}C.remove()}G.removeAttribute("data-loaded"),B&&this.annotationLayer.hide(),U&&this.annotationEditorLayer.hide(),P&&this.xfaLayer.hide(),b&&this.textLayer.hide(),this.structTreeLayer?.hide(),X||(this.canvas&&(this.#r.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:I=0,rotation:R=null,optionalContentConfigPromise:O=null,drawingDelay:H=-1}){this.scale=I||this.scale,typeof R=="number"&&(this.rotation=R),O instanceof Promise&&(this._optionalContentConfigPromise=O,O.then(G=>{O===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=G.hasInitialVisibility)})),this.#c.directDrawing=!0;let z=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*u.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:z}),this.#u(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let G=!1;if(this.#t){if(this.maxCanvasPixels===0)G=!0;else if(this.maxCanvasPixels>0){let{width:X,height:B}=this.viewport,{sx:U,sy:P}=this.outputScale;G=(Math.floor(X)*U|0)*(Math.floor(B)*P|0)>this.maxCanvasPixels}}let Q=!G&&H>=0&&H<1e3;if(Q||G){if(Q&&this.renderingState!==f.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:H}),this.renderingState=f.RenderingStates.FINISHED,this.#c.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!Q,hideTextLayer:Q}),Q)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#s});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:I=!1,keepAnnotationEditorLayer:R=!1,keepXfaLayer:O=!1,keepTextLayer:H=!1,cancelExtraDelay:z=0}={}){this.renderTask&&(this.renderTask.cancel(z),this.renderTask=null),this.resume=null,this.textLayer&&(!H||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!I||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!R||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!O||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:I,redrawAnnotationLayer:R=!1,redrawAnnotationEditorLayer:O=!1,redrawXfaLayer:H=!1,redrawTextLayer:z=!1,hideTextLayer:G=!1}){if(!I.hasAttribute("zooming")){I.setAttribute("zooming",!0);let{style:X}=I;X.width=X.height=""}let Q=this.#r.get(I);if(this.viewport!==Q){let X=this.viewport.rotation-Q.rotation,B=Math.abs(X),U=1,P=1;if(B===90||B===270){let{width:b,height:A}=this.viewport;U=A/b,P=b/A}I.style.transform=`rotate(${X}deg) scale(${U}, ${P})`}R&&this.annotationLayer&&this.#d(),O&&this.annotationEditorLayer&&this.#f(),H&&this.xfaLayer&&this.#p(),this.textLayer&&(G?(this.textLayer.hide(),this.structTreeLayer?.hide()):z&&this.#g())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(I,R){return this.viewport.convertToPdfPoint(I,R)}#h(I,R=null){return oe(this,null,function*(){if(I===this.renderTask&&(this.renderTask=null),R instanceof u.RenderingCancelledException){this.#s=null;return}if(this.#s=R,this.renderingState=f.RenderingStates.FINISHED,this._resetZoomLayer(!0),this.#c.regularAnnotations=!I.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#s}),R)throw R})}draw(){return oe(this,null,function*(){this.renderingState!==f.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:I,l10n:R,pageColors:O,pdfPage:H,viewport:z}=this;if(!H)throw this.renderingState=f.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=f.RenderingStates.RUNNING;let G=document.createElement("div");if(G.classList.add("canvasWrapper"),I.append(G),!this.textLayer&&this.#l!==f.TextLayerMode.DISABLE&&!H.isPureXfa&&(this._accessibilityManager||=new d.TextAccessibilityManager,this.textLayer=new y.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:this.#l===f.TextLayerMode.ENABLE_PERMISSIONS}),I.append(this.textLayer.div)),!this.annotationLayer&&this.#e!==u.AnnotationMode.DISABLE){let{annotationStorage:T,downloadManager:F,enableScripting:V,fieldObjectsPromise:$,hasJSActionsPromise:q,linkService:ne}=this.#n();this._annotationCanvasMap||=new Map,this.annotationLayer=new c.AnnotationLayerBuilder({pageDiv:I,pdfPage:H,annotationStorage:T,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===u.AnnotationMode.ENABLE_FORMS,linkService:ne,downloadManager:F,l10n:R,enableScripting:V,hasJSActionsPromise:q,fieldObjectsPromise:$,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}let Q=T=>{if(b?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=f.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=f.RenderingStates.RUNNING,T()};return}T()},{width:X,height:B}=z,U=document.createElement("canvas");U.setAttribute("role","presentation"),U.hidden=!0;let P=!!(O?.background&&O?.foreground),b=T=>{(!P||T)&&(U.hidden=!1,b=null)};G.append(U),this.canvas=U;let A=U.getContext("2d",{alpha:!1}),C=this.outputScale=new f.OutputScale;if(this.maxCanvasPixels===0){let T=1/this.scale;C.sx*=T,C.sy*=T,this.#t=!0}else if(this.maxCanvasPixels>0){let T=X*B,F=Math.sqrt(this.maxCanvasPixels/T);C.sx>F||C.sy>F?(C.sx=F,C.sy=F,this.#t=!0):this.#t=!1}let M=(0,f.approximateFraction)(C.sx),k=(0,f.approximateFraction)(C.sy);U.width=(0,f.roundToDivide)(X*C.sx,M[0]),U.height=(0,f.roundToDivide)(B*C.sy,k[0]);let{style:N}=U;N.width=(0,f.roundToDivide)(X,M[1])+"px",N.height=(0,f.roundToDivide)(B,k[1])+"px",this.#r.set(U,z);let j=C.scaled?[C.sx,0,0,C.sy,0,0]:null,L={canvasContext:A,transform:j,viewport:z,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:O},E=this.renderTask=this.pdfPage.render(L);E.onContinue=Q;let x=E.promise.then(()=>oe(this,null,function*(){if(b?.(!0),yield this.#h(E),this.#g(),this.annotationLayer&&(yield this.#d()),!this.annotationEditorLayer){let{annotationEditorUIManager:T}=this.#n();if(!T)return;this.annotationEditorLayer=new p.AnnotationEditorLayerBuilder({uiManager:T,pageDiv:I,pdfPage:H,l10n:R,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer})}this.#f()}),T=>(T instanceof u.RenderingCancelledException||b?.(!0),this.#h(E,T)));if(H.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&I.append(this.xfaLayer.div);else{let{annotationStorage:T,linkService:F}=this.#n();this.xfaLayer=new D.XfaLayerBuilder({pageDiv:I,pdfPage:H,annotationStorage:T,linkService:F})}this.#p()}return I.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),x})}setPageLabel(I){this.pageLabel=typeof I=="string"?I:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:I,initialOptionalContent:R,regularAnnotations:O}=this.#c;return I&&R&&O?this.canvas:null}}s.PDFPageView=w},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var u=a(4),f=a(7);class p{#e=null;#t;constructor(o){this.pageDiv=o.pageDiv,this.pdfPage=o.pdfPage,this.accessibilityManager=o.accessibilityManager,this.l10n=o.l10n||f.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=o.uiManager,this.#e=o.annotationLayer||null}render(o,l="display"){return oe(this,null,function*(){if(l!=="display"||this._cancelled)return;let g=o.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:g}),this.show();return}let h=this.div=document.createElement("div");h.className="annotationEditorLayer",h.tabIndex=0,h.hidden=!0,h.dir=this.#t.direction,this.pageDiv.append(h),this.annotationEditorLayer=new u.AnnotationEditorLayer({uiManager:this.#t,div:h,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:g,annotationLayer:this.#e});let d={viewport:g,div:h,annotations:null,intent:l};this.annotationEditorLayer.render(d),this.show()})}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}s.AnnotationEditorLayerBuilder=p},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;let a=Object.create(null);s.compatibilityParams=a;{let o=navigator.userAgent||"",l=navigator.platform||"",g=navigator.maxTouchPoints||1,h=/Android/.test(o),d=/\b(iPad|iPhone|iPod)(?=;)/.test(o)||l==="MacIntel"&&g>1;(function(){(d||h)&&(a.maxCanvasPixels=5242880)})()}let u={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=u;let f={annotationEditorMode:{value:0,kind:u.VIEWER+u.PREFERENCE},annotationMode:{value:2,kind:u.VIEWER+u.PREFERENCE},cursorToolOnLoad:{value:0,kind:u.VIEWER+u.PREFERENCE},defaultZoomDelay:{value:400,kind:u.VIEWER+u.PREFERENCE},defaultZoomValue:{value:"",kind:u.VIEWER+u.PREFERENCE},disableHistory:{value:!1,kind:u.VIEWER},disablePageLabels:{value:!1,kind:u.VIEWER+u.PREFERENCE},enablePermissions:{value:!1,kind:u.VIEWER+u.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:u.VIEWER+u.PREFERENCE},enableScripting:{value:!0,kind:u.VIEWER+u.PREFERENCE},enableStampEditor:{value:!0,kind:u.VIEWER+u.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:u.VIEWER},externalLinkTarget:{value:0,kind:u.VIEWER+u.PREFERENCE},historyUpdateUrl:{value:!1,kind:u.VIEWER+u.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:u.VIEWER+u.PREFERENCE},imageResourcesPath:{value:"./images/",kind:u.VIEWER},maxCanvasPixels:{value:16777216,kind:u.VIEWER},forcePageColors:{value:!1,kind:u.VIEWER+u.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:u.VIEWER+u.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:u.VIEWER+u.PREFERENCE},pdfBugEnabled:{value:!1,kind:u.VIEWER+u.PREFERENCE},printResolution:{value:150,kind:u.VIEWER},sidebarViewOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},scrollModeOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},spreadModeOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},textLayerMode:{value:1,kind:u.VIEWER+u.PREFERENCE},viewerCssTheme:{value:0,kind:u.VIEWER+u.PREFERENCE},viewOnLoad:{value:0,kind:u.VIEWER+u.PREFERENCE},cMapPacked:{value:!0,kind:u.API},cMapUrl:{value:"../web/cmaps/",kind:u.API},disableAutoFetch:{value:!1,kind:u.API+u.PREFERENCE},disableFontFace:{value:!1,kind:u.API+u.PREFERENCE},disableRange:{value:!1,kind:u.API+u.PREFERENCE},disableStream:{value:!1,kind:u.API+u.PREFERENCE},docBaseUrl:{value:"",kind:u.API},enableXfa:{value:!0,kind:u.API+u.PREFERENCE},fontExtraProperties:{value:!1,kind:u.API},isEvalSupported:{value:!0,kind:u.API},isOffscreenCanvasSupported:{value:!0,kind:u.API},maxImageSize:{value:-1,kind:u.API},pdfBug:{value:!1,kind:u.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:u.API},verbosity:{value:1,kind:u.API},workerPort:{value:null,kind:u.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:u.WORKER}};f.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:u.VIEWER},f.disablePreferences={value:!1,kind:u.VIEWER},f.locale={value:navigator.language||"en-US",kind:u.VIEWER},f.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:u.VIEWER};let p=Object.create(null);class c{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(l){let g=p[l];if(g!==void 0)return g;let h=f[l];if(h!==void 0)return a[l]??h.value}static getAll(l=null){let g=Object.create(null);for(let h in f){let d=f[h];if(l){if(!(l&d.kind))continue;if(l===u.PREFERENCE){let y=d.value,D=typeof y;if(D==="boolean"||D==="string"||D==="number"&&Number.isInteger(y)){g[h]=y;continue}throw new Error(`Invalid type for preference: ${h}`)}}let v=p[h];g[h]=v!==void 0?v:a[h]??d.value}return g}static set(l,g){p[l]=g}static setAll(l){for(let g in l)p[g]=l[g]}static remove(l){delete p[l]}}s.AppOptions=c,c._hasUserOptions=function(){return Object.keys(p).length>0}},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;var u=a(2);let f={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},p=/^H(\d+)$/;class c{#e=void 0;get renderingDone(){return this.#e!==void 0}render(l){if(this.#e!==void 0)return this.#e;let g=this.#n(l);return g?.classList.add("structTree"),this.#e=g}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(l,g){let{alt:h,id:d,lang:v}=l;h!==void 0&&g.setAttribute("aria-label",(0,u.removeNullCharacters)(h)),d!==void 0&&g.setAttribute("aria-owns",d),v!==void 0&&g.setAttribute("lang",(0,u.removeNullCharacters)(v,!0))}#n(l){if(!l)return null;let g=document.createElement("span");if("role"in l){let{role:h}=l,d=h.match(p);d?(g.setAttribute("role","heading"),g.setAttribute("aria-level",d[1])):f[h]&&g.setAttribute("role",f[h])}if(this.#t(l,g),l.children)if(l.children.length===1&&"id"in l.children[0])this.#t(l.children[0],g);else for(let h of l.children)g.append(this.#n(h));return g}}s.StructTreeLayerBuilder=c},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var u=a(2);class f{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(c){this.#t=c}static#a(c,o){let l=c.getBoundingClientRect(),g=o.getBoundingClientRect();if(l.width===0&&l.height===0)return 1;if(g.width===0&&g.height===0)return-1;let h=l.y,d=l.y+l.height,v=l.y+l.height/2,y=g.y,D=g.y+g.height,m=g.y+g.height/2;if(v<=y&&m>=d)return-1;if(m<=h&&v>=D)return 1;let _=l.x+l.width/2,w=g.x+g.width/2;return _-w}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(f.#a),this.#n.size>0){let c=this.#t;for(let[o,l]of this.#n){if(!document.getElementById(o)){this.#n.delete(o);continue}this.#s(o,c[l])}}for(let[c,o]of this.#i)this.addPointerInTextLayer(c,o);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(c){if(!this.#e){this.#i.delete(c);return}let o=this.#t;if(!o||o.length===0)return;let{id:l}=c,g=this.#n.get(l);if(g===void 0)return;let h=o[g];this.#n.delete(l);let d=h.getAttribute("aria-owns");d?.includes(l)&&(d=d.split(" ").filter(v=>v!==l).join(" "),d?h.setAttribute("aria-owns",d):(h.removeAttribute("aria-owns"),h.setAttribute("role","presentation")))}#s(c,o){let l=o.getAttribute("aria-owns");l?.includes(c)||o.setAttribute("aria-owns",l?`${l} ${c}`:c),o.removeAttribute("role")}addPointerInTextLayer(c,o){let{id:l}=c;if(!l)return null;if(!this.#e)return this.#i.set(c,o),null;o&&this.removePointerInTextLayer(c);let g=this.#t;if(!g||g.length===0)return null;let h=(0,u.binarySearchFirstItem)(g,D=>f.#a(c,D)<0),d=Math.max(0,h-1),v=g[d];this.#s(l,v),this.#n.set(l,d);let y=v.parentNode;return y?.classList.contains("markedContent")?y.id:null}moveElementInDOM(c,o,l,g){let h=this.addPointerInTextLayer(l,g);if(!c.hasChildNodes())return c.append(o),h;let d=Array.from(c.childNodes).filter(D=>D!==o);if(d.length===0)return h;let v=l||o,y=(0,u.binarySearchFirstItem)(d,D=>f.#a(v,D)<0);return y===0?d[0].before(o):d[y-1].after(o),h}}s.TextAccessibilityManager=f},(r,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class a{constructor({findController:f,eventBus:p,pageIndex:c}){this.findController=f,this.matches=[],this.eventBus=p,this.pageIdx=c,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(f,p){this.textDivs=f,this.textContentItemsStr=p}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=f=>{(f.pageIndex===this.pageIdx||f.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(f,p){if(!f)return[];let{textContentItemsStr:c}=this,o=0,l=0,g=c.length-1,h=[];for(let d=0,v=f.length;d<v;d++){let y=f[d];for(;o!==g&&y>=l+c[o].length;)l+=c[o].length,o++;o===c.length&&console.error("Could not find a matching mapping");let D={begin:{divIdx:o,offset:y-l}};for(y+=p[d];o!==g&&y>l+c[o].length;)l+=c[o].length,o++;D.end={divIdx:o,offset:y-l},h.push(D)}return h}_renderMatches(f){if(f.length===0)return;let{findController:p,pageIdx:c}=this,{textContentItemsStr:o,textDivs:l}=this,g=c===p.selected.pageIdx,h=p.selected.matchIdx,d=p.state.highlightAll,v=null,y={divIdx:-1,offset:void 0};function D(R,O){let H=R.divIdx;return l[H].textContent="",m(H,0,R.offset,O)}function m(R,O,H,z){let G=l[R];if(G.nodeType===Node.TEXT_NODE){let B=document.createElement("span");G.before(B),B.append(G),l[R]=B,G=B}let Q=o[R].substring(O,H),X=document.createTextNode(Q);if(z){let B=document.createElement("span");return B.className=`${z} appended`,B.append(X),G.append(B),z.includes("selected")?B.offsetLeft:0}return G.append(X),0}let _=h,w=_+1;if(d)_=0,w=f.length;else if(!g)return;let S=-1,I=-1;for(let R=_;R<w;R++){let O=f[R],H=O.begin;if(H.divIdx===S&&H.offset===I)continue;S=H.divIdx,I=H.offset;let z=O.end,G=g&&R===h,Q=G?" selected":"",X=0;if(!v||H.divIdx!==v.divIdx?(v!==null&&m(v.divIdx,v.offset,y.offset),D(H)):m(v.divIdx,v.offset,H.offset),H.divIdx===z.divIdx)X=m(H.divIdx,H.offset,z.offset,"highlight"+Q);else{X=m(H.divIdx,H.offset,y.offset,"highlight begin"+Q);for(let B=H.divIdx+1,U=z.divIdx;B<U;B++)l[B].className="highlight middle"+Q;D(z,"highlight end"+Q)}v=z,G&&p.scrollMatchIntoView({element:l[H.divIdx],selectedLeft:X,pageIndex:c,matchIndex:h})}v&&m(v.divIdx,v.offset,y.offset)}_updateMatches(f=!1){if(!this.enabled&&!f)return;let{findController:p,matches:c,pageIdx:o}=this,{textContentItemsStr:l,textDivs:g}=this,h=-1;for(let y of c){let D=Math.max(h,y.begin.divIdx);for(let m=D,_=y.end.divIdx;m<=_;m++){let w=g[m];w.textContent=l[m],w.className=""}h=y.end.divIdx+1}if(!p?.highlightMatches||f)return;let d=p.pageMatches[o]||null,v=p.pageMatchesLength[o]||null;this.matches=this._convertMatches(d,v),this._renderMatches(this.matches)}}s.TextHighlighter=a},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var u=a(4),f=a(2);class p{#e=!1;#t=0;#n=0;#i=null;constructor({highlighter:o=null,accessibilityManager:l=null,isOffscreenCanvasSupported:g=!0,enablePermissions:h=!1}){this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=o,this.accessibilityManager=l,this.isOffscreenCanvasSupported=g,this.#e=h===!0,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}#a(){this.renderingDone=!0;let o=document.createElement("div");o.className="endOfContent",this.div.append(o),this.#s()}get numTextDivs(){return this.textDivs.length}render(o){return oe(this,null,function*(){if(!this.#i)throw new Error('No "textContentSource" parameter specified.');let l=o.scale*(globalThis.devicePixelRatio||1),{rotation:g}=o;if(this.renderingDone){let h=g!==this.#t,d=l!==this.#n;(h||d)&&(this.hide(),(0,u.updateTextLayer)({container:this.div,viewport:o,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:d,mustRotate:h}),this.#n=l,this.#t=g),this.show();return}this.cancel(),this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,u.renderTextLayer)({textContentSource:this.#i,container:this.div,viewport:o,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),yield this.textLayerRenderTask.promise,this.#a(),this.#n=l,this.#t=g,this.show(),this.accessibilityManager?.enable()})}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(o){this.cancel(),this.#i=o}#s(){let{div:o}=this;o.addEventListener("mousedown",l=>{let g=o.querySelector(".endOfContent");if(!g)return;let h=l.target!==o;if(h&&=getComputedStyle(g).getPropertyValue("-moz-user-select")!=="none",h){let d=o.getBoundingClientRect(),v=Math.max(0,(l.pageY-d.top)/d.height);g.style.top=(v*100).toFixed(2)+"%"}g.classList.add("active")}),o.addEventListener("mouseup",()=>{let l=o.querySelector(".endOfContent");l&&(l.style.top="",l.classList.remove("active"))}),o.addEventListener("copy",l=>{if(!this.#e){let g=document.getSelection();l.clipboardData.setData("text/plain",(0,f.removeNullCharacters)((0,u.normalizeUnicode)(g.toString())))}l.preventDefault(),l.stopPropagation()})}}s.TextLayerBuilder=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var u=a(4);class f{constructor({pageDiv:c,pdfPage:o,annotationStorage:l=null,linkService:g,xfaHtml:h=null}){this.pageDiv=c,this.pdfPage=o,this.annotationStorage=l,this.linkService=g,this.xfaHtml=h,this.div=null,this._cancelled=!1}render(c,o="display"){return oe(this,null,function*(){if(o==="print"){let h={viewport:c.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:o},d=document.createElement("div");return this.pageDiv.append(d),h.div=d,u.XfaLayer.render(h)}let l=yield this.pdfPage.getXfa();if(this._cancelled||!l)return{textDivs:[]};let g={viewport:c.clone({dontFlip:!0}),div:this.div,xfaHtml:l,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:o};return this.div?u.XfaLayer.update(g):(this.div=document.createElement("div"),this.pageDiv.append(this.div),g.div=this.div,u.XfaLayer.render(g))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=f},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var u=a(22),f=a(23);class p extends f.PDFScriptingManager{constructor(o){o.externalServices||window.addEventListener("updatefromsandbox",l=>{o.eventBus.dispatch("updatefromsandbox",{source:window,detail:l.detail})}),o.externalServices||={createScripting:({sandboxBundleSrc:l})=>new u.GenericScripting(l)},o.docProperties||=l=>(0,u.docProperties)(l),super(o)}}s.PDFScriptingManager=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docProperties=f;var u=a(4);function f(c){return oe(this,null,function*(){let o="",l=o.split("#")[0],{info:g,metadata:h,contentDispositionFilename:d,contentLength:v}=yield c.getMetadata();if(!v){let{length:y}=yield c.getDownloadInfo();v=y}return Ke(Ve({},g),{baseURL:l,filesize:v,filename:d||(0,u.getPdfFilenameFromUrl)(o),metadata:h?.getRaw(),authors:h?.get("dc:creator"),numPages:c.numPages,URL:o})})}class p{constructor(o){this._ready=(0,u.loadScript)(o,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(o){return oe(this,null,function*(){(yield this._ready).create(o)})}dispatchEventInSandbox(o){return oe(this,null,function*(){let l=yield this._ready;setTimeout(()=>l.dispatchEvent(o),0)})}destroySandbox(){return oe(this,null,function*(){(yield this._ready).nukeSandbox()})}}s.GenericScripting=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var u=a(2),f=a(4);class p{#e=null;#t=null;#n=null;#i=null;#a=null;#s=null;#o=null;#l=!1;#c=null;#r=null;#u=null;constructor({eventBus:o,sandboxBundleSrc:l=null,externalServices:g=null,docProperties:h=null}){this.#i=o,this.#c=l,this.#a=g,this.#n=h}setViewer(o){this.#o=o}setDocument(o){return oe(this,null,function*(){if(this.#s&&(yield this.#m()),this.#s=o,!o)return;let[l,g,h]=yield Promise.all([o.getFieldObjects(),o.getCalculationOrderIds(),o.getJSActions()]);if(!l&&!h){yield this.#m();return}if(o===this.#s){try{this.#r=this.#g()}catch(d){console.error(`setDocument: "${d.message}".`),yield this.#m();return}this._internalEvents.set("updatefromsandbox",d=>{d?.source===window&&this.#d(d.detail)}),this._internalEvents.set("dispatcheventinsandbox",d=>{this.#r?.dispatchEventInSandbox(d.detail)}),this._internalEvents.set("pagechanging",({pageNumber:d,previous:v})=>{d!==v&&(this.#p(v),this.#f(d))}),this._internalEvents.set("pagerendered",({pageNumber:d})=>{this._pageOpenPending.has(d)&&d===this.#o.currentPageNumber&&this.#f(d)}),this._internalEvents.set("pagesdestroy",()=>oe(this,null,function*(){yield this.#p(this.#o.currentPageNumber),yield this.#r?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}));for(let[d,v]of this._internalEvents)this.#i._on(d,v);try{let d=yield this.#n(o);if(o!==this.#s)return;yield this.#r.createSandbox({objects:l,calculationOrder:g,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Ke(Ve({},d),{actions:h})}),this.#i.dispatch("sandboxcreated",{source:this})}catch(d){console.error(`setDocument: "${d.message}".`),yield this.#m();return}yield this.#r?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#f(this.#o.currentPageNumber,!0),Promise.resolve().then(()=>{o===this.#s&&(this.#l=!0)})}})}dispatchWillSave(){return oe(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return oe(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return oe(this,null,function*(){if(this.#r){yield this.#u?.promise,this.#u=new f.PromiseCapability;try{yield this.#r.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(o){throw this.#u.resolve(),this.#u=null,o}yield this.#u.promise}})}dispatchDidPrint(){return oe(this,null,function*(){return this.#r?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#l}get _internalEvents(){return(0,f.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,f.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,f.shadow)(this,"_visitedPages",new Map)}#d(o){return oe(this,null,function*(){let l=this.#o,g=l.isInPresentationMode||l.isChangingPresentationMode,{id:h,siblings:d,command:v,value:y}=o;if(!h){switch(v){case"clear":console.clear();break;case"error":console.error(y);break;case"layout":if(!g){let m=(0,u.apiPageLayoutToViewerModes)(y);l.spreadMode=m.spreadMode}break;case"page-num":l.currentPageNumber=y+1;break;case"print":yield l.pagesPromise,this.#i.dispatch("print",{source:this});break;case"println":console.log(y);break;case"zoom":g||(l.currentScaleValue=y);break;case"SaveAs":this.#i.dispatch("download",{source:this});break;case"FirstPage":l.currentPageNumber=1;break;case"LastPage":l.currentPageNumber=l.pagesCount;break;case"NextPage":l.nextPage();break;case"PrevPage":l.previousPage();break;case"ZoomViewIn":g||l.increaseScale();break;case"ZoomViewOut":g||l.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(g&&o.focus)return;delete o.id,delete o.siblings;let D=d?[h,...d]:[h];for(let m of D){let _=document.querySelector(`[data-element-id="${m}"]`);_?_.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:o})):this.#s?.annotationStorage.setValue(m,o)}})}#f(o,l=!1){return oe(this,null,function*(){let g=this.#s,h=this._visitedPages;if(l&&(this.#e=new f.PromiseCapability),!this.#e)return;let d=this.#o.getPageView(o-1);if(d?.renderingState!==u.RenderingStates.FINISHED){this._pageOpenPending.add(o);return}this._pageOpenPending.delete(o);let v=oe(this,null,function*(){let y=yield h.has(o)?null:d.pdfPage?.getJSActions();g===this.#s&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:o,actions:y}))});h.set(o,v)})}#p(o){return oe(this,null,function*(){let l=this.#s,g=this._visitedPages;if(!this.#e||this._pageOpenPending.has(o))return;let h=g.get(o);h&&(g.set(o,null),yield h,l===this.#s&&(yield this.#r?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:o})))})}#g(){if(this.#t=new f.PromiseCapability,this.#r)throw new Error("#initScripting: Scripting already exists.");return this.#a.createScripting({sandboxBundleSrc:this.#c})}#m(){return oe(this,null,function*(){if(!this.#r){this.#s=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(o=>{setTimeout(o,1e3)})]).catch(()=>{}),this.#e=null),this.#s=null;try{yield this.#r.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null;for(let[o,l]of this._internalEvents)this.#i._off(o,l);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this.#r=null,this.#l=!1,this.#t?.resolve()})}}s.PDFScriptingManager=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFSinglePageViewer=void 0;var u=a(2),f=a(25);class p extends f.PDFViewer{_resetView(){super._resetView(),this._scrollMode=u.ScrollMode.PAGE,this._spreadMode=u.SpreadMode.NONE}set scrollMode(o){}_updateScrollMode(){}set spreadMode(o){}_updateSpreadMode(){}}s.PDFSinglePageViewer=p},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFViewer=s.PDFPageViewBuffer=void 0;var u=a(4),f=a(2),p=a(7),c=a(13),o=a(26),l=a(5);let g=10,h={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=h;function d(D){return Object.values(u.AnnotationEditorType).includes(D)&&D!==u.AnnotationEditorType.DISABLE}class v{#e=new Set;#t=0;constructor(m){this.#t=m}push(m){let _=this.#e;_.has(m)&&_.delete(m),_.add(m),_.size>this.#t&&this.#n()}resize(m,_=null){this.#t=m;let w=this.#e;if(_){let S=w.size,I=1;for(let R of w)if(_.has(R.id)&&(w.delete(R),w.add(R)),++I>S)break}for(;w.size>this.#t;)this.#n()}has(m){return this.#e.has(m)}[Symbol.iterator](){return this.#e.keys()}#n(){let m=this.#e.keys().next().value;m?.destroy(),this.#e.delete(m)}}s.PDFPageViewBuffer=v;class y{#e=null;#t=null;#n=u.AnnotationEditorType.NONE;#i=null;#a=u.AnnotationMode.ENABLE_FORMS;#s=null;#o=null;#l=!1;#c=!1;#r=null;#u=!1;#d=0;#f=new ResizeObserver(this.#S.bind(this));#p=null;#g=null;#m=null;#y=f.TextLayerMode.ENABLE;constructor(m){let _="3.11.174";if(u.version!==_)throw new Error(`The API version "${u.version}" does not match the Viewer version "${_}".`);if(this.container=m.container,this.viewer=m.viewer||m.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#f.observe(this.container),this.eventBus=m.eventBus,this.linkService=m.linkService||new l.SimpleLinkService,this.downloadManager=m.downloadManager||null,this.findController=m.findController||null,this.#t=m.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=w=>this._getVisiblePages().ids.has(w)),this._scriptingManager=m.scriptingManager||null,this.#y=m.textLayerMode??f.TextLayerMode.ENABLE,this.#a=m.annotationMode??u.AnnotationMode.ENABLE_FORMS,this.#n=m.annotationEditorMode??u.AnnotationEditorType.NONE,this.imageResourcesPath=m.imageResourcesPath||"",this.enablePrintAutoRotate=m.enablePrintAutoRotate||!1,this.removePageBorders=m.removePageBorders||!1,m.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),m.maxCanvasPixels=0),this.isOffscreenCanvasSupported=m.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=m.maxCanvasPixels,this.l10n=m.l10n||p.NullL10n,this.#l=m.enablePermissions||!1,this.pageColors=m.pageColors||null,this.defaultRenderingQueue=!m.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=m.renderingQueue,this.scroll=(0,f.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=f.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#A(),this.eventBus._on("thumbnailrendered",({pageNumber:w,pdfPage:S})=>{let I=this._pages[w-1];this.#e.has(I)||S?.cleanup()})}get pagesCount(){return this._pages.length}getPageView(m){return this._pages[m]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(m=>m?.pdfPage)}get renderForms(){return this.#a===u.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(m){if(!Number.isInteger(m))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(m,!0)||console.error(`currentPageNumber: "${m}" is not a valid page.`))}_setCurrentPageNumber(m,_=!1){if(this._currentPageNumber===m)return _&&this.#I(),!0;if(!(0<m&&m<=this.pagesCount))return!1;let w=this._currentPageNumber;return this._currentPageNumber=m,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:m,pageLabel:this._pageLabels?.[m-1]??null,previous:w}),_&&this.#I(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(m){if(!this.pdfDocument)return;let _=m|0;if(this._pageLabels){let w=this._pageLabels.indexOf(m);w>=0&&(_=w+1)}this._setCurrentPageNumber(_,!0)||console.error(`currentPageLabel: "${m}" is not a valid page.`)}get currentScale(){return this._currentScale!==f.UNKNOWN_SCALE?this._currentScale:f.DEFAULT_SCALE}set currentScale(m){if(isNaN(m))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#_(m,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(m){this.pdfDocument&&this.#_(m,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(m){if(!(0,f.isValidRotation)(m))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(m%=360,m<0&&(m+=360),this._pagesRotation===m))return;this._pagesRotation=m;let _=this._currentPageNumber;this.refresh(!0,{rotation:m}),this._currentScaleValue&&this.#_(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:m,pageNumber:_}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(){let m=this;return{get annotationEditorUIManager(){return m.#i},get annotationStorage(){return m.pdfDocument?.annotationStorage},get downloadManager(){return m.downloadManager},get enableScripting(){return!!m._scriptingManager},get fieldObjectsPromise(){return m.pdfDocument?.getFieldObjects()},get findController(){return m.findController},get hasJSActionsPromise(){return m.pdfDocument?.hasJSActions()},get linkService(){return m.linkService}}}#v(m){let _={annotationEditorMode:this.#n,annotationMode:this.#a,textLayerMode:this.#y};return m&&(!m.includes(u.PermissionFlag.COPY)&&this.#y===f.TextLayerMode.ENABLE&&(_.textLayerMode=f.TextLayerMode.ENABLE_PERMISSIONS),m.includes(u.PermissionFlag.MODIFY_CONTENTS)||(_.annotationEditorMode=u.AnnotationEditorType.DISABLE),!m.includes(u.PermissionFlag.MODIFY_ANNOTATIONS)&&!m.includes(u.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#a===u.AnnotationMode.ENABLE_FORMS&&(_.annotationMode=u.AnnotationMode.ENABLE)),_}#C(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let m=new Promise(_=>{this.#g=()=>{document.visibilityState==="hidden"&&(_(),document.removeEventListener("visibilitychange",this.#g),this.#g=null)},document.addEventListener("visibilitychange",this.#g)});return Promise.race([this._onePageRenderedCapability.promise,m])}getAllText(){return oe(this,null,function*(){let m=[],_=[];for(let w=1,S=this.pdfDocument.numPages;w<=S;++w){if(this.#u)return null;_.length=0;let I=yield this.pdfDocument.getPage(w),{items:R}=yield I.getTextContent();for(let O of R)O.str&&_.push(O.str),O.hasEOL&&_.push(`
`);m.push((0,f.removeNullCharacters)(_.join("")))}return m.join(`
`)})}#b(m,_){let w=document.getSelection(),{focusNode:S,anchorNode:I}=w;if(I&&S&&w.containsNode(this.#r)){if(this.#c||m===f.TextLayerMode.ENABLE_PERMISSIONS){_.preventDefault(),_.stopPropagation();return}this.#c=!0;let R=this.container.style.cursor;this.container.style.cursor="wait";let O=H=>this.#u=H.key==="Escape";window.addEventListener("keydown",O),this.getAllText().then(H=>oe(this,null,function*(){H!==null&&(yield navigator.clipboard.writeText(H))})).catch(H=>{console.warn(`Something goes wrong when extracting the text: ${H.message}`)}).finally(()=>{this.#c=!1,this.#u=!1,window.removeEventListener("keydown",O),this.container.style.cursor=R}),_.preventDefault(),_.stopPropagation()}}setDocument(m){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#i&&(this.#i.destroy(),this.#i=null)),this.pdfDocument=m,!m)return;let _=m.numPages,w=m.getPage(1),S=m.getOptionalContentConfig(),I=this.#l?m.getPermissions():Promise.resolve();if(_>h.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let R=this._scrollMode=f.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:R})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:_})},()=>{}),this._onBeforeDraw=R=>{let O=this._pages[R.pageNumber-1];O&&this.#e.push(O)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=R=>{R.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:R.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([w,I]).then(([R,O])=>{if(m!==this.pdfDocument)return;this._firstPageCapability.resolve(R),this._optionalContentConfigPromise=S;let{annotationEditorMode:H,annotationMode:z,textLayerMode:G}=this.#v(O);if(G!==f.TextLayerMode.DISABLE){let b=this.#r=document.createElement("div");b.id="hiddenCopyElement",this.viewer.before(b)}if(H!==u.AnnotationEditorType.DISABLE){let b=H;m.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):d(b)?(this.#i=new u.AnnotationEditorUIManager(this.container,this.viewer,this.#t,this.eventBus,m,this.pageColors),b!==u.AnnotationEditorType.NONE&&this.#i.updateMode(b)):console.error(`Invalid AnnotationEditor mode: ${b}`)}let Q=this.#h.bind(this),X=this._scrollMode===f.ScrollMode.PAGE?null:this.viewer,B=this.currentScale,U=R.getViewport({scale:B*u.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",U.scale),(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",m.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let b=1;b<=_;++b){let A=new c.PDFPageView({container:X,eventBus:this.eventBus,id:b,scale:B,defaultViewport:U.clone(),optionalContentConfigPromise:S,renderingQueue:this.renderingQueue,textLayerMode:G,annotationMode:z,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:Q});this._pages.push(A)}let P=this._pages[0];P&&(P.setPdfPage(R),this.linkService.cachePageRef(1,R.ref)),this._scrollMode===f.ScrollMode.PAGE?this.#E():this._spreadMode!==f.SpreadMode.NONE&&this._updateSpreadMode(),this.#C().then(()=>oe(this,null,function*(){if(this.findController?.setDocument(m),this._scriptingManager?.setDocument(m),this.#r&&(this.#o=this.#b.bind(this,G),document.addEventListener("copy",this.#o)),this.#i&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#n}),m.loadingParams.disableAutoFetch||_>h.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let b=_-1;if(b<=0){this._pagesCapability.resolve();return}for(let A=2;A<=_;++A){let C=m.getPage(A).then(M=>{let k=this._pages[A-1];k.pdfPage||k.setPdfPage(M),this.linkService.cachePageRef(A,M.ref),--b===0&&this._pagesCapability.resolve()},M=>{console.error(`Unable to get page ${A} to initialize viewer`,M),--b===0&&this._pagesCapability.resolve()});A%h.PAUSE_EAGER_PAGE_INIT===0&&(yield C)}})),this.eventBus.dispatch("pagesinit",{source:this}),m.getMetadata().then(({info:b})=>{m===this.pdfDocument&&b.Language&&(this.viewer.lang=b.Language)}),this.defaultRenderingQueue&&this.update()}).catch(R=>{console.error("Unable to initialize viewer",R),this._pagesCapability.reject(R)})}setPageLabels(m){if(this.pdfDocument){m?Array.isArray(m)&&this.pdfDocument.numPages===m.length?this._pageLabels=m:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let _=0,w=this._pages.length;_<w;_++)this._pages[_].setPageLabel(this._pageLabels?.[_]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=f.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new v(g),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new u.PromiseCapability,this._onePageRenderedCapability=new u.PromiseCapability,this._pagesCapability=new u.PromiseCapability,this._scrollMode=f.ScrollMode.VERTICAL,this._previousScrollMode=f.ScrollMode.UNKNOWN,this._spreadMode=f.SpreadMode.NONE,this.#p={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#r&&(document.removeEventListener("copy",this.#o),this.#o=null,this.#r.remove(),this.#r=null)}#E(){if(this._scrollMode!==f.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let m=this._currentPageNumber,_=this.#p,w=this.viewer;if(w.textContent="",_.pages.length=0,this._spreadMode===f.SpreadMode.NONE&&!this.isInPresentationMode){let S=this._pages[m-1];w.append(S.div),_.pages.push(S)}else{let S=new Set,I=this._spreadMode-1;I===-1?S.add(m-1):m%2!==I?(S.add(m-1),S.add(m)):(S.add(m-2),S.add(m-1));let R=document.createElement("div");if(R.className="spread",this.isInPresentationMode){let O=document.createElement("div");O.className="dummyPage",R.append(O)}for(let O of S){let H=this._pages[O];H&&(R.append(H.div),_.pages.push(H))}w.append(R)}_.scrollDown=m>=_.previousPageNumber,_.previousPageNumber=m}_scrollUpdate(){this.pagesCount!==0&&this.update()}#w(m,_=null){let{div:w,id:S}=m;if(this._currentPageNumber!==S&&this._setCurrentPageNumber(S),this._scrollMode===f.ScrollMode.PAGE&&(this.#E(),this.update()),!_&&!this.isInPresentationMode){let I=w.offsetLeft+w.clientLeft,R=I+w.clientWidth,{scrollLeft:O,clientWidth:H}=this.container;(this._scrollMode===f.ScrollMode.HORIZONTAL||I<O||R>O+H)&&(_={left:0,top:0})}(0,f.scrollIntoView)(w,_),!this._currentScaleValue&&this._location&&(this._location=null)}#O(m){return m===this._currentScale||Math.abs(m-this._currentScale)<1e-15}#R(m,_,{noScroll:w=!1,preset:S=!1,drawingDelay:I=-1}){if(this._currentScaleValue=_.toString(),this.#O(m)){S&&this.eventBus.dispatch("scalechanging",{source:this,scale:m,presetValue:_});return}this.viewer.style.setProperty("--scale-factor",m*u.PixelsPerInch.PDF_TO_CSS_UNITS);let R=I>=0&&I<1e3;if(this.refresh(!0,{scale:m,drawingDelay:R?I:-1}),R&&(this.#m=setTimeout(()=>{this.#m=null,this.refresh()},I)),this._currentScale=m,!w){let O=this._currentPageNumber,H;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(O=this._location.pageNumber,H=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:O,destArray:H,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:m,presetValue:S?_:void 0}),this.defaultRenderingQueue&&this.update()}get#N(){return this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL?2:1}#_(m,_){let w=parseFloat(m);if(w>0)_.preset=!1,this.#R(w,m,_);else{let S=this._pages[this._currentPageNumber-1];if(!S)return;let I=f.SCROLLBAR_PADDING,R=f.VERTICAL_PADDING;this.isInPresentationMode?(I=R=4,this._spreadMode!==f.SpreadMode.NONE&&(I*=2)):this.removePageBorders?I=R=0:this._scrollMode===f.ScrollMode.HORIZONTAL&&([I,R]=[R,I]);let O=(this.container.clientWidth-I)/S.width*S.scale/this.#N,H=(this.container.clientHeight-R)/S.height*S.scale;switch(m){case"page-actual":w=1;break;case"page-width":w=O;break;case"page-height":w=H;break;case"page-fit":w=Math.min(O,H);break;case"auto":let z=(0,f.isPortraitOrientation)(S)?O:Math.min(H,O);w=Math.min(f.MAX_AUTO_SCALE,z);break;default:console.error(`#setScale: "${m}" is an unknown zoom value.`);return}_.preset=!0,this.#R(w,m,_)}}#I(){let m=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#_(this._currentScaleValue,{noScroll:!0}),this.#w(m)}pageLabelToPageNumber(m){if(!this._pageLabels)return null;let _=this._pageLabels.indexOf(m);return _<0?null:_+1}scrollPageIntoView({pageNumber:m,destArray:_=null,allowNegativeOffset:w=!1,ignoreDestinationZoom:S=!1}){if(!this.pdfDocument)return;let I=Number.isInteger(m)&&this._pages[m-1];if(!I){console.error(`scrollPageIntoView: "${m}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!_){this._setCurrentPageNumber(m,!0);return}let R=0,O=0,H=0,z=0,G,Q,X=I.rotation%180!==0,B=(X?I.height:I.width)/I.scale/u.PixelsPerInch.PDF_TO_CSS_UNITS,U=(X?I.width:I.height)/I.scale/u.PixelsPerInch.PDF_TO_CSS_UNITS,P=0;switch(_[1].name){case"XYZ":R=_[2],O=_[3],P=_[4],R=R!==null?R:0,O=O!==null?O:U;break;case"Fit":case"FitB":P="page-fit";break;case"FitH":case"FitBH":O=_[2],P="page-width",O===null&&this._location?(R=this._location.left,O=this._location.top):(typeof O!="number"||O<0)&&(O=U);break;case"FitV":case"FitBV":R=_[2],H=B,z=U,P="page-height";break;case"FitR":R=_[2],O=_[3],H=_[4]-R,z=_[5]-O;let M=f.SCROLLBAR_PADDING,k=f.VERTICAL_PADDING;this.removePageBorders&&(M=k=0),G=(this.container.clientWidth-M)/H/u.PixelsPerInch.PDF_TO_CSS_UNITS,Q=(this.container.clientHeight-k)/z/u.PixelsPerInch.PDF_TO_CSS_UNITS,P=Math.min(Math.abs(G),Math.abs(Q));break;default:console.error(`scrollPageIntoView: "${_[1].name}" is not a valid destination type.`);return}if(S||(P&&P!==this._currentScale?this.currentScaleValue=P:this._currentScale===f.UNKNOWN_SCALE&&(this.currentScaleValue=f.DEFAULT_SCALE_VALUE)),P==="page-fit"&&!_[4]){this.#w(I);return}let b=[I.viewport.convertToViewportPoint(R,O),I.viewport.convertToViewportPoint(R+H,O+z)],A=Math.min(b[0][0],b[1][0]),C=Math.min(b[0][1],b[1][1]);w||(A=Math.max(A,0),C=Math.max(C,0)),this.#w(I,{left:A,top:C})}_updateLocation(m){let _=this._currentScale,w=this._currentScaleValue,S=parseFloat(w)===_?Math.round(_*1e4)/100:w,I=m.id,R=this._pages[I-1],O=this.container,H=R.getPagePoint(O.scrollLeft-m.x,O.scrollTop-m.y),z=Math.round(H[0]),G=Math.round(H[1]),Q=`#page=${I}`;this.isInPresentationMode||(Q+=`&zoom=${S},${z},${G}`),this._location={pageNumber:I,scale:S,top:G,left:z,rotation:this._pagesRotation,pdfOpenParams:Q}}update(){let m=this._getVisiblePages(),_=m.views,w=_.length;if(w===0)return;let S=Math.max(g,2*w+1);this.#e.resize(S,m.ids),this.renderingQueue.renderHighestPriority(m);let I=this._spreadMode===f.SpreadMode.NONE&&(this._scrollMode===f.ScrollMode.PAGE||this._scrollMode===f.ScrollMode.VERTICAL),R=this._currentPageNumber,O=!1;for(let H of _){if(H.percent<100)break;if(H.id===R&&I){O=!0;break}}this._setCurrentPageNumber(O?R:_[0].id),this._updateLocation(m.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(m){return this.container.contains(m)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===f.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===f.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let m=this._scrollMode===f.ScrollMode.PAGE?this.#p.pages:this._pages,_=this._scrollMode===f.ScrollMode.HORIZONTAL,w=_&&this._isContainerRtl;return(0,f.getVisibleElements)({scrollEl:this.container,views:m,sortByVisibility:!0,horizontal:_,rtl:w})}cleanup(){for(let m of this._pages)m.renderingState!==f.RenderingStates.FINISHED&&m.reset()}_cancelRendering(){for(let m of this._pages)m.cancelRendering()}#M(m){return oe(this,null,function*(){if(m.pdfPage)return m.pdfPage;try{let _=yield this.pdfDocument.getPage(m.id);return m.pdfPage||m.setPdfPage(_),this.linkService._cachedPageNumber?.(_.ref)||this.linkService.cachePageRef(m.id,_.ref),_}catch(_){return console.error("Unable to get page for page view",_),null}})}#x(m){if(m.first?.id===1)return!0;if(m.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case f.ScrollMode.PAGE:return this.#p.scrollDown;case f.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(m){let _=m||this._getVisiblePages(),w=this.#x(_),S=this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL,I=this.renderingQueue.getHighestPriority(_,this._pages,w,S);return I?(this.#M(I).then(()=>{this.renderingQueue.renderView(I)}),!0):!1}get hasEqualPageSizes(){let m=this._pages[0];for(let _=1,w=this._pages.length;_<w;++_){let S=this._pages[_];if(S.width!==m.width||S.height!==m.height)return!1}return!0}getPagesOverview(){let m;return this._pages.map(_=>{let w=_.pdfPage.getViewport({scale:1}),S=(0,f.isPortraitOrientation)(w);if(m===void 0)m=S;else if(this.enablePrintAutoRotate&&S!==m)return{width:w.height,height:w.width,rotation:(w.rotation-90)%360};return{width:w.width,height:w.height,rotation:w.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(m){if(!(m instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${m}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=m,this.refresh(!1,{optionalContentConfigPromise:m}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:m}))}get scrollMode(){return this._scrollMode}set scrollMode(m){if(this._scrollMode!==m){if(!(0,f.isValidScrollMode)(m))throw new Error(`Invalid scroll mode: ${m}`);this.pagesCount>h.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=m,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:m}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(m=null){let _=this._scrollMode,w=this.viewer;w.classList.toggle("scrollHorizontal",_===f.ScrollMode.HORIZONTAL),w.classList.toggle("scrollWrapped",_===f.ScrollMode.WRAPPED),!(!this.pdfDocument||!m)&&(_===f.ScrollMode.PAGE?this.#E():this._previousScrollMode===f.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#_(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(m,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(m){if(this._spreadMode!==m){if(!(0,f.isValidSpreadMode)(m))throw new Error(`Invalid spread mode: ${m}`);this._spreadMode=m,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:m}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(m=null){if(!this.pdfDocument)return;let _=this.viewer,w=this._pages;if(this._scrollMode===f.ScrollMode.PAGE)this.#E();else if(_.textContent="",this._spreadMode===f.SpreadMode.NONE)for(let S of this._pages)_.append(S.div);else{let S=this._spreadMode-1,I=null;for(let R=0,O=w.length;R<O;++R)I===null?(I=document.createElement("div"),I.className="spread",_.append(I)):R%2===S&&(I=I.cloneNode(!1),_.append(I)),I.append(w[R].div)}m&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#_(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(m,!0),this.update())}_getPageAdvance(m,_=!1){switch(this._scrollMode){case f.ScrollMode.WRAPPED:{let{views:w}=this._getVisiblePages(),S=new Map;for(let{id:I,y:R,percent:O,widthPercent:H}of w){if(O===0||H<100)continue;let z=S.get(R);z||S.set(R,z||=[]),z.push(I)}for(let I of S.values()){let R=I.indexOf(m);if(R===-1)continue;let O=I.length;if(O===1)break;if(_)for(let H=R-1,z=0;H>=z;H--){let G=I[H],Q=I[H+1]-1;if(G<Q)return m-Q}else for(let H=R+1,z=O;H<z;H++){let G=I[H],Q=I[H-1]+1;if(G>Q)return Q-m}if(_){let H=I[0];if(H<m)return m-H+1}else{let H=I[O-1];if(H>m)return H-m+1}break}break}case f.ScrollMode.HORIZONTAL:break;case f.ScrollMode.PAGE:case f.ScrollMode.VERTICAL:{if(this._spreadMode===f.SpreadMode.NONE)break;let w=this._spreadMode-1;if(_&&m%2!==w)break;if(!_&&m%2===w)break;let{views:S}=this._getVisiblePages(),I=_?m-1:m+1;for(let{id:R,percent:O,widthPercent:H}of S)if(R===I){if(O>0&&H===100)return 2;break}break}}return 1}nextPage(){let m=this._currentPageNumber,_=this.pagesCount;if(m>=_)return!1;let w=this._getPageAdvance(m,!1)||1;return this.currentPageNumber=Math.min(m+w,_),!0}previousPage(){let m=this._currentPageNumber;if(m<=1)return!1;let _=this._getPageAdvance(m,!0)||1;return this.currentPageNumber=Math.max(m-_,1),!0}increaseScale({drawingDelay:m,scaleFactor:_,steps:w}={}){if(!this.pdfDocument)return;let S=this._currentScale;if(_>1)S=Math.round(S*_*100)/100;else{w??=1;do S=Math.ceil((S*f.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--w>0&&S<f.MAX_SCALE)}this.#_(Math.min(f.MAX_SCALE,S),{noScroll:!1,drawingDelay:m})}decreaseScale({drawingDelay:m,scaleFactor:_,steps:w}={}){if(!this.pdfDocument)return;let S=this._currentScale;if(_>0&&_<1)S=Math.round(S*_*100)/100;else{w??=1;do S=Math.floor((S/f.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--w>0&&S>f.MIN_SCALE)}this.#_(Math.max(f.MIN_SCALE,S),{noScroll:!1,drawingDelay:m})}#A(m=this.container.clientHeight){m!==this.#d&&(this.#d=m,f.docStyle.setProperty("--viewer-container-height",`${m}px`))}#S(m){for(let _ of m)if(_.target===this.container){this.#A(Math.floor(_.borderBoxSize[0].blockSize)),this.#s=null;break}}get containerTopLeft(){return this.#s||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return this.#i?this.#n:u.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:m,editId:_=null}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");if(this.#n!==m){if(!d(m))throw new Error(`Invalid AnnotationEditor mode: ${m}`);this.pdfDocument&&(this.#n=m,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:m}),this.#i.updateMode(m,_))}}set annotationEditorParams({type:m,value:_}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");this.#i.updateParams(m,_)}refresh(m=!1,_=Object.create(null)){if(this.pdfDocument){for(let w of this._pages)w.update(_);this.#m!==null&&(clearTimeout(this.#m),this.#m=null),m||this.update()}}}s.PDFViewer=y},(r,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var u=a(4),f=a(2);let p=3e4;class c{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(l){this.pdfViewer=l}setThumbnailViewer(l){this.pdfThumbnailViewer=l}isHighestPriority(l){return this.highestPriorityPage===l.renderingId}renderHighestPriority(l){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(l)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),p)))}getHighestPriority(l,g,h,d=!1){let v=l.views,y=v.length;if(y===0)return null;for(let S=0;S<y;S++){let I=v[S].view;if(!this.isViewFinished(I))return I}let D=l.first.id,m=l.last.id;if(m-D+1>y){let S=l.ids;for(let I=1,R=m-D;I<R;I++){let O=h?D+I:m-I;if(S.has(O))continue;let H=g[O-1];if(!this.isViewFinished(H))return H}}let _=h?m:D-2,w=g[_];return w&&!this.isViewFinished(w)||d&&(_+=h?1:-1,w=g[_],w&&!this.isViewFinished(w))?w:null}isViewFinished(l){return l.renderingState===f.RenderingStates.FINISHED}renderView(l){switch(l.renderingState){case f.RenderingStates.FINISHED:return!1;case f.RenderingStates.PAUSED:this.highestPriorityPage=l.renderingId,l.resume();break;case f.RenderingStates.RUNNING:this.highestPriorityPage=l.renderingId;break;case f.RenderingStates.INITIAL:this.highestPriorityPage=l.renderingId,l.draw().finally(()=>{this.renderHighestPriority()}).catch(g=>{g instanceof u.RenderingCancelledException||console.error(`renderView: "${g}"`)});break}return!0}}s.PDFRenderingQueue=c}],e={};function n(r){var s=e[r];if(s!==void 0)return s.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}var i={};return(()=>{var r=i;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(r,"DownloadManager",{enumerable:!0,get:function(){return p.DownloadManager}}),Object.defineProperty(r,"EventBus",{enumerable:!0,get:function(){return c.EventBus}}),Object.defineProperty(r,"FindState",{enumerable:!0,get:function(){return s.FindState}}),Object.defineProperty(r,"GenericL10n",{enumerable:!0,get:function(){return o.GenericL10n}}),Object.defineProperty(r,"LinkTarget",{enumerable:!0,get:function(){return a.LinkTarget}}),Object.defineProperty(r,"NullL10n",{enumerable:!0,get:function(){return l.NullL10n}}),Object.defineProperty(r,"PDFFindController",{enumerable:!0,get:function(){return s.PDFFindController}}),Object.defineProperty(r,"PDFHistory",{enumerable:!0,get:function(){return g.PDFHistory}}),Object.defineProperty(r,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty(r,"PDFPageView",{enumerable:!0,get:function(){return h.PDFPageView}}),Object.defineProperty(r,"PDFScriptingManager",{enumerable:!0,get:function(){return d.PDFScriptingManager}}),Object.defineProperty(r,"PDFSinglePageViewer",{enumerable:!0,get:function(){return v.PDFSinglePageViewer}}),Object.defineProperty(r,"PDFViewer",{enumerable:!0,get:function(){return y.PDFViewer}}),Object.defineProperty(r,"ProgressBar",{enumerable:!0,get:function(){return u.ProgressBar}}),Object.defineProperty(r,"RenderingStates",{enumerable:!0,get:function(){return u.RenderingStates}}),Object.defineProperty(r,"ScrollMode",{enumerable:!0,get:function(){return u.ScrollMode}}),Object.defineProperty(r,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty(r,"SpreadMode",{enumerable:!0,get:function(){return u.SpreadMode}}),Object.defineProperty(r,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return D.StructTreeLayerBuilder}}),Object.defineProperty(r,"TextLayerBuilder",{enumerable:!0,get:function(){return m.TextLayerBuilder}}),Object.defineProperty(r,"XfaLayerBuilder",{enumerable:!0,get:function(){return _.XfaLayerBuilder}}),Object.defineProperty(r,"parseQueryString",{enumerable:!0,get:function(){return u.parseQueryString}});var s=n(1),a=n(5),u=n(2),f=n(6),p=n(8),c=n(9),o=n(10),l=n(7),g=n(12),h=n(13),d=n(21),v=n(24),y=n(25),D=n(16),m=n(19),_=n(20);let w="3.11.174",S="ce8716743"})(),i})())});function Ov(t,e){let n=new t.EventBus;return Nv(n,e),n}function Nv(t,e){Ce(t,"documentload").pipe(De(e)).subscribe(()=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(n)}),Ce(t,"pagerendered").pipe(De(e)).subscribe(({pageNumber:n,cssTransform:i,source:r})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:n,cssTransform:i}),r.div.dispatchEvent(s)}),Ce(t,"textlayerrendered").pipe(De(e)).subscribe(({pageNumber:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:n}),i.textLayerDiv?.dispatchEvent(r)}),Ce(t,"pagechanging").pipe(De(e)).subscribe(({pageNumber:n,source:i})=>{let r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=n,i.container.dispatchEvent(r)}),Ce(t,"pagesinit").pipe(De(e)).subscribe(({source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),n.container.dispatchEvent(i)}),Ce(t,"pagesloaded").pipe(De(e)).subscribe(({pagesCount:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:n}),i.container.dispatchEvent(r)}),Ce(t,"scalechange").pipe(De(e)).subscribe(({scale:n,presetValue:i,source:r})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=n,s.presetValue=i,r.container.dispatchEvent(s)}),Ce(t,"updateviewarea").pipe(De(e)).subscribe(({location:n,source:i})=>{let r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=n,i.container.dispatchEvent(r)}),Ce(t,"find").pipe(De(e)).subscribe(({source:n,type:i,query:r,phraseSearch:s,caseSensitive:a,highlightAll:u,findPrevious:f})=>{if(n===window)return;let p=document.createEvent("CustomEvent");p.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:a,highlightAll:u,findPrevious:f}),window.dispatchEvent(p)}),Ce(t,"attachmentsloaded").pipe(De(e)).subscribe(({attachmentsCount:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:n}),i.container.dispatchEvent(r)}),Ce(t,"sidebarviewchanged").pipe(De(e)).subscribe(({view:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:n}),i.outerContainer.dispatchEvent(r)}),Ce(t,"pagemode").pipe(De(e)).subscribe(({mode:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:n}),i.pdfViewer.container.dispatchEvent(r)}),Ce(t,"namedaction").pipe(De(e)).subscribe(({action:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:n}),i.pdfViewer.container.dispatchEvent(r)}),Ce(t,"presentationmodechanged").pipe(De(e)).subscribe(({active:n,switchInProgress:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:n,switchInProgress:i}),window.dispatchEvent(r)}),Ce(t,"outlineloaded").pipe(De(e)).subscribe(({outlineCount:n,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:n}),i.container.dispatchEvent(r)})}function Sa(t,e,n){t[e]=n}function gi(){return typeof window>"u"}var Ye,$e,Rv,Ia,ph,gh,Ma=le(()=>{"use strict";Wt();Wt();Yi();Xi();Ye=Ra(hh(),1),$e=Ra(fh(),1),Rv=["pdfViewerContainer"];gi()||Sa(Ye,"verbosity",Ye.VerbosityLevel.INFOS);Ia=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}(Ia||{}),ph=(()=>{class t{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof Ye<"u"?`https://unpkg.com/pdfjs-dist@${Ye.version}/cmaps/`:null;_imageResourcesPath=typeof Ye<"u"?`https://unpkg.com/pdfjs-dist@${Ye.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=Ia.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new nt;afterLoadComplete=new Qe;pageRendered=new Qe;pageInitialized=new Qe;textLayerRendered=new Qe;onError=new Qe;onProgress=new Qe;pageChange=new Qe(!0);src;set cMapsUrl(n){this._cMapsUrl=n}set page(n){n=parseInt(n,10)||1;let i=n;this._pdf&&(n=this.getValidPageNumber(n)),this._page=n,i!==n&&this.pageChange.emit(n)}set renderText(n){this._renderText=n}set renderTextMode(n){this._renderTextMode=n}set originalSize(n){this._originalSize=n}set showAll(n){this._showAll=n}set stickToPage(n){this._stickToPage=n}set zoom(n){n<=0||(this._zoom=n)}get zoom(){return this._zoom}set zoomScale(n){this._zoomScale=n}get zoomScale(){return this._zoomScale}set rotation(n){if(!(typeof n=="number"&&n%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=n}set externalLinkTarget(n){this._externalLinkTarget=n}set autoresize(n){this._canAutoResize=!!n}set fitToPage(n){this._fitToPage=!!n}set showBorders(n){this._showBorders=!!n}static getLinkTarget(n){switch(n){case"blank":return $e.LinkTarget.BLANK;case"none":return $e.LinkTarget.NONE;case"self":return $e.LinkTarget.SELF;case"parent":return $e.LinkTarget.PARENT;case"top":return $e.LinkTarget.TOP}return null}constructor(n,i){if(this.element=n,this.ngZone=i,gi())return;let r,s=Ye.version,a=window[`pdfWorkerSrc${s}`];a?r=a:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?r=window.pdfWorkerSrc:r=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`,Sa(Ye.GlobalWorkerOptions,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;let n=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&n==null){this.isVisible=!1;return}this.isVisible===!1&&n!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(n){if(!(gi()||!this.isVisible)){if("src"in n)this.loadPDF();else if(this._pdf){if(("renderText"in n||"showAll"in n)&&(this.setupViewer(),this.resetPdfDocument()),"page"in n){let{page:i}=n;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){pn(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(De(this.destroy$)).subscribe({next:n=>{let i=this._rotation+n.rotate,r=n.getViewport({scale:this._zoom,rotation:i}).width*t.CSS_UNITS,s=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){let u=n.getViewport({scale:1,rotation:i});s=this.getScale(u.width,u.height),a=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,a&&this.pdfViewer.scrollPageIntoView({pageNumber:n.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let n=t.getLinkTarget(this._externalLinkTarget);return n?{externalLinkTarget:n}:{}}initEventBus(){this.eventBus=Ov($e,this.destroy$),Ce(this.eventBus,"pagerendered").pipe(De(this.destroy$)).subscribe(n=>{this.pageRendered.emit(n)}),Ce(this.eventBus,"pagesinit").pipe(De(this.destroy$)).subscribe(n=>{this.pageInitialized.emit(n)}),Ce(this.eventBus,"pagechanging").pipe(De(this.destroy$)).subscribe(({pageNumber:n})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=n,this.pageChange.emit(n)},100)}),Ce(this.eventBus,"textlayerrendered").pipe(De(this.destroy$)).subscribe(n=>{this.textLayerRendered.emit(n)})}initPDFServices(){this.pdfLinkService=new $e.PDFLinkService(Ve({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new $e.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Ia.DISABLED,findController:this.pdfFindController,l10n:new $e.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:Ye.AnnotationEditorType.DISABLE}}setupViewer(){Sa(Ye,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new $e.PDFViewer(this.getPDFOptions()):this.pdfViewer=new $e.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(n){return n<1?1:n>this._pdf.numPages?this._pdf.numPages:n}getDocumentParams(){let n=typeof this.src;if(!this._cMapsUrl)return this.src;let i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return i.isEvalSupported=!1,n==="string"?i.url=this.src:n==="object"&&(this.src.byteLength!==void 0?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=Ye.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};let n=this.src;pn(this.loadingTask.promise).pipe(De(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=n,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(n,i){let r=this._showBorders?2*t.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,a=this.pdfViewerContainer.nativeElement.clientHeight-r;if(a===0||i===0||s===0||n===0)return 1;let u=1;switch(this._zoomScale){case"page-fit":u=Math.min(a/i,s/n);break;case"page-height":u=a/i;break;case"page-width":default:u=s/n;break}return this._zoom*u/t.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){gi()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){gi()||this.ngZone.runOutsideAngular(()=>{Ce(window,"resize").pipe(ys(100),ms(()=>this._canAutoResize&&!!this._pdf),De(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||t)(Rn(rn),Rn(Te))};static \u0275cmp=br({type:t,selectors:[["pdf-viewer"]],viewQuery:function(i,r){if(i&1&&Nd(Rv,5),i&2){let s;Fd(s=kd())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[je.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[je.None,"render-text","renderText"],renderTextMode:[je.None,"render-text-mode","renderTextMode"],originalSize:[je.None,"original-size","originalSize"],showAll:[je.None,"show-all","showAll"],stickToPage:[je.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[je.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[je.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[je.None,"fit-to-page","fitToPage"],showBorders:[je.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[xo],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,r){i&1&&(Nn(0,"div",1,0),ea(2,"div",2),Fn())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return t})(),gh=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Do({type:t});static \u0275inj=_o({})}return t})()});var mh,yh=le(()=>{"use strict";Ma();Wt();ya();Ma();mh=(()=>{let e=class e{constructor(i){this.sanitizer=i,this.pdfURL="",this.zoomto=1,this.pageVariable=1,this.originalsize=!0,this.fittopage=!0,this.showall=!0,this.rendertext=!0}ngOnInit(){}createSafeUrl(i){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}};e.\u0275fac=function(r){return new(r||e)(Rn(ma))},e.\u0275cmp=br({type:e,selectors:[["app-ng2-pdf-viewer"]],inputs:{pdfURL:"pdfURL",zoomto:"zoomto",pageVariable:"pageVariable",originalsize:"originalsize",fittopage:"fittopage",showall:"showall",rendertext:"rendertext"},standalone:!0,features:[Bd],decls:1,vars:7,consts:[[1,"pdf-height",3,"pageChange","src","zoom","render-text","original-size","fit-to-page","show-all","page"]],template:function(r,s){r&1&&(Nn(0,"pdf-viewer",0),na("pageChange",function(u){return Ld(s.pageVariable,u)||(s.pageVariable=u),u}),Fn()),r&2&&(Jo("src",s.pdfURL)("zoom",s.zoomto)("render-text",s.rendertext)("original-size",s.originalsize)("fit-to-page",s.fittopage)("show-all",s.showall),ta("page",s.pageVariable))},dependencies:[gh,ph],styles:[".pdf-height[_ngcontent-%COMP%]{height:100dvh;width:100%}"]});let t=e;return t})()});var kv=ft(vh=>{ya();sh();yh();oe(vh,null,function*(){let t=yield ih({providers:[]}),e=rh(mh,{injector:t.injector});customElements.define("pdf-viewernew",e)})});export default kv();
